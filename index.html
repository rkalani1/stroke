<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comprehensive Stroke Clinical Tool</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            margin: 0;
            padding: 0;
        }
        
        .glass-morphism {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .tab-button {
            position: relative;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .tab-button::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }
        
        .tab-button.active::after {
            transform: scaleX(1);
        }
        
        .tab-button:hover {
            background: rgba(102, 126, 234, 0.05);
        }
        
        .section-card {
            transition: all 0.3s ease;
            border: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        .section-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
        }
        
        .trial-card {
            transition: all 0.3s ease;
            background: white;
            border-radius: 12px;
            overflow: hidden;
        }
        
        .trial-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.12);
        }
        
        .gradient-text {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .score-display {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            font-weight: 600;
            display: inline-block;
        }
        
        .criteria-list li {
            position: relative;
            padding-left: 24px;
        }
        
        .criteria-list li::before {
            content: '•';
            position: absolute;
            left: 8px;
            color: #667eea;
            font-weight: bold;
        }
        
        .scroll-shadow {
            position: relative;
        }
        
        .scroll-shadow::before,
        .scroll-shadow::after {
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            height: 40px;
            pointer-events: none;
            z-index: 10;
        }
        
        .scroll-shadow::before {
            top: 0;
            background: linear-gradient(to bottom, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 100%);
        }
        
        .scroll-shadow::after {
            bottom: 0;
            background: linear-gradient(to top, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 100%);
        }
        
        input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: #667eea;
        }
        
        input[type="number"], 
        input[type="text"], 
        textarea, 
        select {
            transition: all 0.3s ease;
            border: 2px solid #e5e7eb;
        }
        
        input[type="number"]:focus, 
        input[type="text"]:focus, 
        textarea:focus, 
        select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .button-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 10px 24px;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
        }
        
        .button-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.3);
        }
        
        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .status-recruiting {
            background: rgba(34, 197, 94, 0.1);
            color: #16a34a;
        }
        
        .status-active {
            background: rgba(59, 130, 246, 0.1);
            color: #2563eb;
        }
        
        .status-completed {
            background: rgba(156, 163, 175, 0.1);
            color: #6b7280;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .fade-in {
            animation: fadeIn 0.3s ease-out;
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #5a67d8 0%, #6b3f8f 100%);
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect, useCallback } = React;
        
        const StrokeClinicalTool = () => {
          const [activeTab, setActiveTab] = useState('workflow');
          const [expandedTrials, setExpandedTrials] = useState({});
          const [nihssScore, setNihssScore] = useState(0);
          const [gcsScore, setGcsScore] = useState(15);
          const [ichScore, setIchScore] = useState(0);
          const [abcd2Score, setAbcd2Score] = useState(0);
          const [chads2vascScore, setChads2vascScore] = useState(0);
          const [ropeScore, setRopeScore] = useState(0);
          
          // State for various calculator inputs
          const [nihssItems, setNihssItems] = useState({});
          const [gcsItems, setGcsItems] = useState({eye: 4, verbal: 5, motor: 6});
          const [ichItems, setIchItems] = useState({});
          const [abcd2Items, setAbcd2Items] = useState({});
          const [chads2vascItems, setChads2vascItems] = useState({});
          const [ropeItems, setRopeItems] = useState({age: ''});
          
          // Trials data
          const trialsData = {
            ischemic: {
                title: "Ischemic Stroke Studies",
                color: "blue",
                icon: "brain",
                trials: [
                    {
                        name: "SISTER Trial",
                        nct: "NCT05948566",
                        phase: "Phase 2",
                        status: "recruiting",
                        description: "TS23 (monoclonal antibody to α2-antiplasmin) for late thrombolysis in acute ischemic stroke patients presenting 4.5-24 hours from last known well",
                        inclusion: [
                            "Age ≥18 years",
                            "Suspected anterior circulation acute ischemic stroke",
                            "NIH Stroke Scale score ≥4 prior to randomization",
                            "Time from last known well: 4.5-24 hours",
                            "Favorable baseline neuroimaging with ASPECTS ≥6",
                            "Favorable perfusion imaging with mismatch ratio >1.2",
                            "Mismatch volume >10 cc",
                            "Ischemic core volume <70 cc"
                        ],
                        exclusion: [
                            "Received endovascular treatment with clot engagement",
                            "Received or planned to receive intravenous thrombolysis",
                            "Pre-stroke modified Rankin score >2",
                            "Known pregnancy or positive pregnancy test",
                            "Previous stroke in the past 90 days",
                            "INR >1.7 or PTT >2x upper limit of normal",
                            "Platelets <100,000/µL",
                            "Life expectancy <90 days"
                        ]
                    },
                    {
                        name: "STEP-EVT Trial",
                        nct: "NCT06289985",
                        phase: "Adaptive Platform",
                        status: "recruiting",
                        description: "NIH StrokeNet adaptive platform trial optimizing endovascular therapy for mild stroke and medium/distal vessel occlusions",
                        inclusion: [
                            "Age ≥18 years",
                            "Acute ischemic stroke due to LVO or MVO",
                            "Within 24 hours of last known well",
                            "For Low NIHSS: NIHSS 0-5 with ICA or M1 occlusion",
                            "For MVO: M2-M4, A1-A3, or P1-P3 occlusion",
                            "Pre-stroke mRS ≤2"
                        ],
                        exclusion: [
                            "Life expectancy <6 months",
                            "Unfavorable vascular anatomy",
                            "Acute occlusions in multiple vascular territories",
                            "Suspected septic embolus",
                            "Chronic total occlusion of target vessel"
                        ]
                    },
                    {
                        name: "MOST Trial",
                        nct: "NCT03735979",
                        phase: "Phase 3",
                        status: "active",
                        description: "Randomized trial of direct oral anticoagulants versus aspirin after embolic stroke of undetermined source",
                        inclusion: [
                            "Age ≥18 years",
                            "Embolic stroke of undetermined source (ESUS)",
                            "Stroke within past 120 days",
                            "Modified Rankin Scale ≤3 at randomization"
                        ],
                        exclusion: [
                            "Known atrial fibrillation",
                            "Indication for anticoagulation",
                            "Contraindication to anticoagulation",
                            "Severe renal insufficiency"
                        ]
                    },
                    {
                        name: "CAPTIVA Trial",
                        nct: "NCT05635266",
                        phase: "Phase 2",
                        status: "recruiting",
                        description: "Caplacizumab for acute ischemic stroke",
                        inclusion: [
                            "Age 18-85 years",
                            "Acute ischemic stroke",
                            "NIHSS 6-25",
                            "Treatment within 12 hours of onset"
                        ],
                        exclusion: [
                            "Large vessel occlusion eligible for thrombectomy",
                            "Known bleeding disorder",
                            "Thrombocytopenia <100,000/µL"
                        ]
                    },
                    {
                        name: "ICAD-CS READY Trial",
                        nct: "NCT05668442",
                        phase: "Prospective Registry",
                        status: "recruiting",
                        description: "Registry studying patients with intracranial atherosclerotic disease",
                        inclusion: [
                            "Age ≥18 years",
                            "Symptomatic ICAD (50-99% stenosis)",
                            "Stroke or TIA within 30 days"
                        ],
                        exclusion: [
                            "Cardioembolic source",
                            "Non-atherosclerotic vasculopathy",
                            "Life expectancy <1 year"
                        ]
                    },
                    {
                        name: "RACECAT 2 Trial",
                        nct: "NCT05105633",
                        phase: "Phase 3",
                        status: "recruiting",
                        description: "Direct transfer to angiography suite versus conventional imaging for large vessel occlusion stroke",
                        inclusion: [
                            "Suspected acute stroke",
                            "RACE scale ≥5",
                            "Within 6 hours of onset",
                            "Pre-stroke mRS ≤2"
                        ],
                        exclusion: [
                            "Contraindication to contrast",
                            "Known pregnancy",
                            "Severe agitation precluding imaging"
                        ]
                    },
                    {
                        name: "ESCAPE-NEXT Trial",
                        nct: "NCT05151172",
                        phase: "Phase 3",
                        status: "recruiting",
                        description: "Endovascular therapy for medium vessel occlusions",
                        inclusion: [
                            "Acute ischemic stroke",
                            "M2, M3, A2, A3, P2, or P3 occlusion",
                            "Within 12 hours of onset",
                            "NIHSS ≥5 or disabling deficit"
                        ],
                        exclusion: [
                            "Pre-stroke mRS >2",
                            "ASPECTS <6",
                            "Known hemorrhagic diathesis"
                        ]
                    },
                    {
                        name: "NOR-TEST 3 Trial",
                        nct: "NCT06087952",
                        phase: "Phase 3",
                        status: "recruiting",
                        description: "Tenecteplase versus alteplase for wake-up stroke",
                        inclusion: [
                            "Wake-up stroke or unknown onset",
                            "DWI-FLAIR mismatch on MRI",
                            "Within 4.5 hours of discovery",
                            "NIHSS ≥4"
                        ],
                        exclusion: [
                            "Large vessel occlusion for thrombectomy",
                            "Contraindication to thrombolysis",
                            "Pre-stroke mRS >2"
                        ]
                    },
                    {
                        name: "TIMELESS Trial",
                        nct: "NCT03785678",
                        phase: "Phase 3",
                        status: "active",
                        description: "Tenecteplase for stroke at 4.5-24 hours with perfusion imaging selection",
                        inclusion: [
                            "Acute ischemic stroke",
                            "4.5-24 hours from last known well",
                            "Perfusion mismatch on CT or MRI",
                            "NIHSS 5-25"
                        ],
                        exclusion: [
                            "Large vessel occlusion for thrombectomy",
                            "ASPECTS <6",
                            "Core volume >70cc"
                        ]
                    },
                    {
                        name: "EXPEDITE-2 Trial",
                        nct: "NCT05824143",
                        phase: "Phase 2",
                        status: "recruiting",
                        description: "Adjunctive argatroban with thrombectomy for large vessel occlusion",
                        inclusion: [
                            "Acute ischemic stroke with LVO",
                            "Eligible for thrombectomy",
                            "Within 8 hours of onset",
                            "NIHSS ≥6"
                        ],
                        exclusion: [
                            "Known bleeding disorder",
                            "Recent use of direct thrombin inhibitors",
                            "Severe hepatic impairment"
                        ]
                    }
                ]
            },
            ich: {
                title: "Intracerebral Hemorrhage Studies",
                color: "red",
                icon: "alert-triangle",
                trials: [
                    {
                        name: "FASTEST Trial",
                        nct: "NCT03496883",
                        phase: "Phase 3",
                        status: "recruiting",
                        description: "Recombinant factor VIIa for acute hemorrhagic stroke administered at earliest time",
                        inclusion: [
                            "Age ≥18 years",
                            "Spontaneous ICH confirmed by CT",
                            "Treatment within 2 hours of onset",
                            "NIHSS ≥4 or GCS ≤14"
                        ],
                        exclusion: [
                            "Secondary ICH (trauma, AVM, tumor)",
                            "Known thrombotic/vascular disease",
                            "Planned surgical evacuation",
                            "GCS <5"
                        ]
                    },
                    {
                        name: "INTERACT-3 Trial",
                        nct: "NCT03209258",
                        phase: "Phase 3",
                        status: "completed",
                        description: "Care bundle protocol for acute ICH management",
                        inclusion: [
                            "Spontaneous ICH within 6 hours",
                            "Age ≥18 years",
                            "SBP ≥150 mmHg"
                        ],
                        exclusion: [
                            "Secondary ICH",
                            "Planned immediate surgery",
                            "Deep coma (GCS <5)"
                        ]
                    },
                    {
                        name: "MIND Trial",
                        nct: "NCT03737344",
                        phase: "Phase 3",
                        status: "recruiting",
                        description: "Minimally invasive surgery with thrombolysis for ICH evacuation",
                        inclusion: [
                            "Supratentorial ICH",
                            "Hematoma volume 30-80 mL",
                            "Within 72 hours of onset",
                            "NIHSS ≥6"
                        ],
                        exclusion: [
                            "Infratentorial hemorrhage",
                            "Secondary ICH",
                            "Uncorrected coagulopathy"
                        ]
                    },
                    {
                        name: "SATURN Trial",
                        nct: "NCT05123391",
                        phase: "Phase 3",
                        status: "recruiting",
                        description: "Glibenclamide for prevention of cerebral edema in large ICH",
                        inclusion: [
                            "Primary ICH volume >15 mL",
                            "Within 10 hours of onset",
                            "Age 18-85 years"
                        ],
                        exclusion: [
                            "Secondary ICH",
                            "Planned evacuation",
                            "Sulfa allergy"
                        ]
                    },
                    {
                        name: "SWITCH Trial",
                        nct: "NCT03950076",
                        phase: "Phase 2",
                        status: "recruiting",
                        description: "Early versus delayed surgical hematoma evacuation",
                        inclusion: [
                            "Lobar or basal ganglia ICH",
                            "Volume 20-90 mL",
                            "GCS 5-14",
                            "Within 8 hours of onset"
                        ],
                        exclusion: [
                            "Cerebellar or brainstem ICH",
                            "Secondary ICH",
                            "Bilateral fixed dilated pupils"
                        ]
                    },
                    {
                        name: "TRIDENT Trial",
                        nct: "NCT02625948",
                        phase: "Phase 3",
                        status: "active",
                        description: "Tranexamic acid for spot sign positive ICH",
                        inclusion: [
                            "Primary ICH within 4.5 hours",
                            "Spot sign on CTA",
                            "Age ≥18 years"
                        ],
                        exclusion: [
                            "Secondary ICH",
                            "Planned surgery within 24 hours",
                            "Known thrombophilia"
                        ]
                    }
                ]
            },
            rehabilitation: {
                title: "Rehabilitation & Recovery",
                color: "green",
                icon: "heart",
                trials: [
                    {
                        name: "STRONG Trial",
                        nct: "NCT05469139",
                        phase: "Phase 2",
                        status: "recruiting",
                        description: "Vagus nerve stimulation paired with rehabilitation for chronic stroke",
                        inclusion: [
                            "Ischemic stroke >6 months ago",
                            "Moderate arm weakness",
                            "Age 18-80 years"
                        ],
                        exclusion: [
                            "Hemorrhagic stroke",
                            "Botox in past 3 months",
                            "Active cardiac arrhythmia"
                        ]
                    }
                ]
            },
            cadasil: {
                title: "CADASIL Research",
                color: "purple",
                icon: "dna",
                trials: [
                    {
                        name: "CADASIL Natural History Study",
                        nct: "NCT06211036",
                        phase: "Observational",
                        status: "recruiting",
                        description: "Longitudinal study of CADASIL progression and biomarkers",
                        inclusion: [
                            "Confirmed NOTCH3 mutation",
                            "Age ≥18 years",
                            "Able to undergo MRI"
                        ],
                        exclusion: [
                            "Other significant neurological disease",
                            "Contraindication to MRI",
                            "Life expectancy <2 years"
                        ]
                    }
                ]
            }
          };
          
          // Toggle trial expansion
          const toggleTrial = (category, index) => {
            const key = `${category}-${index}`;
            setExpandedTrials(prev => ({
              ...prev,
              [key]: !prev[key]
            }));
          };
          
          // Calculator functions
          const calculateNIHSSScore = () => {
            return Object.values(nihssItems).reduce((sum, val) => sum + (parseInt(val) || 0), 0);
          };
          
          const calculateGCSScore = () => {
            return (parseInt(gcsItems.eye) || 0) + (parseInt(gcsItems.verbal) || 0) + (parseInt(gcsItems.motor) || 0);
          };
          
          const calculateICHScore = () => {
            let score = 0;
            if (ichItems.gcs3to4) score += 2;
            else if (ichItems.gcs5to12) score += 1;
            if (ichItems.age80) score += 1;
            if (ichItems.volume30) score += 1;
            if (ichItems.infratentorial) score += 1;
            if (ichItems.ivh) score += 1;
            return score;
          };
          
          const calculateABCD2Score = () => {
            let score = 0;
            if (abcd2Items.age60) score += 1;
            if (abcd2Items.bp) score += 1;
            if (abcd2Items.unilateralWeakness) score += 2;
            else if (abcd2Items.speechDisturbance) score += 1;
            if (abcd2Items.duration60) score += 2;
            else if (abcd2Items.duration10) score += 1;
            if (abcd2Items.diabetes) score += 1;
            return score;
          };
          
          const calculateCHADS2VascScore = () => {
            let score = 0;
            if (chads2vascItems.chf) score += 1;
            if (chads2vascItems.hypertension) score += 1;
            if (chads2vascItems.age75) score += 2;
            else if (chads2vascItems.age65) score += 1;
            if (chads2vascItems.diabetes) score += 1;
            if (chads2vascItems.strokeTia) score += 2;
            if (chads2vascItems.vascular) score += 1;
            if (chads2vascItems.female) score += 1;
            return score;
          };
          
          const calculateROPEScore = () => {
            let score = 0;
            if (ropeItems.noHypertension) score += 1;
            if (ropeItems.noDiabetes) score += 1;
            if (ropeItems.noStrokeTia) score += 1;
            if (ropeItems.nonsmoker) score += 1;
            if (ropeItems.cortical) score += 1;
            
            const age = parseInt(ropeItems.age);
            if (age >= 18 && age <= 29) score += 5;
            else if (age >= 30 && age <= 39) score += 4;
            else if (age >= 40 && age <= 49) score += 3;
            else if (age >= 50 && age <= 59) score += 2;
            else if (age >= 60 && age <= 69) score += 1;
            
            return score;
          };
          
          const tabs = [
            { id: 'workflow', label: 'Workflow', icon: 'activity' },
            { id: 'nihss', label: 'NIHSS', icon: 'calculator' },
            { id: 'imaging', label: 'Imaging', icon: 'scan' },
            { id: 'lytics', label: 'Lytics', icon: 'pill' },
            { id: 'evt', label: 'EVT', icon: 'git-branch' },
            { id: 'trials', label: 'Trials', icon: 'flask' },
            { id: 'documentation', label: 'Documentation', icon: 'file-text' },
            { id: 'ich', label: 'ICH', icon: 'alert-triangle' },
            { id: 'calculators', label: 'Risk Calculators', icon: 'bar-chart' },
            { id: 'protocols', label: 'Protocols', icon: 'shield' }
          ];
          
          return (
            <div className="min-h-screen p-4 md:p-8">
              <div className="max-w-7xl mx-auto">
                {/* Header */}
                <div className="glass-morphism rounded-2xl p-6 mb-6 fade-in">
                  <h1 className="text-4xl font-bold gradient-text mb-2">Comprehensive Stroke Clinical Tool</h1>
                  <p className="text-gray-600">Evidence-based protocols, calculators, and clinical trials</p>
                </div>
                
                {/* Tab Navigation */}
                <div className="glass-morphism rounded-2xl p-2 mb-6">
                  <div className="flex flex-wrap gap-2">
                    {tabs.map(tab => (
                      <button
                        key={tab.id}
                        onClick={() => setActiveTab(tab.id)}
                        className={`tab-button px-4 py-3 rounded-lg flex items-center gap-2 ${
                          activeTab === tab.id ? 'active bg-white shadow-md' : ''
                        }`}
                      >
                        <i data-lucide={tab.icon} className="w-4 h-4"></i>
                        <span>{tab.label}</span>
                      </button>
                    ))}
                  </div>
                </div>
                
                {/* Main Content */}
                <div className="glass-morphism rounded-2xl p-6 min-h-[600px]">
                  {/* Trials Tab */}
                  {activeTab === 'trials' && (
                    <div className="space-y-8 fade-in">
                      <div className="text-center mb-8">
                        <h2 className="text-3xl font-bold gradient-text mb-3">Active Clinical Trials</h2>
                        <p className="text-gray-600">Current stroke research studies recruiting patients</p>
                      </div>
                      
                      {Object.entries(trialsData).map(([category, data]) => (
                        <div key={category} className="section-card rounded-xl p-6 bg-white">
                          <div className="flex items-center gap-3 mb-6">
                            <div className={`p-3 rounded-lg bg-${data.color}-100`}>
                              <i data-lucide={data.icon} className={`w-6 h-6 text-${data.color}-600`}></i>
                            </div>
                            <h3 className="text-2xl font-bold text-gray-800">{data.title}</h3>
                            <span className="ml-auto bg-gray-100 px-3 py-1 rounded-full text-sm font-medium">
                              {data.trials.length} {data.trials.length === 1 ? 'Study' : 'Studies'}
                            </span>
                          </div>
                          
                          <div className="space-y-4">
                            {data.trials.map((trial, index) => {
                              const isExpanded = expandedTrials[`${category}-${index}`];
                              return (
                                <div key={index} className="trial-card border border-gray-200">
                                  <div 
                                    className="p-5 cursor-pointer hover:bg-gray-50 transition-colors"
                                    onClick={() => toggleTrial(category, index)}
                                  >
                                    <div className="flex items-start justify-between">
                                      <div className="flex-1">
                                        <div className="flex items-center gap-3 mb-2">
                                          <h4 className="text-lg font-semibold text-gray-900">{trial.name}</h4>
                                          {trial.status && (
                                            <span className={`status-badge status-${trial.status}`}>
                                              {trial.status}
                                            </span>
                                          )}
                                          <span className="text-sm text-gray-500">{trial.phase}</span>
                                        </div>
                                        <p className="text-gray-600 text-sm mb-2">{trial.description}</p>
                                        <a 
                                          href={`https://clinicaltrials.gov/study/${trial.nct}`}
                                          target="_blank"
                                          rel="noopener noreferrer"
                                          className="text-blue-600 hover:text-blue-800 text-sm font-medium inline-flex items-center gap-1"
                                          onClick={(e) => e.stopPropagation()}
                                        >
                                          {trial.nct}
                                          <i data-lucide="external-link" className="w-3 h-3"></i>
                                        </a>
                                      </div>
                                      <div className="ml-4">
                                        <i 
                                          data-lucide={isExpanded ? "chevron-up" : "chevron-down"} 
                                          className="w-5 h-5 text-gray-400"
                                        ></i>
                                      </div>
                                    </div>
                                  </div>
                                  
                                  {isExpanded && (
                                    <div className="px-5 pb-5 border-t border-gray-100 fade-in">
                                      <div className="grid md:grid-cols-2 gap-6 mt-4">
                                        <div>
                                          <h5 className="font-semibold text-green-700 mb-3 flex items-center gap-2">
                                            <i data-lucide="check-circle" className="w-4 h-4"></i>
                                            Key Inclusion Criteria
                                          </h5>
                                          <ul className="criteria-list space-y-2 text-sm text-gray-600">
                                            {trial.inclusion.map((criteria, i) => (
                                              <li key={i}>{criteria}</li>
                                            ))}
                                          </ul>
                                        </div>
                                        <div>
                                          <h5 className="font-semibold text-red-700 mb-3 flex items-center gap-2">
                                            <i data-lucide="x-circle" className="w-4 h-4"></i>
                                            Key Exclusion Criteria
                                          </h5>
                                          <ul className="criteria-list space-y-2 text-sm text-gray-600">
                                            {trial.exclusion.map((criteria, i) => (
                                              <li key={i}>{criteria}</li>
                                            ))}
                                          </ul>
                                        </div>
                                      </div>
                                    </div>
                                  )}
                                </div>
                              );
                            })}
                          </div>
                        </div>
                      ))}
                    </div>
                  )}
                  
                  {/* Workflow Tab */}
                  {activeTab === 'workflow' && (
                    <div className="space-y-6 fade-in">
                      <div className="section-card bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6">
                        <h3 className="text-2xl font-bold text-gray-800 mb-4">Acute Stroke Assessment Workflow</h3>
                        
                        <div className="grid md:grid-cols-2 gap-6">
                          <div className="bg-white rounded-lg p-4 shadow-sm">
                            <h4 className="font-semibold text-blue-700 mb-3">Initial Assessment (0-10 min)</h4>
                            <ul className="space-y-2 text-sm">
                              <li className="flex items-start gap-2">
                                <i data-lucide="check" className="w-4 h-4 text-green-500 mt-0.5"></i>
                                <span>ABC's, IV access, continuous monitoring</span>
                              </li>
                              <li className="flex items-start gap-2">
                                <i data-lucide="check" className="w-4 h-4 text-green-500 mt-0.5"></i>
                                <span>Time of onset/last known well</span>
                              </li>
                              <li className="flex items-start gap-2">
                                <i data-lucide="check" className="w-4 h-4 text-green-500 mt-0.5"></i>
                                <span>NIHSS assessment</span>
                              </li>
                              <li className="flex items-start gap-2">
                                <i data-lucide="check" className="w-4 h-4 text-green-500 mt-0.5"></i>
                                <span>Blood glucose, basic labs</span>
                              </li>
                            </ul>
                          </div>
                          
                          <div className="bg-white rounded-lg p-4 shadow-sm">
                            <h4 className="font-semibold text-green-700 mb-3">Immediate Actions (10-25 min)</h4>
                            <ul className="space-y-2 text-sm">
                              <li className="flex items-start gap-2">
                                <i data-lucide="check" className="w-4 h-4 text-green-500 mt-0.5"></i>
                                <span>Non-contrast CT head</span>
                              </li>
                              <li className="flex items-start gap-2">
                                <i data-lucide="check" className="w-4 h-4 text-green-500 mt-0.5"></i>
                                <span>CTA head/neck if LVO suspected</span>
                              </li>
                              <li className="flex items-start gap-2">
                                <i data-lucide="check" className="w-4 h-4 text-green-500 mt-0.5"></i>
                                <span>Determine lytic eligibility</span>
                              </li>
                              <li className="flex items-start gap-2">
                                <i data-lucide="check" className="w-4 h-4 text-green-500 mt-0.5"></i>
                                <span>Mix tPA if indicated</span>
                              </li>
                            </ul>
                          </div>
                          
                          <div className="bg-white rounded-lg p-4 shadow-sm">
                            <h4 className="font-semibold text-purple-700 mb-3">Treatment Decision (25-60 min)</h4>
                            <ul className="space-y-2 text-sm">
                              <li className="flex items-start gap-2">
                                <i data-lucide="check" className="w-4 h-4 text-green-500 mt-0.5"></i>
                                <span>Administer tPA if eligible</span>
                              </li>
                              <li className="flex items-start gap-2">
                                <i data-lucide="check" className="w-4 h-4 text-green-500 mt-0.5"></i>
                                <span>Activate neurointerventional team if LVO</span>
                              </li>
                              <li className="flex items-start gap-2">
                                <i data-lucide="check" className="w-4 h-4 text-green-500 mt-0.5"></i>
                                <span>BP management per protocol</span>
                              </li>
                              <li className="flex items-start gap-2">
                                <i data-lucide="check" className="w-4 h-4 text-green-500 mt-0.5"></i>
                                <span>Admit to stroke unit</span>
                              </li>
                            </ul>
                          </div>
                          
                          <div className="bg-white rounded-lg p-4 shadow-sm">
                            <h4 className="font-semibold text-red-700 mb-3">Post-Acute Care</h4>
                            <ul className="space-y-2 text-sm">
                              <li className="flex items-start gap-2">
                                <i data-lucide="check" className="w-4 h-4 text-green-500 mt-0.5"></i>
                                <span>Neuro checks per protocol</span>
                              </li>
                              <li className="flex items-start gap-2">
                                <i data-lucide="check" className="w-4 h-4 text-green-500 mt-0.5"></i>
                                <span>Swallow evaluation</span>
                              </li>
                              <li className="flex items-start gap-2">
                                <i data-lucide="check" className="w-4 h-4 text-green-500 mt-0.5"></i>
                                <span>DVT prophylaxis</span>
                              </li>
                              <li className="flex items-start gap-2">
                                <i data-lucide="check" className="w-4 h-4 text-green-500 mt-0.5"></i>
                                <span>Early mobilization</span>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                  )}
                  
                  {/* NIHSS Tab */}
                  {activeTab === 'nihss' && (
                    <div className="space-y-6 fade-in">
                      <div className="section-card bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6">
                        <div className="flex justify-between items-center mb-6">
                          <h3 className="text-2xl font-bold text-gray-800">NIH Stroke Scale Calculator</h3>
                          <div className="score-display text-2xl">
                            Total Score: {calculateNIHSSScore()}
                          </div>
                        </div>
                        
                        <div className="grid md:grid-cols-2 gap-4">
                          {[
                            { label: '1a. Level of Consciousness', max: 3 },
                            { label: '1b. LOC Questions', max: 2 },
                            { label: '1c. LOC Commands', max: 2 },
                            { label: '2. Best Gaze', max: 2 },
                            { label: '3. Visual Fields', max: 3 },
                            { label: '4. Facial Palsy', max: 3 },
                            { label: '5a. Left Arm Motor', max: 4 },
                            { label: '5b. Right Arm Motor', max: 4 },
                            { label: '6a. Left Leg Motor', max: 4 },
                            { label: '6b. Right Leg Motor', max: 4 },
                            { label: '7. Limb Ataxia', max: 2 },
                            { label: '8. Sensory', max: 2 },
                            { label: '9. Best Language', max: 3 },
                            { label: '10. Dysarthria', max: 2 },
                            { label: '11. Extinction/Inattention', max: 2 }
                          ].map((item, index) => (
                            <div key={index} className="bg-white rounded-lg p-3 shadow-sm">
                              <label className="block text-sm font-medium text-gray-700 mb-2">
                                {item.label}
                              </label>
                              <select 
                                className="w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-purple-500"
                                onChange={(e) => setNihssItems({...nihssItems, [`item${index}`]: e.target.value})}
                              >
                                {Array.from({length: item.max + 1}, (_, i) => (
                                  <option key={i} value={i}>{i}</option>
                                ))}
                              </select>
                            </div>
                          ))}
                        </div>
                        
                        <div className="mt-6 p-4 bg-white rounded-lg">
                          <h4 className="font-semibold mb-2">Score Interpretation</h4>
                          <div className="grid grid-cols-2 md:grid-cols-4 gap-4 text-sm">
                            <div className={`p-2 rounded ${calculateNIHSSScore() === 0 ? 'bg-green-100 font-bold' : ''}`}>
                              <span className="font-medium">0:</span> No symptoms
                            </div>
                            <div className={`p-2 rounded ${calculateNIHSSScore() >= 1 && calculateNIHSSScore() <= 4 ? 'bg-yellow-100 font-bold' : ''}`}>
                              <span className="font-medium">1-4:</span> Minor
                            </div>
                            <div className={`p-2 rounded ${calculateNIHSSScore() >= 5 && calculateNIHSSScore() <= 15 ? 'bg-orange-100 font-bold' : ''}`}>
                              <span className="font-medium">5-15:</span> Moderate
                            </div>
                            <div className={`p-2 rounded ${calculateNIHSSScore() >= 16 && calculateNIHSSScore() <= 20 ? 'bg-red-100 font-bold' : ''}`}>
                              <span className="font-medium">16-20:</span> Moderate-severe
                            </div>
                            <div className={`p-2 rounded ${calculateNIHSSScore() >= 21 ? 'bg-red-200 font-bold' : ''}`}>
                              <span className="font-medium">21-42:</span> Severe
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  )}
                  
                  {/* Imaging Tab */}
                  {activeTab === 'imaging' && (
                    <div className="space-y-6 fade-in">
                      <div className="section-card bg-gradient-to-r from-teal-50 to-cyan-50 rounded-xl p-6">
                        <h3 className="text-2xl font-bold text-gray-800 mb-4">Imaging Protocols & ASPECTS</h3>
                        
                        <div className="grid md:grid-cols-2 gap-6">
                          <div className="bg-white rounded-lg p-4 shadow-sm">
                            <h4 className="font-semibold text-teal-700 mb-3">Standard Imaging</h4>
                            <ul className="space-y-2 text-sm">
                              <li>• Non-contrast CT head</li>
                              <li>• CTA head and neck</li>
                              <li>• CT perfusion (if >6h or unknown onset)</li>
                              <li>• MRI brain (selected cases)</li>
                            </ul>
                          </div>
                          
                          <div className="bg-white rounded-lg p-4 shadow-sm">
                            <h4 className="font-semibold text-cyan-700 mb-3">ASPECTS Scoring</h4>
                            <p className="text-sm text-gray-600 mb-2">10 regions, 1 point deducted per region with early ischemic changes:</p>
                            <ul className="space-y-1 text-sm">
                              <li>• M1-M6: MCA cortical regions</li>
                              <li>• C: Caudate</li>
                              <li>• L: Lentiform</li>
                              <li>• IC: Internal capsule</li>
                              <li>• I: Insular cortex</li>
                            </ul>
                            <div className="mt-3 p-2 bg-cyan-50 rounded">
                              <p className="text-sm font-medium">≥6: Generally favorable for intervention</p>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  )}
                  
                  {/* Lytics Tab */}
                  {activeTab === 'lytics' && (
                    <div className="space-y-6 fade-in">
                      <div className="section-card bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6">
                        <h3 className="text-2xl font-bold text-gray-800 mb-4">Thrombolytic Eligibility</h3>
                        
                        <div className="grid md:grid-cols-2 gap-6">
                          <div className="bg-white rounded-lg p-4 shadow-sm">
                            <h4 className="font-semibold text-green-700 mb-3">Inclusion Criteria</h4>
                            <ul className="space-y-2 text-sm">
                              <li className="flex items-start gap-2">
                                <i data-lucide="check-circle" className="w-4 h-4 text-green-500 mt-0.5"></i>
                                <span>Age ≥18 years</span>
                              </li>
                              <li className="flex items-start gap-2">
                                <i data-lucide="check-circle" className="w-4 h-4 text-green-500 mt-0.5"></i>
                                <span>Clinical diagnosis of ischemic stroke</span>
                              </li>
                              <li className="flex items-start gap-2">
                                <i data-lucide="check-circle" className="w-4 h-4 text-green-500 mt-0.5"></i>
                                <span>Time from onset &lt;4.5 hours</span>
                              </li>
                              <li className="flex items-start gap-2">
                                <i data-lucide="check-circle" className="w-4 h-4 text-green-500 mt-0.5"></i>
                                <span>Measurable neurological deficit</span>
                              </li>
                            </ul>
                          </div>
                          
                          <div className="bg-white rounded-lg p-4 shadow-sm">
                            <h4 className="font-semibold text-red-700 mb-3">Major Exclusions</h4>
                            <ul className="space-y-2 text-sm">
                              <li className="flex items-start gap-2">
                                <i data-lucide="x-circle" className="w-4 h-4 text-red-500 mt-0.5"></i>
                                <span>ICH on CT</span>
                              </li>
                              <li className="flex items-start gap-2">
                                <i data-lucide="x-circle" className="w-4 h-4 text-red-500 mt-0.5"></i>
                                <span>Previous ICH</span>
                              </li>
                              <li className="flex items-start gap-2">
                                <i data-lucide="x-circle" className="w-4 h-4 text-red-500 mt-0.5"></i>
                                <span>INR &gt;1.7 or PT &gt;15</span>
                              </li>
                              <li className="flex items-start gap-2">
                                <i data-lucide="x-circle" className="w-4 h-4 text-red-500 mt-0.5"></i>
                                <span>Platelets &lt;100,000</span>
                              </li>
                            </ul>
                          </div>
                        </div>
                        
                        <div className="mt-6 bg-blue-50 rounded-lg p-4">
                          <h4 className="font-semibold text-blue-800 mb-2">Dosing Protocol</h4>
                          <p className="text-sm"><strong>Alteplase:</strong> 0.9 mg/kg (max 90 mg)</p>
                          <p className="text-sm">• 10% as bolus over 1 minute</p>
                          <p className="text-sm">• 90% as infusion over 60 minutes</p>
                        </div>
                      </div>
                    </div>
                  )}
                  
                  {/* EVT Tab */}
                  {activeTab === 'evt' && (
                    <div className="space-y-6 fade-in">
                      <div className="section-card bg-gradient-to-r from-orange-50 to-red-50 rounded-xl p-6">
                        <h3 className="text-2xl font-bold text-gray-800 mb-4">Endovascular Therapy Criteria</h3>
                        
                        <div className="grid md:grid-cols-2 gap-6">
                          <div className="bg-white rounded-lg p-4 shadow-sm">
                            <h4 className="font-semibold text-orange-700 mb-3">0-6 Hours</h4>
                            <ul className="space-y-2 text-sm">
                              <li>• Pre-stroke mRS 0-1</li>
                              <li>• NIHSS ≥6</li>
                              <li>• ASPECTS ≥6</li>
                              <li>• ICA or M1 occlusion</li>
                              <li>• Age ≥18</li>
                            </ul>
                          </div>
                          
                          <div className="bg-white rounded-lg p-4 shadow-sm">
                            <h4 className="font-semibold text-red-700 mb-3">6-24 Hours (DAWN/DEFUSE-3)</h4>
                            <ul className="space-y-2 text-sm">
                              <li>• Last known well 6-24h</li>
                              <li>• ICA or M1 occlusion</li>
                              <li>• Mismatch between deficit and infarct</li>
                              <li>• Core volume &lt;70cc (age &lt;80)</li>
                              <li>• Mismatch ratio ≥1.8</li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                  )}
                  
                  {/* Documentation Tab */}
                  {activeTab === 'documentation' && (
                    <div className="space-y-6 fade-in">
                      <div className="section-card bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl p-6">
                        <h3 className="text-2xl font-bold text-gray-800 mb-4">Stroke Code Documentation</h3>
                        
                        <div className="bg-white rounded-lg p-4 shadow-sm">
                          <h4 className="font-semibold text-indigo-700 mb-3">Required Elements</h4>
                          <div className="grid md:grid-cols-2 gap-4">
                            <div>
                              <h5 className="font-medium text-gray-700 mb-2">Time Stamps</h5>
                              <ul className="space-y-1 text-sm text-gray-600">
                                <li>• Last known well</li>
                                <li>• Symptom discovery</li>
                                <li>• ED arrival</li>
                                <li>• CT completion</li>
                                <li>• tPA bolus (if given)</li>
                                <li>• Groin puncture (if EVT)</li>
                              </ul>
                            </div>
                            <div>
                              <h5 className="font-medium text-gray-700 mb-2">Clinical Data</h5>
                              <ul className="space-y-1 text-sm text-gray-600">
                                <li>• Initial NIHSS</li>
                                <li>• Blood pressure</li>
                                <li>• Blood glucose</li>
                                <li>• INR/PT/PTT</li>
                                <li>• Imaging findings</li>
                                <li>• Treatment decisions</li>
                              </ul>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  )}
                  
                  {/* ICH Tab */}
                  {activeTab === 'ich' && (
                    <div className="space-y-6 fade-in">
                      <div className="section-card bg-gradient-to-r from-red-50 to-pink-50 rounded-xl p-6">
                        <h3 className="text-2xl font-bold text-gray-800 mb-4">ICH Management</h3>
                        
                        <div className="grid md:grid-cols-2 gap-6">
                          <div className="bg-white rounded-lg p-4 shadow-sm">
                            <h4 className="font-semibold text-red-700 mb-3">Immediate Actions</h4>
                            <ul className="space-y-2 text-sm">
                              <li>• Reverse anticoagulation</li>
                              <li>• BP control (SBP &lt;140)</li>
                              <li>• Neurosurgery consultation</li>
                              <li>• Seizure prophylaxis consideration</li>
                              <li>• ICP monitoring if indicated</li>
                            </ul>
                          </div>
                          
                          <div className="bg-white rounded-lg p-4 shadow-sm">
                            <h4 className="font-semibold text-pink-700 mb-3">Reversal Agents</h4>
                            <ul className="space-y-2 text-sm">
                              <li><strong>Warfarin:</strong> Vitamin K + 4F-PCC</li>
                              <li><strong>Dabigatran:</strong> Idarucizumab</li>
                              <li><strong>Xa inhibitors:</strong> Andexanet alfa</li>
                              <li><strong>Heparin:</strong> Protamine</li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                  )}
                  
                  {/* Risk Calculators Tab */}
                  {activeTab === 'calculators' && (
                    <div className="space-y-6 fade-in">
                      {/* GCS Calculator */}
                      <div className="section-card bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl p-6">
                        <div className="flex justify-between items-center mb-4">
                          <h3 className="text-xl font-bold text-gray-800">Glasgow Coma Scale</h3>
                          <div className="score-display">
                            GCS: {calculateGCSScore()}
                          </div>
                        </div>
                        
                        <div className="grid md:grid-cols-3 gap-4">
                          <div className="bg-white rounded-lg p-3 shadow-sm">
                            <label className="block text-sm font-medium text-gray-700 mb-2">Eye Opening</label>
                            <select 
                              className="w-full px-3 py-2 border rounded-md"
                              value={gcsItems.eye}
                              onChange={(e) => setGcsItems({...gcsItems, eye: e.target.value})}
                            >
                              <option value="4">Spontaneous (4)</option>
                              <option value="3">To voice (3)</option>
                              <option value="2">To pain (2)</option>
                              <option value="1">None (1)</option>
                            </select>
                          </div>
                          
                          <div className="bg-white rounded-lg p-3 shadow-sm">
                            <label className="block text-sm font-medium text-gray-700 mb-2">Verbal Response</label>
                            <select 
                              className="w-full px-3 py-2 border rounded-md"
                              value={gcsItems.verbal}
                              onChange={(e) => setGcsItems({...gcsItems, verbal: e.target.value})}
                            >
                              <option value="5">Oriented (5)</option>
                              <option value="4">Confused (4)</option>
                              <option value="3">Inappropriate (3)</option>
                              <option value="2">Incomprehensible (2)</option>
                              <option value="1">None (1)</option>
                            </select>
                          </div>
                          
                          <div className="bg-white rounded-lg p-3 shadow-sm">
                            <label className="block text-sm font-medium text-gray-700 mb-2">Motor Response</label>
                            <select 
                              className="w-full px-3 py-2 border rounded-md"
                              value={gcsItems.motor}
                              onChange={(e) => setGcsItems({...gcsItems, motor: e.target.value})}
                            >
                              <option value="6">Obeys commands (6)</option>
                              <option value="5">Localizes pain (5)</option>
                              <option value="4">Withdraws to pain (4)</option>
                              <option value="3">Flexion to pain (3)</option>
                              <option value="2">Extension to pain (2)</option>
                              <option value="1">None (1)</option>
                            </select>
                          </div>
                        </div>
                      </div>
                      
                      {/* ICH Score */}
                      <div className="section-card bg-gradient-to-r from-red-50 to-orange-50 rounded-xl p-6">
                        <div className="flex justify-between items-center mb-4">
                          <h3 className="text-xl font-bold text-gray-800">ICH Score</h3>
                          <div className="score-display">
                            Score: {calculateICHScore()}
                          </div>
                        </div>
                        
                        <div className="grid md:grid-cols-2 gap-4">
                          <div className="bg-white rounded-lg p-4 shadow-sm">
                            <div className="space-y-3">
                              <label className="flex items-center gap-3">
                                <input 
                                  type="checkbox"
                                  checked={ichItems.gcs3to4}
                                  onChange={(e) => setIchItems({...ichItems, gcs3to4: e.target.checked, gcs5to12: false})}
                                />
                                <span className="text-sm">GCS 3-4 (+2)</span>
                              </label>
                              <label className="flex items-center gap-3">
                                <input 
                                  type="checkbox"
                                  checked={ichItems.gcs5to12}
                                  onChange={(e) => setIchItems({...ichItems, gcs5to12: e.target.checked, gcs3to4: false})}
                                />
                                <span className="text-sm">GCS 5-12 (+1)</span>
                              </label>
                              <label className="flex items-center gap-3">
                                <input 
                                  type="checkbox"
                                  checked={ichItems.age80}
                                  onChange={(e) => setIchItems({...ichItems, age80: e.target.checked})}
                                />
                                <span className="text-sm">Age ≥80 (+1)</span>
                              </label>
                              <label className="flex items-center gap-3">
                                <input 
                                  type="checkbox"
                                  checked={ichItems.volume30}
                                  onChange={(e) => setIchItems({...ichItems, volume30: e.target.checked})}
                                />
                                <span className="text-sm">Volume ≥30 mL (+1)</span>
                              </label>
                              <label className="flex items-center gap-3">
                                <input 
                                  type="checkbox"
                                  checked={ichItems.infratentorial}
                                  onChange={(e) => setIchItems({...ichItems, infratentorial: e.target.checked})}
                                />
                                <span className="text-sm">Infratentorial origin (+1)</span>
                              </label>
                              <label className="flex items-center gap-3">
                                <input 
                                  type="checkbox"
                                  checked={ichItems.ivh}
                                  onChange={(e) => setIchItems({...ichItems, ivh: e.target.checked})}
                                />
                                <span className="text-sm">Intraventricular hemorrhage (+1)</span>
                              </label>
                            </div>
                          </div>
                          
                          <div className="bg-white rounded-lg p-4 shadow-sm">
                            <h4 className="font-semibold mb-3">30-Day Mortality</h4>
                            <div className="space-y-2 text-sm">
                              <div className={`p-2 rounded ${calculateICHScore() === 0 ? 'bg-green-100 font-bold' : ''}`}>
                                Score 0: 0%
                              </div>
                              <div className={`p-2 rounded ${calculateICHScore() === 1 ? 'bg-yellow-100 font-bold' : ''}`}>
                                Score 1: 13%
                              </div>
                              <div className={`p-2 rounded ${calculateICHScore() === 2 ? 'bg-orange-100 font-bold' : ''}`}>
                                Score 2: 26%
                              </div>
                              <div className={`p-2 rounded ${calculateICHScore() === 3 ? 'bg-red-100 font-bold' : ''}`}>
                                Score 3: 72%
                              </div>
                              <div className={`p-2 rounded ${calculateICHScore() === 4 ? 'bg-red-200 font-bold' : ''}`}>
                                Score 4: 97%
                              </div>
                              <div className={`p-2 rounded ${calculateICHScore() >= 5 ? 'bg-red-300 font-bold' : ''}`}>
                                Score 5-6: 100%
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      
                      {/* ABCD2 Score */}
                      <div className="section-card bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl p-6">
                        <div className="flex justify-between items-center mb-4">
                          <h3 className="text-xl font-bold text-gray-800">ABCD² Score</h3>
                          <div className="score-display">
                            Score: {calculateABCD2Score()}
                          </div>
                        </div>
                        
                        <div className="grid md:grid-cols-2 gap-4">
                          <div className="bg-white rounded-lg p-4 shadow-sm">
                            <div className="space-y-3">
                              <label className="flex items-center gap-3">
                                <input 
                                  type="checkbox"
                                  checked={abcd2Items.age60}
                                  onChange={(e) => setAbcd2Items({...abcd2Items, age60: e.target.checked})}
                                />
                                <span className="text-sm">Age ≥60 (+1)</span>
                              </label>
                              <label className="flex items-center gap-3">
                                <input 
                                  type="checkbox"
                                  checked={abcd2Items.bp}
                                  onChange={(e) => setAbcd2Items({...abcd2Items, bp: e.target.checked})}
                                />
                                <span className="text-sm">BP: SBP≥140 or DBP≥90 (+1)</span>
                              </label>
                              <label className="flex items-center gap-3">
                                <input 
                                  type="checkbox"
                                  checked={abcd2Items.unilateralWeakness}
                                  onChange={(e) => setAbcd2Items({...abcd2Items, unilateralWeakness: e.target.checked, speechDisturbance: false})}
                                />
                                <span className="text-sm">Unilateral weakness (+2)</span>
                              </label>
                              <label className="flex items-center gap-3">
                                <input 
                                  type="checkbox"
                                  checked={abcd2Items.speechDisturbance}
                                  onChange={(e) => setAbcd2Items({...abcd2Items, speechDisturbance: e.target.checked, unilateralWeakness: false})}
                                />
                                <span className="text-sm">Speech disturbance without weakness (+1)</span>
                              </label>
                              <label className="flex items-center gap-3">
                                <input 
                                  type="checkbox"
                                  checked={abcd2Items.duration60}
                                  onChange={(e) => setAbcd2Items({...abcd2Items, duration60: e.target.checked, duration10: false})}
                                />
                                <span className="text-sm">Duration ≥60 min (+2)</span>
                              </label>
                              <label className="flex items-center gap-3">
                                <input 
                                  type="checkbox"
                                  checked={abcd2Items.duration10}
                                  onChange={(e) => setAbcd2Items({...abcd2Items, duration10: e.target.checked, duration60: false})}
                                />
                                <span className="text-sm">Duration 10-59 min (+1)</span>
                              </label>
                              <label className="flex items-center gap-3">
                                <input 
                                  type="checkbox"
                                  checked={abcd2Items.diabetes}
                                  onChange={(e) => setAbcd2Items({...abcd2Items, diabetes: e.target.checked})}
                                />
                                <span className="text-sm">Diabetes mellitus (+1)</span>
                              </label>
                            </div>
                          </div>
                          
                          <div className="bg-white rounded-lg p-4 shadow-sm">
                            <h4 className="font-semibold mb-3">Stroke Risk</h4>
                            <div className="space-y-2 text-sm">
                              <div className={`p-2 rounded ${calculateABCD2Score() <= 3 ? 'bg-green-100 font-bold' : ''}`}>
                                <strong>Score 0-3:</strong> Low risk
                                <div className="text-xs">2-day: 1%, 7-day: 1.2%, 90-day: 3.1%</div>
                              </div>
                              <div className={`p-2 rounded ${calculateABCD2Score() >= 4 && calculateABCD2Score() <= 5 ? 'bg-yellow-100 font-bold' : ''}`}>
                                <strong>Score 4-5:</strong> Moderate risk
                                <div className="text-xs">2-day: 4.1%, 7-day: 5.9%, 90-day: 9.8%</div>
                              </div>
                              <div className={`p-2 rounded ${calculateABCD2Score() >= 6 ? 'bg-red-100 font-bold' : ''}`}>
                                <strong>Score 6-7:</strong> High risk
                                <div className="text-xs">2-day: 8.1%, 7-day: 11.7%, 90-day: 17.8%</div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  )}
                  
                  {/* Protocols Tab */}
                  {activeTab === 'protocols' && (
                    <div className="space-y-6 fade-in">
                      <div className="section-card bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl p-6">
                        <h3 className="text-2xl font-bold text-gray-800 mb-4">Management Protocols</h3>
                        
                        <div className="grid md:grid-cols-2 gap-6">
                          <div className="bg-white rounded-lg p-4 shadow-sm">
                            <h4 className="font-semibold text-purple-700 mb-3">Blood Pressure Goals</h4>
                            <ul className="space-y-2 text-sm">
                              <li><strong>Ischemic (no lysis):</strong> SBP &lt;220, DBP &lt;120</li>
                              <li><strong>Before tPA:</strong> SBP &lt;185, DBP &lt;110</li>
                              <li><strong>After tPA/EVT:</strong> SBP &lt;180, DBP &lt;105</li>
                              <li><strong>ICH:</strong> SBP &lt;140</li>
                            </ul>
                          </div>
                          
                          <div className="bg-white rounded-lg p-4 shadow-sm">
                            <h4 className="font-semibold text-blue-700 mb-3">Post-tPA Monitoring</h4>
                            <ul className="space-y-2 text-sm">
                              <li>• Q15min × 2h, then Q30min × 6h</li>
                              <li>• Then Q1h × 16h</li>
                              <li>• No antiplatelet/anticoagulation × 24h</li>
                              <li>• Repeat CT at 24h before antithrombotics</li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                  )}
                </div>
              </div>
            </div>
          );
        };
        
        // Render the component
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<StrokeClinicalTool />);
        
        // Initialize Lucide icons
        setInterval(() => {
          if (window.lucide) {
            window.lucide.createIcons();
          }
        }, 100);
    </script>
</body>
</html>
