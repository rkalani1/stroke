(()=>{var{useState:m,useEffect:f,useRef:rt}=React,{Calculator:Bn,Clock:jn,Brain:_n,AlertTriangle:Gn,FileText:qn,CheckCircle:zn,Moon:Xn,Sun:Qn,Download:Yn,Copy:Jn,Search:Zn,Check:el,Info:tl}=lucide,al=window.strokeAppStorage&&window.strokeAppStorage.appVersion||"unknown",$e=window.strokeAppStorage&&window.strokeAppStorage.prefix||"strokeApp:",ps=window.strokeAppStorage&&window.strokeAppStorage.appDataKey||"stroke.appData.v2",la=window.strokeAppStorage&&window.strokeAppStorage.legacyKeys||["app_version","darkMode","activeTab","patientData","nihssScore","aspectsScore","gcsItems","mrsScore","ichScoreItems","abcd2Items","chads2vascItems","ropeItems","huntHessGrade","wfnsGrade","hasbledItems","rcvs2Items","strokeCodeForm","lkwTime","currentStep","completedSteps","aspectsRegionState","pcAspectsRegions","telestrokeNote","telestrokeTemplate","thrombolysisAlertsMuted","timerSidebarCollapsed","shiftPatients","currentPatientId","consultationType","ttlHoursOverride","lastUpdated","legacyMigrated"],_i=window.strokeAppStorage&&window.strokeAppStorage.legacySessionKeys||["error_reload_attempted"],St=12,gs="lastUpdated",br="legacyMigrated",cs=1,xr=[{id:"stroke-phone",label:"Stroke Phone",phone:"206-744-6789",note:""},{id:"stat-pharmacy",label:"STAT Pharmacy",phone:"206-744-2241",note:""},{id:"rad-hotline",label:"Stroke RAD Hotline",phone:"206-744-8484",note:"Weekdays 8-5"},{id:"angio-suite",label:"Angio Suite",phone:"206-744-3381",note:""},{id:"stat-ct",label:"STAT CT",phone:"206-744-7290",note:""}],vr=["patient-info-section","lkw-section","nihss-section","vitals-section","treatment-decision","time-metrics-section","recommendations-section"],ds=c=>{if(c==null)return null;try{return JSON.parse(c)}catch(u){return c}},ms=(c,u)=>c==null||c==="undefined"||c==="null"?u:typeof c=="object"&&c!==null&&"data"in c&&"expiresAt"in c?typeof c.expiresAt=="number"&&Date.now()>c.expiresAt?u:c.data:c,ne=(c,u)=>{let b=localStorage.getItem($e+c);if(b!==null)return ms(ds(b),u);let w=localStorage.getItem(c);return w!==null?ms(ds(w),u):u},yr=()=>{try{localStorage.setItem($e+gs,JSON.stringify(Date.now()))}catch(c){console.warn("Failed to update lastUpdated:",c)}},Oe=(c,u,b={})=>{try{localStorage.setItem($e+c,JSON.stringify(u)),!b.skipLastUpdated&&c!==gs&&yr()}catch(w){console.warn("Failed to save key:",c,w)}},na=c=>{localStorage.removeItem($e+c),localStorage.removeItem(c)},Nr=()=>{if(window.strokeAppStorage&&typeof window.strokeAppStorage.clearAppStorage=="function"){window.strokeAppStorage.clearAppStorage({includeLegacy:!0});return}try{Object.keys(localStorage).forEach(c=>{c.startsWith($e)&&localStorage.removeItem(c)}),localStorage.removeItem(ps),la.forEach(c=>localStorage.removeItem(c)),Object.keys(sessionStorage).forEach(c=>{c.startsWith($e)&&sessionStorage.removeItem(c)}),_i.forEach(c=>sessionStorage.removeItem(c))}catch(c){console.warn("Storage clear failed:",c)}},Gi=()=>{try{if(localStorage.getItem($e+br))return;la.forEach(u=>{let b=localStorage.getItem(u);if(b===null)return;let w=ds(b),M=ms(w,void 0);M!==void 0&&localStorage.setItem($e+u,JSON.stringify(M))}),localStorage.setItem($e+br,JSON.stringify(!0))}catch(c){console.warn("Legacy storage migration failed:",c)}},it=(c,u=[])=>Array.isArray(c)?c:u,ee=(c=new Date)=>{try{return new Date(c).toISOString()}catch(u){return new Date().toISOString()}};var se=(c="id")=>{let u=Date.now().toString(36),b=Math.random().toString(36).slice(2,8);return`${c}_${u}_${b}`},wr=async c=>{try{return await navigator.clipboard.writeText(c),!0}catch(u){return console.warn("Clipboard copy failed:",u),!1}},qi=()=>window.SpeechRecognition||window.webkitSpeechRecognition||null,zi=async c=>{let u=c.filter(b=>b&&b.body&&b.body.trim()).map(b=>`=== ${b.title} ===
${b.body}`).join(`

`);return u.trim()?wr(u.trim()):!1},rs=(c,u)=>{try{let b=new Blob([JSON.stringify(u,null,2)],{type:"application/json"}),w=URL.createObjectURL(b),M=document.createElement("a");M.href=w,M.download=c,document.body.appendChild(M),M.click(),M.remove(),URL.revokeObjectURL(w)}catch(b){console.warn("Export failed:",b)}},is=(c,u)=>{let b=lt=>{if(lt==null)return"";let ct=String(lt);return ct.includes('"')||ct.includes(",")||ct.includes(`
`)?`"${ct.replace(/"/g,'""')}"`:ct},w=u.map(lt=>lt.map(b).join(",")).join(`
`),M=new Blob([w],{type:"text/csv;charset=utf-8;"}),A=URL.createObjectURL(M),nt=document.createElement("a");nt.href=A,nt.download=c,document.body.appendChild(nt),nt.click(),nt.remove(),URL.revokeObjectURL(A)},hr=c=>new Promise((u,b)=>{if(!c){b(new Error("No file provided"));return}let w=new FileReader;w.onload=()=>{try{let M=JSON.parse(w.result);if(!M||typeof M!="object"){b(new Error("Invalid JSON structure"));return}u(M)}catch(M){b(M)}},w.onerror=()=>b(w.error||new Error("File read failed")),w.readAsText(c)}),Xi=[{id:"mrn",label:"Possible MRN (long numeric ID)",regex:/\b\d{7,}\b/},{id:"dob",label:"Possible DOB/date",regex:/\b\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}\b/},{id:"phone",label:"Possible phone number",regex:/\b(?:\+?1[-.\s]?)?\(?\d{3}\)?[-.\s]?\d{3}[-.\s]?\d{4}\b/},{id:"email",label:"Possible email address",regex:/\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}\b/i}],Qi=c=>!c||typeof c!="string"?[]:Xi.filter(u=>u.regex.test(c)).map(u=>u.label),bs=()=>[{id:"telestroke-consult",title:"Telestroke Consult Pack",description:"Summary for consult documentation.",sections:[{id:"summary",title:"Summary",enabled:!0,template:`Alias: {PATIENT_ALIAS}
Age/Sex: {AGE}{SEX}
NIHSS: {NIHSS}
Dx: {DIAGNOSIS}
LVO: {LVO}
Weight: {WEIGHT_KG} kg`},{id:"times",title:"Key Times",enabled:!0,template:`LKW: {LKW}
Arrival: {ARRIVAL}
CT: {CT_TIME}
CTA: {CTA_TIME}`},{id:"imaging",title:"Imaging",enabled:!0,template:`CT: {CT_RESULTS}
CTA: {CTA_RESULTS}
ASPECTS: {ASPECTS}`},{id:"plan",title:"Plan",enabled:!0,template:`TNK: {TNK_STATUS}
EVT: {EVT_STATUS}
Disposition: {DISPOSITION}`}]},{id:"transfer-pack",title:"Transfer Pack",description:"Transfer-ready summary for receiving centers.",sections:[{id:"summary",title:"Summary",enabled:!0,template:`Alias: {PATIENT_ALIAS}
Age/Sex: {AGE}{SEX}
NIHSS: {NIHSS}
Dx: {DIAGNOSIS}
LVO: {LVO}`},{id:"imaging",title:"Imaging",enabled:!0,template:`CT: {CT_RESULTS}
CTA: {CTA_RESULTS}
ASPECTS: {ASPECTS}
Perfusion: {CTP_RESULTS}`},{id:"treatment",title:"Treatment",enabled:!0,template:`TNK: {TNK_STATUS}
EVT: {EVT_STATUS}
Transfer status: {TRANSFER_STATUS}`}]},{id:"signout-pack",title:"Signout Pack",description:"End-of-shift signout snapshot.",sections:[{id:"summary",title:"Summary",enabled:!0,template:`Alias: {PATIENT_ALIAS}
Age/Sex: {AGE}{SEX}
NIHSS: {NIHSS}
Dx: {DIAGNOSIS}
Disposition: {DISPOSITION}`},{id:"pending",title:"Pending / Follow-up",enabled:!0,template:"{PENDING_ITEMS}"}]},{id:"ich-pack",title:"ICH Pack",description:"ICH-specific bundle.",sections:[{id:"summary",title:"Summary",enabled:!0,template:`Alias: {PATIENT_ALIAS}
Age/Sex: {AGE}{SEX}
ICH Score: {ICH_SCORE}
GCS: {GCS}
BP: {BP}`},{id:"imaging",title:"Imaging",enabled:!0,template:`CT: {CT_RESULTS}
Hematoma: {HEMATOMA}
IVH: {IVH}`},{id:"plan",title:"Plan",enabled:!0,template:`Reversal: {REVERSAL}
Disposition: {DISPOSITION}`}]}],us=()=>({deidMode:!0,allowFreeTextStorage:!1,ttlHoursOverride:null,preferredRole:"consult",defaultConsultationType:"videoTelestroke",compactMode:!1,lightweightMode:!1,tabletSplit:!1,quickLinks:[],quickNote:"",contacts:xr,pinnedTools:vr}),Ft=()=>({schemaVersion:cs,settings:us(),macros:[],shiftBoards:[],caseLog:[],workload:[],clinicalQuestions:[],teachingCases:[],uiState:{lastActiveTab:"encounter",lastShiftBoardId:null,lastManagementSubTab:"ich",legacyMigratedAt:null,searchHighlightId:null,featuredTeachingId:null},encounter:{clipboardPacks:bs(),clipboardPackVisibility:{}}}),ca=(c,u)=>{let b={...c,...u,settings:{...c.settings,...u&&u.settings?u.settings:{}},uiState:{...c.uiState,...u&&u.uiState?u.uiState:{}},encounter:{...c.encounter,...u&&u.encounter?u.encounter:{}}};return delete b.pinnedReferences,b.macros=it(b.macros,[]),b.shiftBoards=it(b.shiftBoards,[]),b.caseLog=it(b.caseLog,[]),b.workload=it(b.workload,[]),b.clinicalQuestions=it(b.clinicalQuestions,[]),b.teachingCases=it(b.teachingCases,[]),b.encounter.clipboardPacks=it(b.encounter.clipboardPacks,bs()),b},kr=c=>{let u={...c};return(Number.isFinite(u.schemaVersion)?u.schemaVersion:0)<cs&&(u.schemaVersion=cs),u},os=c=>{if(c.uiState&&c.uiState.legacyMigratedAt)return c;let u=ca(Ft(),c),b=ne("activeTab",null);b&&(u.uiState.lastActiveTab=b);let w=ne("ttlHoursOverride",null);return Number.isFinite(Number(w))&&Number(w)>0&&(u.settings.ttlHoursOverride=Number(w)),u.uiState.legacyMigratedAt=ee(),u},Yi=()=>{let c=Ft(),u=localStorage.getItem(ps);if(!u)return os(c);try{let b=JSON.parse(u),w=ca(c,b);return os(kr(w))}catch(b){return console.warn("Failed to parse app data:",b),os(c)}},Ji=c=>{try{localStorage.setItem(ps,JSON.stringify(c)),yr()}catch(u){console.warn("Failed to save app data:",u)}};var Zi=c=>{if(typeof c=="number"&&Number.isFinite(c))return c;if(typeof c=="string"){let u=Number(c);if(Number.isFinite(u))return u;let b=Date.parse(c);if(!Number.isNaN(b))return b}return null},Sr=c=>{let u=ne(gs,null),b=Zi(u);if(!b||!Number.isFinite(c)||c<=0)return!1;let w=c*60*60*1e3;return Date.now()-b>w?(Nr(),!0):!1};Gi();var Cr=Yi(),fr,ns=(fr=Cr.settings.ttlHoursOverride)!=null?fr:ne("ttlHoursOverride",null),eo=Number.isFinite(ns)&&ns>0?ns:St,to=Sr(eo),ao=["ich","ischemic","calculators","references"],qe={ich:"ich",protocols:"ischemic",calculators:"calculators",evidence:"references"},ot=c=>{if(!c)return null;let u=String(c).toLowerCase();return ao.includes(u)?u:qe[u]?qe[u]:null},ls=["encounter","management","trials"],so=c=>{if(!c)return{tab:"encounter"};let u=c.replace(/^#\/?/,"").trim();if(!u)return{tab:"encounter"};let b=u.split("/").filter(Boolean),w=b[0],M=b[1];switch(w){case"home":return{tab:"encounter"};case"encounter":return{tab:"encounter"};case"management":return{tab:"management",sub:ot(M)};case"ich":case"protocols":case"calculators":case"evidence":return{tab:"management",sub:qe[w]};case"trials":return{tab:"trials"};default:return null}},ro=(c,u)=>{switch(c){case"encounter":return"#/encounter";case"management":{let b=ot(u);return b?`#/management/${b}`:"#/management"}case"ich":return"#/management/ich";case"protocols":return"#/management/ischemic";case"calculators":return"#/management/calculators";case"trials":return"#/trials";case"evidence":return"#/management/references";default:return"#/encounter"}},io=()=>{var ur,pr;let c=`Chief complaint: {chiefComplaint}
Last known well (date/time): {lkwDate} {lkwTime}
HPI: {age} year old {sex} p/w {symptoms} at {lkwTime}
Relevant PMH: {pmh}
Medications: {medications}

Objective:
Vitals:
Presenting BP {presentingBP}
Blood pressure: BP prior to TNK administration: {bpPreTNK} at {bpPreTNKTime}
Labs: Glucose {glucose}
Exam: Scores: NIHSS {nihss} - {nihssDetails}

Imaging: I personally reviewed imaging
Date/time Non-contrast Head CT reviewed: {ctTime}; Non-contrast Head CT Results: {ctResults}
Date/time CTA reviewed: {ctaDate} {ctaTime}; CTA Results: {ctaResults}
Telemetry/EKG: {ekgResults}

Assessment and Plan:
Suspected Diagnosis: {diagnosis}
After ensuring that there were no evident contraindications, TNK administration was recommended at {tnkAdminTime}. Potential benefits, potential risks (including a potential risk of sx ICH of up to 4%), and alternatives to treatment were discussed with the patient, patient's wife, and OSH provider. Both the patient and his wife expressed agreement with the recommendation.
TNK was administered at {tnkAdminTime} after a brief time-out.

Recommendations:
{recommendationsText}

Clinician Name`,u=()=>({age:"",sex:"",hx:"",sx:"",lkw:"",lkw_date:new Date().toISOString().split("T")[0],nihss:"",aspects:"",def:"",hct:"",cta:"",ctp:"",tnk:[],tnk_rec:"",evt_rec:"",rec_reason:""}),b=()=>[{id:"M1",name:"M1 - Anterior MCA cortex",checked:!0},{id:"M2",name:"M2 - MCA cortex lateral to insular ribbon",checked:!0},{id:"M3",name:"M3 - Posterior MCA cortex",checked:!0},{id:"M4",name:"M4 - Anterior MCA territory immediately superior to M1",checked:!0},{id:"M5",name:"M5 - Lateral MCA territory immediately superior to M2",checked:!0},{id:"M6",name:"M6 - Posterior MCA territory immediately superior to M3",checked:!0},{id:"IC",name:"IC - Internal capsule",checked:!0},{id:"L",name:"L - Lentiform nucleus",checked:!0},{id:"C",name:"C - Caudate",checked:!0},{id:"I",name:"I - Insular ribbon",checked:!0}],w=()=>[{id:"THAL",name:"Thalami (bilateral)",checked:!0,points:1},{id:"MIDBRAIN",name:"Midbrain",checked:!0,points:2},{id:"PONS",name:"Pons",checked:!0,points:2},{id:"MEDULLA",name:"Medulla",checked:!0,points:1},{id:"CEREBELLUM-L",name:"Left Cerebellar Hemisphere",checked:!0,points:1},{id:"CEREBELLUM-R",name:"Right Cerebellar Hemisphere",checked:!0,points:1},{id:"PCA-L",name:"Left Occipital Lobe (PCA Territory)",checked:!0,points:1},{id:"PCA-R",name:"Right Occipital Lobe (PCA Territory)",checked:!0,points:1}],M=()=>({callingSite:"",callingSiteOther:"",alias:"",workingDiagnosis:"",briefHistory:"",deficits:"",imaging:"",chiefComplaint:"",lkwDate:new Date().toISOString().split("T")[0],lkwTime:new Date().toTimeString().slice(0,5),lkwUnknown:!1,discoveryDate:"",discoveryTime:"",age:"",sex:"M",affectedSide:"",weight:"",height:"",lastDOACDose:new Date().toISOString().slice(0,16),lastDOACType:"",arrivalTime:"",strokeAlertTime:"",dtnEdArrival:"",dtnStrokeAlert:"",dtnCtStarted:"",dtnCtRead:"",dtnTnkOrdered:"",dtnTnkAdministered:"",symptoms:"",pmh:"",medications:"",noAnticoagulants:!1,premorbidMRS:"",vesselOcclusion:[],presentingBP:"",bpPreTNK:"",bpPreTNKTime:"",glucose:"",plateletsCoags:"",creatinine:"",inr:"",ptt:"",plateletCount:"",platelets:"",allergies:"",contrastAllergy:!1,nihss:"",nihssDetails:"",imagingReviewed:!0,ctDate:new Date().toISOString().split("T")[0],ctTime:"",ctResults:"",ctaDate:new Date().toISOString().split("T")[0],ctaTime:"",ctaResults:"",ctpResults:"",ekgResults:"",wakeUpStrokeWorkflow:{mriAvailable:null,dwi:{positiveForLesion:!1,lesionVolume:""},flair:{noMarkedHyperintensity:!1},ageEligible:!1,nihssEligible:!1,extendCriteria:{nihss4to26:!1,premorbidMRSLt2:!1,ischemicCoreLte70:!1,mismatchRatioGte1_2:!1,timeWindow4_5to9h:!1},imagingRecommendation:"",wakeUpEligible:null,extendEligible:null},diagnosis:"",diagnosisCategory:"",tnkRecommended:!1,evtRecommended:!1,rationale:"",tnkConsentDiscussed:!1,patientFamilyConsent:!1,presumedConsent:!1,preTNKSafetyPause:!1,tnkAdminTime:"",admitLocation:"",recommendationsText:"",transferAccepted:!1,transferRationale:"",transferChecklist:{imagingShared:!1,transferCenterCalled:!1,acceptingPhysicianNotified:!1,transportArranged:!1,etaConfirmed:!1,bpGoalsCommunicated:!1},transferImagingShareMethod:"",transferImagingShareLink:"",transportMode:"",transportEta:"",transportNotes:"",disposition:"",doorTime:"",needleTime:"",punctureTime:"",tnkContraindicationChecklist:{activeInternalBleeding:!1,recentIntracranialSurgery:!1,intracranialNeoplasm:!1,knownBleedingDiathesis:!1,severeUncontrolledHTN:!1,currentICH:!1,recentMajorSurgery:!1,recentGIGUBleeding:!1,recentArterialPuncture:!1,recentLumbarPuncture:!1,pregnancy:!1,seizureAtOnset:!1,lowPlatelets:!1,elevatedINR:!1,elevatedPTT:!1,abnormalGlucose:!1,recentDOAC:!1},tnkContraindicationReviewed:!1,tnkContraindicationReviewTime:"",decisionLog:[],recommendations:{neuroChecks:!1,noAntithrombotics:!1,bpControl:!1,followUpCT:!1,mri:!1,ekg:!1,echo:!1,lipids:!1,therapies:!1,dvtPpx:!1,neuroConsult:!1}}),A=(e,t)=>{try{let s=ne(e,void 0);return s==null?t:Array.isArray(t)&&!Array.isArray(s)?(console.warn(`Invalid data type for ${e}, expected array. Resetting to default.`),t):s}catch(s){return console.warn(`Error loading ${e} from localStorage:`,s),t}},lt=(e,t)=>{try{return ne(e,t)}catch(s){return console.warn(`Error loading ${e}:`,s),t}},ct=(e,t)=>{try{Oe(e,{data:t,expiresAt:Date.now()+864e5})}catch(s){console.warn(`Error saving ${e}:`,s)}},[W,da]=m(()=>Cr),x=W.settings||us(),O=e=>{da(t=>{let s=typeof e=="function"?e(t):e;return ca(Ft(),s)})},Tr=(()=>{let e=W.uiState.lastActiveTab||"encounter";return qe[e]?"management":e})(),Ar=(()=>{let e=ot(W.uiState.lastManagementSubTab);return e||qe[W.uiState.lastActiveTab]||"ich"})(),[_,Ve]=m(Tr),[hs,Ir]=m(!1),[Se,ma]=m(null),[Kt,ua]=m(null),[Ut,Dr]=m(to),[pa,Ct]=m(!1),[Rr,Wt]=m(!1),[dt,fs]=m(()=>{let e=ne("caseSummaryCollapsed",null);return e!=null?e===!0:window.innerWidth<640}),[le,ga]=m(()=>ne("showAdvanced",!1)===!0),[xs,mt]=m({activeField:null,supported:!1,error:""}),[vs,Pr]=m({institutionLinks:[],ttlHoursOverride:null}),[ys,ba]=m(!1),[ha,fa]=m(x.ttlHoursOverride||St),[ce,Tt]=m(A("patientData",{})),[h,Ce]=m(A("nihssScore",0)),[N,ze]=m(A("aspectsScore",10)),[Fe,Ns]=m(ne("darkMode",!1)===!0),[xa,va]=m(""),[no,Er]=m(!1),[lo,Mr]=m(!1),[te,D]=m(""),[ws,Lr]=m(!1),[Bt,ks]=m(!1),[jt,ya]=m(A("telestrokeTemplate",c)),[fe,Ss]=m(new Date),[p,Te]=m(()=>{let e=A("lkwTime",null);return e?new Date(e):new Date}),[Ke,Cs]=m(ne("thrombolysisAlertsMuted",!1)===!0),[At,Na]=m(null),[Hr,_t]=m(!1),[wa,Ts]=m(0),[As,ut]=m("saved"),[Is,ka]=m(null),[Ds,Rs]=m([]),[Ps,Gt]=m([]),[Es,Ue]=m(!1),[Or,pt]=m("header"),[gt,Sa]=m(""),[$r,It]=m(!1),[Ca,Ta]=m({}),[co,mo]=m(""),[Aa,Ia]=m(A("currentStep",0)),[qt,Da]=m(A("completedSteps",[])),[zt,Ra]=m(A("shiftPatients",[])),[We,bt]=m(A("currentPatientId",null)),[uo,Pa]=m(!1),[Ae,Ms]=m(()=>{let e=ne("timerSidebarCollapsed",null);return e!=null?e===!0:window.innerWidth<1024}),[xe,ht]=m(A("consultationType",x.defaultConsultationType||"videoTelestroke")),[re,ft]=m(Ar),[Xt,Qt]=m(!1),[Ea,Vr]=m(((pr=(ur=W.encounter.clipboardPacks)==null?void 0:ur[0])==null?void 0:pr.id)||"telestroke-consult"),[po,go]=m(!1),[bo,ho]=m(!1),[fo,xo]=m(!1),[vo,yo]=m({}),[No,wo]=m(""),[ko,So]=m(""),[ae,Ls]=m({id:null,title:"",category:"",tagsText:"",templateText:"",favorite:!1}),[ve,Dt]=m(null),[Ma,La]=m({}),[B,Xe]=m({caseType:"AIS",role:x.preferredRole||"consult",nihss:"",lvo:"",occlusionSite:"",thrombolysis:"none",evt:"no",disposition:"admit",tagsText:"",notesDeId:""}),[Co,To]=m("all"),[Yt,Fr]=m({questionText:"",tagsText:"",urgency:"med"}),[Ao,Io]=m({}),[de,Ha]=m({title:"",vignetteText:"",keyPointsText:"",questionPrompt:"",questionOptionsText:"",questionCorrectIndex:0,questionExplanation:""}),[xt,Hs]=m(null),[Os,Do]=m("stroke code"),[$s,Ro]=m(""),[Po,Oa]=m(0),vt=W.shiftBoards||[],Kr=W.macros||[],Ie=W.caseLog||[],Vs=W.workload||[],Fs=W.clinicalQuestions||[],Eo=W.teachingCases||[],Rt=W.encounter.clipboardPacks||bs(),Ur=W.uiState.lastShiftBoardId||(vt[0]?vt[0].id:null),X=vt.find(e=>e.id===Ur)||null,Mo=W.uiState.featuredTeachingId||null,$a=rt(null),Lo=rt(null),Ho=rt(null),Oo=rt(null),Jt=rt(null),Zt=rt({tnkRecommended:!1,evtRecommended:!1,transferAccepted:!1,tnkContraindicationReviewed:!1,tnkConsentDiscussed:!1,tnkAdminTime:""}),[Wr,Va]=m(!1),[y,q]=m(A("gcsItems",{eye:"",verbal:"",motor:""})),[R,me]=m(A("mrsScore","")),[T,ue]=m(A("ichScoreItems",{gcs:"",age80:!1,volume30:!1,ivh:!1,infratentorial:!1})),[$,ea]=m({a:"",b:"",thicknessMm:"",numSlices:""});f(()=>{let{a:e,b:t,thicknessMm:s,numSlices:r}=$;if(e&&t&&s&&r){let i=parseFloat(s)/10*parseFloat(r),o=parseFloat(e)*parseFloat(t)*i/2;isNaN(o)||ue(n=>{let d=o>=30;return n.volume30!==d?{...n,volume30:d}:n})}},[$]);let[V,pe]=m(A("abcd2Items",{age60:!1,bp:!1,unilateralWeakness:!1,speechDisturbance:!1,duration:"",diabetes:!1})),[F,ge]=m(A("chads2vascItems",{chf:!1,hypertension:!1,age75:!1,diabetes:!1,strokeTia:!1,vascular:!1,age65:!1,female:!1})),[S,De]=m(A("ropeItems",{noHypertension:!1,noDiabetes:!1,noStrokeTia:!1,nonsmoker:!1,cortical:!1,age:""})),[Re,Be]=m(A("huntHessGrade","")),[Pe,je]=m(A("wfnsGrade","")),[I,ie]=m(A("hasbledItems",{hypertension:!1,renalDisease:!1,liverDisease:!1,stroke:!1,bleeding:!1,labileINR:!1,elderly:!1,drugs:!1,alcohol:!1})),[G,_e]=m(A("rcvs2Items",{recurrentTCH:!1,carotidInvolvement:!1,vasoconstrictiveTrigger:!1,female:!1,sah:!1})),[Pt,Et]=m("ischemic"),[$o,Br]=m({clinic:!1,map:!1}),[z,Qe]=m(A("strokeCodeForm",u())),[Ye,Mt]=m(A("aspectsRegionState",b())),[Je,ta]=m(A("pcAspectsRegions",w())),[a,l]=m(A("telestrokeNote",M())),aa={ischemic:{title:"Ischemic Stroke Studies",hasSubsections:!0,subsections:{acute:{title:"Acute Trials",trials:[{name:"SISTER Trial",nct:"NCT05948566",phase:"Phase 2",status:"",description:"TS23 (monoclonal antibody to \u03B12-antiplasmin) for late thrombolysis in acute ischemic stroke patients presenting 4.5-24 hours from last known well",inclusion:["Age \u226518 years","Suspected anterior circulation acute ischemic stroke","NIH Stroke Scale score \u22654 prior to randomization (participant must have a clearly disabling deficit if NIHSS is 4-5)","Time from last known well: 4.5-24 hours","Favorable baseline neuroimaging consisting of ALL of the following:","\u2022 ASPECTS \u22656 on CT (or ASPECTS \u22657 on MRI)","\u2022 Favorable perfusion imaging on CTP/MR-PWI consisting of ALL:","  - Mismatch ratio of penumbra:core >1.2","  - Mismatch volume >10 cc","  - Ischemic core volume <70 cc","Able to receive assigned study drug within 4.5 to 24 hours of stroke onset or last known well","Informed consent obtained from participant or legally authorized representative","Study drug administration encouraged within 90 minutes after qualifying perfusion image (allowed up to 120 minutes)"],exclusion:["Received endovascular treatment with clot engagement (patients with groin puncture but no clot engagement due to spontaneous distal migration are permitted)","Received or planned to receive intravenous thrombolysis","Pre-stroke modified Rankin score >2","Previous treatment with TS23 or known previous allergy to antibody therapy","Known pregnancy, breastfeeding, or plan to breastfeed within 3 months of receiving TS23","Positive urine or serum pregnancy test for women of childbearing potential","Known previous stroke in the past 90 days","Known previous intracranial hemorrhage, intracranial neoplasm, subarachnoid hemorrhage, or arteriovenous malformation","Known active diagnosis of intracranial neoplasm","Clinical presentation suggestive of subarachnoid hemorrhage (even if initial CT scan was normal)","Surgery or biopsy of parenchymal organ in the past 30 days","Known trauma with internal injuries or persistent ulcerative wounds in the past 30 days","Severe head trauma in the past 90 days","Persistent systolic blood pressure >180mmHg or diastolic blood pressure >105mmHg despite best medical management","Serious systemic hemorrhage in the past 30 days","Hereditary or acquired hemorrhagic diathesis or coagulation factor deficiency","Use of dual antiplatelet agents within 48 hours prior to stroke symptom onset","International normalized ratio (INR) >1.7 or partial thromboplastin time (PTT) > 2x upper limit of normal","Use of direct thrombin inhibitors or direct factor Xa inhibitors within past 48 hours unless aPTT, INR, platelet count, ecarin clotting time (ECT), thrombin time (TT), or appropriate factor Xa activity assays are normal","Glucose <50 mg/dL or >400 mg/dL","Platelets <100,000/\xB5L","Known severe renal failure with creatinine >3 mg/dL or glomerular filtration rate <30 mL/min","Severe contrast allergy that cannot be managed medically","Suspected cerebral vasculitis based on medical history and CTA/MRA","Suspected intracranial dissection based on medical history and CTA/MRA","Intracranial stenosis related to atherosclerosis proximal to intracranial thrombus","Intracranial stent in place proximal to the intracranial occlusion","Acute myocardial infarction in past 7 days","Major surgery (requiring intubation or transfusion) in past 30 days","Suspicion of aortic dissection on history, examination, or imaging","Presumed septic embolus; suspicion of bacterial endocarditis","Life expectancy <90 days","Currently participating in another investigational drug or device study"]},{name:"STEP-EVT Trial",nct:"NCT06289985",phase:"Adaptive Platform",status:"",description:"NIH StrokeNet adaptive platform trial optimizing endovascular therapy for mild stroke and medium/distal vessel occlusions",inclusion:["Age \u226518 years","Acute ischemic stroke due to large vessel occlusion (LVO) or medium vessel occlusion (MVO)","Within 24 hours of last known well","For Low NIHSS Domain:","\u2022 NIHSS 0-5 with ICA or M1 occlusion","\u2022 Disabling symptoms despite low NIHSS","For Medium/Distal Vessel Occlusion Domain:","\u2022 M2, M3, or M4 occlusion","\u2022 A1, A2, or A3 occlusion","\u2022 P1, P2, or P3 occlusion","\u2022 Appropriate perfusion imaging criteria demonstrating salvageable tissue","Ability to start EVT within appropriate time window","Pre-stroke mRS \u22642 (able to live independently)","Informed consent from patient or legally authorized representative"],exclusion:["Known pre-existing medical, neurological or psychiatric disease that would confound outcome evaluations","Known serious, advanced, or terminal illness with life expectancy <6 months","Unfavorable vascular anatomy limiting endovascular access to occluded artery","Acute occlusions in multiple vascular territories","Suspected septic embolus","Suspected bacterial endocarditis","Seizure at stroke onset with postictal residual impairments","Contrast allergy precluding EVT that cannot be adequately pre-medicated","Chronic total occlusion of target vessel","Known intracranial dissection","Known vasculitis","Known moyamoya disease or syndrome","Pregnancy or positive pregnancy test","Currently breastfeeding","Large core infarct (ASPECTS <3 or core volume >100cc depending on time window)","Evidence of intracranial hemorrhage on baseline imaging","Clinical suspicion of subarachnoid hemorrhage despite negative imaging","Known bleeding diathesis or coagulopathy","Platelet count <50,000/\u03BCL","INR >3.0","Blood glucose <50mg/dL","Refractory hypertension (SBP >185 or DBP >110 despite treatment)","Currently participating in another interventional clinical trial"]},{name:"PICASSO Trial",nct:"NCT05611242",phase:"Phase 3 RCT",status:"",description:"Mechanical thrombectomy with vs without acute carotid stenting for tandem lesions",inclusion:["Age 18-79 years","Acute ischemic stroke in the anterior circulation","Tandem lesion consisting of:","\u2022 Proximal carotid artery stenosis 70-100% by NASCET criteria or complete occlusion","\u2022 Intracranial large vessel occlusion (ICA terminus, M1, or proximal M2)","Within 16 hours from stroke onset or last known well","Pre-stroke mRS 0-2","NIHSS \u22654","For presentation \u22646 hours: ASPECTS \u22657 on non-contrast CT","For presentation >6-16 hours:","\u2022 ASPECTS \u22657 AND","\u2022 Ischemic core volume <50cc on perfusion imaging","\u2022 Mismatch ratio >1.8","\u2022 Mismatch volume >15cc","Ability to undergo groin puncture within treatment window","Informed consent obtained"],exclusion:["Proximal carotid stenosis secondary to dissection","Proximal carotid stenosis secondary to vasculitis","Pre-stroke mRS >2","Known hemorrhagic diathesis","Known coagulation factor deficiency","Absolute contraindications to antiplatelet therapy","Need for acute therapeutic anticoagulation that cannot be stopped","Platelet count <100,000/\u03BCL","INR >1.7","aPTT >1.5x normal","Blood glucose <50mg/dL or >400mg/dL","Serum creatinine >3.0mg/dL unless on dialysis","Evidence of intracranial hemorrhage on baseline CT/MRI","Clinical suspicion of subarachnoid hemorrhage","Large territory infarction (>1/3 MCA territory)","Known severe contrast allergy that cannot be adequately pre-medicated","Known pregnancy or positive pregnancy test","Life expectancy <90 days due to comorbid conditions","Enrollment in another interventional clinical trial","Previous carotid endarterectomy or carotid stenting on affected side","Contralateral carotid occlusion","Intracranial stenosis in addition to the tandem lesion","Known cardiac source of embolism requiring anticoagulation","Recent MI within 30 days with ongoing cardiac issues","Severe or unstable congestive heart failure","Uncontrolled hypertension (SBP >185 or DBP >110 despite treatment)"]},{name:"TESTED",nct:"NCT05911568",phase:"Comparative Effectiveness",status:"",description:"EVT vs medical therapy in LVO with pre-existing disability (mRS 3-4)",inclusion:["Age \u226518 years","Pre-stroke mRS 3-4 for at least 3 months prior to index stroke","Large vessel occlusion:","\u2022 ICA terminus","\u2022 M1 segment of MCA","\u2022 Dominant/co-dominant M2 segment","Within 24 hours of last known well","NIHSS \u22656","ASPECTS \u22653 on non-contrast CT or \u22654 on MRI","For 6-24 hour window: evidence of salvageable tissue on perfusion imaging","Able to undergo groin puncture within time window","Informed consent from patient or legally authorized representative"],exclusion:["Pre-stroke mRS 0-2 or mRS 5-6","Life expectancy <6 months from non-stroke condition","Pre-stroke disability deemed temporary or reversible","Known pregnancy","Evidence of intracranial hemorrhage","Large established infarct (>1/3 MCA territory)","Bilateral strokes","Known vasculitis or moyamoya","Intracranial tumor","Currently participating in another stroke intervention trial","Inability to follow up at 90 days"]}]},inpatient:{title:"Subacute Enrollment",trials:[{name:"VERIFY Study",nct:"NCT05338697",phase:"Observational",status:"",description:"Early TMS/MRI/clinical measures to predict upper extremity motor recovery",inclusion:["Age \u226518 years","Acute ischemic stroke within 7 days of onset","Upper extremity weakness (shoulder abduction and/or finger extension \u22644 on MRC scale)","Able to provide informed consent or has LAR","Able to participate in study assessments","Expected to survive at least 90 days"],exclusion:["Contraindications to TMS:","\u2022 Implanted electronic devices (pacemaker, cochlear implant, etc.)","\u2022 Intracranial metal","\u2022 History of seizures","\u2022 Active psychiatric medication affecting cortical excitability","Contraindications to MRI","Unable to complete follow-up visits at 30 and 90 days","Pre-stroke mRS >2","Bilateral upper extremity weakness","Previous stroke affecting motor function","Other neurological conditions affecting motor function","Pregnancy"]},{name:"DISCOVERY Study",nct:"NCT04916210",phase:"Observational",status:"",description:"Cognitive trajectories and biomarkers after stroke (includes AIS/ICH/SAH)",inclusion:["Age \u226518 years","Admitted with one of the following:","\u2022 Acute ischemic stroke","\u2022 Intracerebral hemorrhage","\u2022 Aneurysmal subarachnoid hemorrhage","Radiographic confirmation of stroke diagnosis","Baseline visit can be completed within 6 weeks of stroke","Fluent in English or Spanish","Has study partner who knows patient well (contact \u22651x/week)","Able to provide informed consent or has LAR","Expected to survive at least 1 year"],exclusion:["Pre-stroke dementia diagnosis","Pre-stroke cognitive impairment interfering with daily activities","Concurrent enrollment in interventional trial affecting cognition","Unable to complete study protocol due to:","\u2022 Severe aphasia preventing cognitive testing","\u2022 Severe motor impairment preventing testing","\u2022 Blindness or severe visual impairment","\u2022 Deafness or severe hearing impairment","Active substance abuse","Severe psychiatric illness affecting participation","Terminal illness with life expectancy <1 year","Previous enrollment in DISCOVERY","Planned move out of area within study period"]}]},imaging:{title:"Imaging Studies",trials:[{name:"ESUS Imaging Study",nct:"NCT03820375",phase:"Observational",status:"",description:"Cardiac and intracranial vessel wall MRI to reclassify ESUS",inclusion:["ESUS diagnosis","Age \u226518 years","Within 30 days of index stroke"],exclusion:["MRI contraindications","Known stroke etiology"]},{name:"MOCHA Imaging",nct:"PMC8821414",phase:"Observational",status:"",description:"Automated intracranial vessel-wall analysis for non-stenotic ICAD detection",inclusion:["Atherosclerotic lesions within the cerebrovascular tree clinically detected based on stenosis presence on clinical luminal imaging","Presence of two or more atherosclerotic risk factors:","\u2022 Age >50 years for men or >60 years for women","\u2022 Hypertension","\u2022 Diabetes mellitus","\u2022 Hyperlipidemia","\u2022 Obesity","\u2022 Smoking history","No clinical evidence for other intracranial vasculopathies","High-resolution MRI vessel wall imaging available"],exclusion:["Poor MRI image quality limiting vessel wall analysis","Known intracranial vasculopathy (vasculitis, moyamoya, dissection)","Unable to undergo MRI scanning","Contraindications to MRI contrast if required for imaging protocol"]}]}}},ich:{title:"Intracerebral Hemorrhage Studies",hasSubsections:!0,subsections:{trials:{title:"Trials",trials:[{name:"SATURN Trial",nct:"NCT03936361",phase:"Phase 3",status:"",description:"Statins for intracerebral hemorrhage: Continue vs discontinue after lobar ICH",inclusion:["Age \u226550 years","Spontaneous lobar intracerebral hemorrhage confirmed by CT or MRI","Taking statin therapy at time of ICH onset for \u22651 month","Modified Rankin Scale \u22644 at time of randomization","Randomization within 7 days of ICH","Clinical indication for statin therapy (dyslipidemia, atherosclerotic disease, diabetes)","Able to provide informed consent or has LAR","Expected to survive at least 6 months"],exclusion:["Deep (non-lobar) ICH location","Secondary causes of ICH:","\u2022 Trauma","\u2022 Known brain tumor","\u2022 Known vascular malformation or aneurysm","\u2022 Hemorrhagic transformation of ischemic stroke","\u2022 Known or suspected CNS vasculitis","\u2022 Coagulopathy (INR >1.5, platelet count <100,000)","\u2022 Drug-related (cocaine, amphetamines)","Recent MI (<3 months) or unstable angina","Coronary revascularization within past year","Diabetes mellitus with prior MI or coronary revascularization","Clear contraindication to statin discontinuation per treating physician","Statin-related myopathy or rhabdomyolysis","Severe hepatic impairment (ALT/AST >3x ULN)","Life expectancy <6 months from non-ICH condition","Unable to follow study protocol","Pregnancy or breastfeeding","Participation in another interventional trial"]},{name:"ASPIRE Trial",nct:"NCT03907046",phase:"Phase 3",status:"",description:"Apixaban vs aspirin for stroke prevention after ICH in atrial fibrillation",inclusion:["Age \u226518 years","Spontaneous ICH confirmed by CT or MRI","Non-valvular atrial fibrillation (paroxysmal, persistent, or permanent)","CHA2DS2-VASc score \u22652","Randomization 14-180 days after ICH","Modified Rankin Scale \u22644 at randomization","Able to take oral medications","Informed consent obtained"],exclusion:["Clear indication for anticoagulation other than AF:","\u2022 Mechanical heart valve","\u2022 Recent DVT/PE requiring anticoagulation","\u2022 Left ventricular thrombus","Left atrial appendage closure device","Valvular AF (moderate-severe mitral stenosis, mechanical valve)","Secondary causes of ICH requiring specific treatment","Creatinine \u22652.5mg/dL or CrCl <25mL/min","Hepatic insufficiency (Child-Pugh B or C)","Active bleeding or high bleeding risk condition","Uncontrolled hypertension (BP \u2265180/100 on multiple readings)","Platelet count <100,000/\u03BCL","Hemoglobin <8g/dL","Need for dual antiplatelet therapy","Contraindication to aspirin or apixaban","Pregnancy or breastfeeding","Life expectancy <1 year","Unable to adhere to study protocol","Participation in another antithrombotic trial"]},{name:"cAPPricorn-1 Trial",nct:"NCT06393712",phase:"Phase 2",status:"",description:"Intrathecal ALN-APP (mivelsiran) for cerebral amyloid angiopathy",inclusion:["For sporadic CAA:","\u2022 Age \u226550 years","\u2022 Meets Boston Criteria v2.0 for probable CAA","\u2022 Prior symptomatic lobar ICH \u226590 days ago","For Dutch-type hereditary CAA:","\u2022 Age \u226530 years","\u2022 Confirmed E693Q APP variant","\u2022 Prior ICH \u226590 days ago (if applicable)","MRI evidence of CAA (microbleeds, superficial siderosis)","Modified Rankin Scale \u22644","Able to undergo lumbar punctures","Adequate contraception if childbearing potential","Informed consent obtained"],exclusion:["ICH within 90 days of screening","Other cause of ICH identified","ALT or AST >3\xD7 upper limit of normal","eGFR <30 mL/min/1.73m\xB2","Platelet count <100,000/\u03BCL","INR >1.5 or aPTT >1.5\xD7 ULN","Contraindication to lumbar puncture","Active CNS infection or inflammation","Intrathecal pump or shunt","Spinal cord compression or injury","History of chemical or radiation meningitis","Pregnancy or breastfeeding","Life expectancy <2 years","Chronic use of anticoagulation that cannot be stopped for LP","Prior treatment with gene therapy or oligonucleotide therapy","Participation in another interventional trial within 30 days"]},{name:"FASTEST Trial",nct:"NCT03496883",phase:"Phase 3",status:"Actively recruiting",description:"Recombinant Factor VIIa (rFVIIa) for acute ICH within 2 hours of symptom onset to prevent hematoma expansion",inclusion:["Age 18-80 years","Spontaneous supratentorial ICH confirmed by CT","ICH symptom onset \u22642 hours before treatment","Hematoma volume 2-60 mL","Intraventricular hemorrhage (IVH) score \u22647","Glasgow Coma Scale \u22658","Able to receive study drug within 2 hours of symptom onset","Informed consent from patient or legally authorized representative"],exclusion:["On anticoagulation therapy (warfarin, DOAC, heparin)","Known coagulopathy","Secondary ICH:","\u2022 Trauma","\u2022 Known vascular malformation (AVM, aneurysm)","\u2022 Brain tumor","\u2022 Hemorrhagic conversion of ischemic stroke","\u2022 Dural venous sinus thrombosis","Brainstem hemorrhage excluded; cerebellar hemorrhage permitted","Planned surgical evacuation within 24 hours","Pre-existing severe disability (mRS >2)","Known allergy to rFVIIa","History of thromboembolic disease within 30 days","Pregnancy","Life expectancy <3 months from pre-existing condition"]}]},observational:{title:"Observational",trials:[{name:"MIRROR Registry",nct:"NCT04494295",phase:"Observational Registry",status:"",description:"Minimally invasive endoscopic ICH evacuation using Aurora Surgiscope System",inclusion:["Age \u226518 years","Spontaneous supratentorial ICH confirmed by CT","ICH volume \u226520mL","Surgery planned within 24 hours of last known well","NIHSS >5","Baseline mRS \u22642","GCS \u22655","Ability to undergo general anesthesia","Informed consent from patient or LAR"],exclusion:["Secondary ICH due to:","\u2022 Vascular lesion (AVM, aneurysm, dural fistula)","\u2022 Brain tumor","\u2022 Trauma","\u2022 Hemorrhagic transformation of ischemic stroke","\u2022 Moyamoya disease","Fixed and dilated pupils","Bilateral extensor posturing","Infratentorial or brainstem ICH","Intraventricular hemorrhage as primary pathology","Life expectancy <6 months from other condition","Uncorrectable coagulopathy (INR >1.4, platelets <100,000)","Known pregnancy","Prisoner or ward of state","Participation in another interventional trial"]},{name:"DISCOVERY Study (ICH Cohort)",nct:"NCT04916210",phase:"Observational",status:"",description:"Cognitive trajectories and biomarkers after ICH",inclusion:["Age \u226518 years","Admitted with intracerebral hemorrhage","Radiographic confirmation of ICH","Baseline visit within 6 weeks of ICH","Fluent in English or Spanish","Has study partner with regular contact","Expected survival \u22651 year"],exclusion:["Pre-existing dementia","Unable to complete cognitive testing","Concurrent enrollment in cognitive intervention trial","Active substance abuse","Severe psychiatric illness","Terminal illness with life expectancy <1 year"]}]}}},rehab:{title:"Rehabilitation",trials:[{name:"MR-PICS Study",nct:"NCT06506279",phase:"Phase 2",status:"",description:"Motor Recovery through Plasticity-Inducing Cortical Stimulation using CorTec Brain Interchange System for chronic stroke recovery",inclusion:["Post-ischemic stroke patients with upper extremity deficit","Chronic stroke (minimum 6 months post-stroke)","Age 22-80 years","Able to participate meaningfully in rehabilitation (Upper Extremity Fugl-Meyer score 25-45)","Disability measured between 3-4 on modified Rankin Scale","Minimum 30% preservation of corticospinal tract integrity","Ability to provide informed consent","Medically stable and cleared for neurosurgical procedure","Willingness to comply with study protocol and follow-up visits","Access to caregiver support during recovery period"],exclusion:["Seizure disorder or history of seizures","Contraindications to neurosurgical procedures","Contraindications to MRI scanning","Active psychiatric condition that would interfere with participation","Pregnancy or nursing","Life expectancy less than 2 years","Current participation in other interventional clinical trials","Inability to stop anti-platelet medications 7 days before and 3 days after surgery","Therapeutic anticoagulation that cannot be safely interrupted","Active substance abuse or dependence","Severe cognitive impairment preventing informed consent","Glenohumeral subluxation, adhesive capsulitis, or upper extremity contractures with associated pain that would limit participation","Implanted electronic devices incompatible with study procedures","Prior brain surgery or cranial implants","Hemorrhagic stroke (intracerebral hemorrhage excluded)","Bilateral stroke or multiple stroke locations"]}]},cadasil:{title:"CADASIL",trials:[{name:"CADASIL Registry",nct:"NCT05567744",phase:"Observational Registry",status:"",description:"Longitudinal registry for genetically confirmed or suspected CADASIL",inclusion:["Confirmed NOTCH3 mutation or suspected CADASIL","Age \u226518 years"],exclusion:["Unable to provide consent"]}]}},j={apixaban:{name:"Apixaban (Eliquis)",class:"Direct Factor Xa Inhibitor",halfLife:"8-12 hours",halfLifeNote:"Prolonged in renal impairment",thrombolysisThreshold:"48 hours since last dose",thrombolysisNote:"Consider anti-Xa level if <48h - thrombolysis may be given if anti-Xa <30 ng/mL",ichReversal:{primary:"4-Factor PCC (Kcentra) 50 IU/kg (max 5000 IU)",alternative:"Activated PCC (FEIBA) 50 IU/kg if 4F-PCC unavailable",note:"Andexxa (andexanet alfa) is NOT recommended due to cost, availability, and thrombosis risk"},monitoring:"Anti-Xa level (calibrated for apixaban)"},rivaroxaban:{name:"Rivaroxaban (Xarelto)",class:"Direct Factor Xa Inhibitor",halfLife:"5-9 hours (young), 11-13 hours (elderly)",halfLifeNote:"Prolonged in renal impairment",thrombolysisThreshold:"48 hours since last dose",thrombolysisNote:"Consider anti-Xa level if <48h - thrombolysis may be given if anti-Xa <30 ng/mL",ichReversal:{primary:"4-Factor PCC (Kcentra) 50 IU/kg (max 5000 IU)",alternative:"Activated PCC (FEIBA) 50 IU/kg if 4F-PCC unavailable",note:"Andexxa (andexanet alfa) is NOT recommended due to cost, availability, and thrombosis risk"},monitoring:"Anti-Xa level (calibrated for rivaroxaban)"},edoxaban:{name:"Edoxaban (Savaysa)",class:"Direct Factor Xa Inhibitor",halfLife:"10-14 hours",halfLifeNote:"Prolonged in renal impairment",thrombolysisThreshold:"48 hours since last dose",thrombolysisNote:"Consider anti-Xa level if <48h - thrombolysis may be given if anti-Xa <30 ng/mL",ichReversal:{primary:"4-Factor PCC (Kcentra) 50 IU/kg (max 5000 IU)",alternative:"Activated PCC (FEIBA) 50 IU/kg if 4F-PCC unavailable",note:"Andexxa (andexanet alfa) is NOT recommended due to cost, availability, and thrombosis risk"},monitoring:"Anti-Xa level (calibrated for edoxaban)"},dabigatran:{name:"Dabigatran (Pradaxa)",class:"Direct Thrombin Inhibitor",halfLife:"12-17 hours",halfLifeNote:"Significantly prolonged in renal impairment (up to 28h if CrCl <30)",thrombolysisThreshold:"48 hours since last dose",thrombolysisNote:"Consider dTT or ECT if <48h - thrombolysis may be given if dTT/ECT normal or aPTT <40s",ichReversal:{primary:"Idarucizumab (Praxbind) 5g IV (2 x 2.5g vials)",alternative:"4-Factor PCC (Kcentra) 50 IU/kg if idarucizumab unavailable",note:"Idarucizumab is the ONLY FDA-approved specific reversal agent for dabigatran"},monitoring:"dTT (dilute thrombin time), ECT, or aPTT (less reliable)"},warfarin:{name:"Warfarin (Coumadin)",class:"Vitamin K Antagonist",halfLife:"20-60 hours",halfLifeNote:"Variable, depends on individual metabolism",thrombolysisThreshold:"INR \u22641.7",thrombolysisNote:"Contraindicated if INR >1.7, PT >15s, or aPTT >40s",ichReversal:{primary:"Vitamin K 10mg IV + 4-Factor PCC (Kcentra) based on INR and weight",pccDosing:"INR 2-4: 25 IU/kg; INR 4-6: 35 IU/kg; INR >6: 50 IU/kg (max 5000 IU)",alternative:"FFP 10-15 mL/kg if PCC unavailable (less effective, volume overload risk)",note:"Vitamin K should always be given for sustained reversal"},monitoring:"INR, PT"},heparin:{name:"Unfractionated Heparin (UFH)",class:"Indirect Thrombin Inhibitor",halfLife:"1-2 hours",halfLifeNote:"Dose-dependent, cleared faster at higher doses",thrombolysisThreshold:"24 hours if therapeutic dosing",thrombolysisNote:"Contraindicated if aPTT >40s - wait for normalization",ichReversal:{primary:"Protamine sulfate 1mg per 100 units UFH (last 2-3 hours)",maxDose:"Max 50mg protamine per dose",note:"Protamine has rapid onset; re-dose if continued bleeding"},monitoring:"aPTT, anti-Xa level"},lmwh:{name:"Low Molecular Weight Heparin (Enoxaparin, etc.)",class:"Indirect Factor Xa/IIa Inhibitor",halfLife:"4-6 hours",halfLifeNote:"Prolonged in renal impairment",thrombolysisThreshold:"24 hours since last therapeutic dose",thrombolysisNote:"Contraindicated within 24h of therapeutic dose; prophylactic dosing may be acceptable",ichReversal:{primary:"Protamine sulfate 1mg per 1mg enoxaparin (if <8h since dose)",note:"Protamine only partially reverses LMWH (~60% anti-Xa activity neutralized)"},monitoring:"Anti-Xa level (preferred), aPTT (unreliable)"}},Fa={SISTER:{id:"SISTER",name:"SISTER Trial",nct:"NCT05948566",category:"ischemic",quickDescription:"Late thrombolysis (4.5-24h) for anterior circulation stroke, no TNK/EVT",lookingFor:["Anterior circulation stroke","Late presenter (4.5-24h from LKW)","NOT getting TNK or EVT","Has salvageable tissue on CTP (mismatch profile)"],keyCriteria:[{id:"age",label:"Age \u226518",field:"age",evaluate:e=>{var t,s;return parseInt(((t=e.telestrokeNote)==null?void 0:t.age)||((s=e.strokeCodeForm)==null?void 0:s.age))>=18},required:!0},{id:"nihss",label:"NIHSS \u22656 (or 4-5 disabling)",field:"nihss",evaluate:e=>{var t,s;return parseInt(((t=e.telestrokeNote)==null?void 0:t.nihss)||((s=e.strokeCodeForm)==null?void 0:s.nihss))>=4},required:!0},{id:"timeWindow",label:"4.5-24h from LKW",field:"lkw",evaluate:e=>{let t=e.hoursFromLKW;return t!==null&&t>=4.5&&t<=24},required:!0},{id:"noTNK",label:"No IV thrombolysis",field:"tnkRecommended",evaluate:e=>{var t;return((t=e.telestrokeNote)==null?void 0:t.tnkRecommended)===!1},required:!0},{id:"noEVT",label:"No EVT planned",field:"evtRecommended",evaluate:e=>{var t;return((t=e.telestrokeNote)==null?void 0:t.evtRecommended)===!1},required:!0},{id:"aspects",label:"ASPECTS \u22656",field:"aspects",evaluate:e=>parseInt(e.aspectsScore)>=6,required:!0},{id:"premorbidMRS",label:"Pre-stroke mRS \u22642",field:"premorbidMRS",evaluate:e=>{var t;return parseInt((t=e.telestrokeNote)==null?void 0:t.premorbidMRS)<=2},required:!0},{id:"ctpMismatch",label:"CTP mismatch profile",field:"ctpResults",evaluate:e=>{var s;let t=(((s=e.telestrokeNote)==null?void 0:s.ctpResults)||"").toLowerCase();return t.includes("mismatch")||t.includes("penumbra")||t.includes("salvageable")},required:!0}],exclusionFlags:[{id:"priorStroke90d",label:"Prior stroke <90 days",field:"priorStroke90d"},{id:"priorICH",label:"Prior intracranial hemorrhage",field:"priorICH"},{id:"onAnticoag",label:"On anticoagulation",field:"noAnticoagulants",evaluate:e=>{var t;return((t=e.telestrokeNote)==null?void 0:t.noAnticoagulants)===!1}}]},STEP:{id:"STEP",name:"STEP-EVT Trial",nct:"NCT06289985",category:"ischemic",quickDescription:"Adaptive platform for mild LVO or medium/distal vessel occlusions",lookingFor:["Two domains: Low NIHSS with LVO, OR Medium/Distal Vessel Occlusion","Low NIHSS (0-5) + ICA/M1 occlusion, or","M2/M3/M4, A1-A3, P1-P3 occlusion regardless of NIHSS"],keyCriteria:[{id:"age",label:"Age \u226518",field:"age",evaluate:e=>{var t,s;return parseInt(((t=e.telestrokeNote)==null?void 0:t.age)||((s=e.strokeCodeForm)==null?void 0:s.age))>=18},required:!0},{id:"timeWindow",label:"Within 24h from LKW",field:"lkw",evaluate:e=>{let t=e.hoursFromLKW;return t!==null&&t<=24},required:!0},{id:"premorbidMRS",label:"Pre-stroke mRS \u22642",field:"premorbidMRS",evaluate:e=>{var t;return parseInt((t=e.telestrokeNote)==null?void 0:t.premorbidMRS)<=2},required:!0},{id:"vesselOcclusion",label:"LVO or MeVO present",field:"vesselOcclusion",evaluate:e=>{var s;return(((s=e.telestrokeNote)==null?void 0:s.vesselOcclusion)||[]).length>0},required:!0},{id:"domainMatch",label:"Matches Low-NIHSS or MeVO domain",field:"nihss",evaluate:e=>{var o,n,d;let t=parseInt(((o=e.telestrokeNote)==null?void 0:o.nihss)||((n=e.strokeCodeForm)==null?void 0:n.nihss)),s=((d=e.telestrokeNote)==null?void 0:d.vesselOcclusion)||[],r=t<=5&&(s.includes("ICA")||s.includes("M1")),i=s.some(g=>["M2","M3","M4","A1","A2","A3","P1","P2","P3"].includes(g));return r||i},required:!0}],exclusionFlags:[{id:"pregnancy",label:"Pregnancy",field:"pregnancy"},{id:"hemorrhage",label:"Evidence of hemorrhage",field:"hemorrhage"}]},PICASSO:{id:"PICASSO",name:"PICASSO Trial",nct:"NCT05611242",category:"ischemic",quickDescription:"Tandem lesion: carotid stenosis + intracranial LVO",lookingFor:["Tandem lesion (carotid + intracranial)","Extracranial ICA stenosis 70-100%","Plus intracranial LVO (ICA-T, M1, proximal M2)"],keyCriteria:[{id:"age",label:"Age 18-79",field:"age",evaluate:e=>{var s,r;let t=parseInt(((s=e.telestrokeNote)==null?void 0:s.age)||((r=e.strokeCodeForm)==null?void 0:r.age));return t>=18&&t<=79},required:!0},{id:"timeWindow",label:"Within 16h from LKW",field:"lkw",evaluate:e=>{let t=e.hoursFromLKW;return t!==null&&t<=16},required:!0},{id:"nihss",label:"NIHSS \u22654",field:"nihss",evaluate:e=>{var t,s;return parseInt(((t=e.telestrokeNote)==null?void 0:t.nihss)||((s=e.strokeCodeForm)==null?void 0:s.nihss))>=4},required:!0},{id:"premorbidMRS",label:"Pre-stroke mRS 0-2",field:"premorbidMRS",evaluate:e=>{var t;return parseInt((t=e.telestrokeNote)==null?void 0:t.premorbidMRS)<=2},required:!0},{id:"aspects",label:"ASPECTS \u22657",field:"aspects",evaluate:e=>parseInt(e.aspectsScore)>=7,required:!0},{id:"tandemLesion",label:"Tandem lesion present",field:"ctaResults",evaluate:e=>{var s,r;let t=(((s=e.telestrokeNote)==null?void 0:s.ctaResults)||((r=e.strokeCodeForm)==null?void 0:r.cta)||"").toLowerCase();return t.includes("tandem")||t.includes("carotid")&&(t.includes("m1")||t.includes("ica"))},required:!0}],exclusionFlags:[]},TESTED:{id:"TESTED",name:"TESTED",nct:"NCT05911568",category:"ischemic",quickDescription:"EVT in patients with pre-existing disability (mRS 3-4)",lookingFor:["Patient with EXISTING disability (mRS 3-4)","LVO stroke within 24h","ASPECTS \u22653"],keyCriteria:[{id:"age",label:"Age \u226518",field:"age",evaluate:e=>{var t,s;return parseInt(((t=e.telestrokeNote)==null?void 0:t.age)||((s=e.strokeCodeForm)==null?void 0:s.age))>=18},required:!0},{id:"premorbidMRS",label:"Pre-stroke mRS 3-4",field:"premorbidMRS",evaluate:e=>{var s;let t=parseInt((s=e.telestrokeNote)==null?void 0:s.premorbidMRS);return t>=3&&t<=4},required:!0},{id:"nihss",label:"NIHSS \u22656",field:"nihss",evaluate:e=>{var t,s;return parseInt(((t=e.telestrokeNote)==null?void 0:t.nihss)||((s=e.strokeCodeForm)==null?void 0:s.nihss))>=6},required:!0},{id:"timeWindow",label:"Within 24h from LKW",field:"lkw",evaluate:e=>{let t=e.hoursFromLKW;return t!==null&&t<=24},required:!0},{id:"aspects",label:"ASPECTS \u22653",field:"aspects",evaluate:e=>parseInt(e.aspectsScore)>=3,required:!0},{id:"lvo",label:"LVO present",field:"vesselOcclusion",evaluate:e=>{var s;return(((s=e.telestrokeNote)==null?void 0:s.vesselOcclusion)||[]).some(r=>["ICA","M1","M2"].includes(r))},required:!0}],exclusionFlags:[]},SATURN:{id:"SATURN",name:"SATURN Trial",nct:"NCT03936361",category:"ich",quickDescription:"Statin continuation vs discontinuation after lobar ICH",lookingFor:["Lobar ICH (NOT deep/basal ganglia)","Already on statin therapy","Age \u226550"],keyCriteria:[{id:"age",label:"Age \u226550",field:"age",evaluate:e=>{var t,s;return parseInt(((t=e.telestrokeNote)==null?void 0:t.age)||((s=e.strokeCodeForm)==null?void 0:s.age))>=50},required:!0},{id:"lobarICH",label:"Lobar ICH location",field:"ichLocation",evaluate:e=>{let t=(e.ichLocation||"").toLowerCase();return t.includes("lobar")||t.includes("cortical")},required:!0},{id:"onStatin",label:"On statin at ICH onset",field:"onStatin",evaluate:e=>e.onStatin===!0,required:!0},{id:"mrs",label:"mRS \u22644 at randomization",field:"mrsScore",evaluate:e=>parseInt(e.mrsScore)<=4,required:!0}],exclusionFlags:[{id:"deepICH",label:"Deep/non-lobar ICH",field:"ichLocation"},{id:"recentMI",label:"Recent MI <3 months",field:"recentMI"}]},ASPIRE:{id:"ASPIRE",name:"ASPIRE Trial",nct:"NCT03907046",category:"ich",quickDescription:"Apixaban vs aspirin post-ICH in atrial fibrillation",lookingFor:["ICH patient with atrial fibrillation","Randomize 14-180 days post-ICH","CHA2DS2-VASc \u22652"],keyCriteria:[{id:"age",label:"Age \u226518",field:"age",evaluate:e=>{var t,s;return parseInt(((t=e.telestrokeNote)==null?void 0:t.age)||((s=e.strokeCodeForm)==null?void 0:s.age))>=18},required:!0},{id:"ichConfirmed",label:"ICH confirmed",field:"diagnosis",evaluate:e=>{var s;let t=(((s=e.telestrokeNote)==null?void 0:s.diagnosis)||"").toLowerCase();return t.includes("ich")||t.includes("hemorrhage")||t.includes("hemorrhagic")},required:!0},{id:"afib",label:"Atrial fibrillation",field:"pmh",evaluate:e=>{var s;let t=(((s=e.telestrokeNote)==null?void 0:s.pmh)||"").toLowerCase();return t.includes("afib")||t.includes("atrial fib")||t.includes("af ")||t.includes("a-fib")},required:!0},{id:"mrs",label:"mRS \u22644",field:"mrsScore",evaluate:e=>parseInt(e.mrsScore)<=4,required:!0}],exclusionFlags:[{id:"mechValve",label:"Mechanical heart valve",field:"mechValve"}]},FASTEST:{id:"FASTEST",name:"FASTEST Trial",nct:"NCT03496883",category:"ich",quickDescription:"rFVIIa within 2 hours of ICH onset for hematoma expansion prevention",lookingFor:["Acute ICH within 2 HOURS of symptom onset","Hematoma volume 2-60 mL","Not on anticoagulants","Age 18-80"],keyCriteria:[{id:"age",label:"Age 18-80",field:"age",evaluate:e=>{var s,r;let t=parseInt(((s=e.telestrokeNote)==null?void 0:s.age)||((r=e.strokeCodeForm)==null?void 0:r.age));return t>=18&&t<=80},required:!0},{id:"ichConfirmed",label:"ICH confirmed on imaging",field:"diagnosis",evaluate:e=>{var r,i,o,n;let t=(((r=e.telestrokeNote)==null?void 0:r.diagnosis)||((i=e.strokeCodeForm)==null?void 0:i.diagnosis)||"").toLowerCase(),s=(((o=e.telestrokeNote)==null?void 0:o.ctResults)||((n=e.strokeCodeForm)==null?void 0:n.ctResults)||"").toLowerCase();return t.includes("ich")||t.includes("hemorrhage")||s.includes("hemorrhage")||s.includes("bleed")},required:!0},{id:"timeWindow",label:"Within 2h of onset",field:"lkw",evaluate:e=>{let t=e.hoursFromLKW;return t!==null&&t<=2},required:!0},{id:"volume",label:"Hematoma 2-60 mL",field:"ichVolume",evaluate:e=>{let t=parseFloat(e.ichVolume);return!isNaN(t)&&t>=2&&t<=60},required:!0},{id:"noAnticoag",label:"Not on anticoagulants",field:"noAnticoagulants",evaluate:e=>{var t;return((t=e.telestrokeNote)==null?void 0:t.noAnticoagulants)===!0},required:!0},{id:"gcs",label:"GCS \u22658 (not deeply comatose)",field:"gcs",evaluate:e=>{let t=parseInt(e.gcsScore);return!isNaN(t)&&t>=8},required:!0},{id:"premorbidMRS",label:"Pre-stroke mRS \u22642",field:"premorbidMRS",evaluate:e=>{var s;let t=parseInt((s=e.telestrokeNote)==null?void 0:s.premorbidMRS);return!isNaN(t)&&t<=2},required:!0}],exclusionFlags:[{id:"onAnticoag",label:"On anticoagulation",field:"onAnticoag"},{id:"largeIVH",label:"IVH score >7",field:"largeIVH"},{id:"brainstem",label:"Brainstem hemorrhage",field:"brainstemICH"},{id:"secondary",label:"Secondary ICH (trauma, AVM, tumor)",field:"secondaryICH"}]},VERIFY:{id:"VERIFY",name:"VERIFY Study",nct:"NCT05338697",category:"ischemic",quickDescription:"Observational: TMS/MRI to predict motor recovery",lookingFor:["Acute ischemic stroke within 7 days","Upper extremity weakness","Inpatient enrollment opportunity"],keyCriteria:[{id:"age",label:"Age \u226518",field:"age",evaluate:e=>{var t,s;return parseInt(((t=e.telestrokeNote)==null?void 0:t.age)||((s=e.strokeCodeForm)==null?void 0:s.age))>=18},required:!0},{id:"ueWeakness",label:"Upper extremity weakness",field:"symptoms",evaluate:e=>{var s;let t=(((s=e.telestrokeNote)==null?void 0:s.symptoms)||"").toLowerCase();return t.includes("arm")||t.includes("upper")||t.includes("hand")||t.includes("weakness")},required:!1},{id:"premorbidMRS",label:"Pre-stroke mRS \u22642",field:"premorbidMRS",evaluate:e=>{var t;return parseInt((t=e.telestrokeNote)==null?void 0:t.premorbidMRS)<=2},required:!0}],exclusionFlags:[{id:"seizures",label:"History of seizures",field:"seizures"},{id:"implants",label:"Implanted devices (pacemaker, etc.)",field:"implants"}]},DISCOVERY:{id:"DISCOVERY",name:"DISCOVERY Study",nct:"NCT04916210",category:"ischemic",quickDescription:"Observational: Cognitive trajectories post-stroke",lookingFor:["Any stroke type (AIS, ICH, SAH)","Baseline visit within 6 weeks","Able to complete cognitive testing"],keyCriteria:[{id:"age",label:"Age \u226518",field:"age",evaluate:e=>{var t,s;return parseInt(((t=e.telestrokeNote)==null?void 0:t.age)||((s=e.strokeCodeForm)==null?void 0:s.age))>=18},required:!0},{id:"strokeConfirmed",label:"Stroke confirmed",field:"diagnosis",evaluate:e=>{var s;let t=(((s=e.telestrokeNote)==null?void 0:s.diagnosis)||"").toLowerCase();return t.includes("stroke")||t.includes("ischemic")||t.includes("ich")||t.includes("sah")},required:!0}],exclusionFlags:[{id:"preDementia",label:"Pre-existing dementia",field:"preDementia"}]}},jr=(e,t)=>{let s=Fa[e];if(!s)return null;let r={trialId:e,trialName:s.name,category:s.category,quickDescription:s.quickDescription,lookingFor:s.lookingFor,criteria:[],exclusions:[],status:"pending",metCount:0,notMetCount:0,unknownCount:0,requiredMissing:0};return s.keyCriteria.forEach(i=>{let o="unknown",n=null;try{let d=i.evaluate(t);d===!0?(o="met",r.metCount++):d===!1?(o="not_met",r.notMetCount++,i.required&&r.requiredMissing++):(o="unknown",r.unknownCount++)}catch(d){o="unknown",r.unknownCount++}r.criteria.push({id:i.id,label:i.label,status:o,required:i.required})}),s.exclusionFlags.forEach(i=>{let o=!1;try{i.evaluate?o=i.evaluate(t):o=t[i.field]===!0}catch(n){o=!1}o&&(r.exclusions.push({id:i.id,label:i.label,triggered:!0}),r.notMetCount++,r.status="not_eligible")}),r.exclusions.some(i=>i.triggered)||r.requiredMissing>0?r.status="not_eligible":r.unknownCount>0?r.status="needs_info":r.notMetCount===0?r.status="eligible":r.status="not_eligible",r},_r=e=>{let t={};return Object.keys(Fa).forEach(s=>{t[s]=jr(s,e)}),t},[Gr,qr]=m({}),[Vo,zr]=m(null),Fo=e=>{let t=Fa[e];if(!t)return;zr(e),Ve("trials");let s=t.name.toLowerCase().replace(/\s+trial$/i,"").replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"");setTimeout(()=>{let r=document.getElementById(`trial-${s}`);r&&(r.open=!0,r.scrollIntoView({behavior:"smooth",block:"center"}),r.classList.add("ring-4","ring-blue-400","ring-opacity-75"),setTimeout(()=>{r.classList.remove("ring-4","ring-blue-400","ring-opacity-75")},2e3))},150)},Ks=({trial:e,category:t})=>{let s=o=>{switch(o){case"ischemic":return"bg-blue-600 text-white";case"ich":return"bg-red-600 text-white";case"rehab":return"bg-green-600 text-white";case"cadasil":return"bg-purple-600 text-white";default:return"bg-gray-600 text-white"}},r=o=>{switch(o){case"ischemic":return"border-blue-200";case"ich":return"border-red-200";case"rehab":return"border-green-200";case"cadasil":return"border-purple-200";default:return"border-gray-200"}},i=e.name.toLowerCase().replace(/\s+trial$/i,"").replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"");return React.createElement("details",{id:`trial-${i}`,className:`bg-white rounded-lg shadow-md overflow-hidden border-2 ${r(t)} hover:shadow-lg transition-shadow`},React.createElement("summary",{className:`${s(t)} p-4 cursor-pointer list-none`},React.createElement("div",{className:"flex justify-between items-start"},React.createElement("div",{className:"flex-1"},React.createElement("h3",{className:"text-xl font-bold mb-2"},e.name),React.createElement("div",{className:"flex flex-wrap gap-2 mb-3"},React.createElement("span",{className:"bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm font-semibold"},e.phase),e.status&&React.createElement("span",{className:"bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm font-semibold"},e.status)),React.createElement("p",{className:"text-white text-opacity-95"},e.description)),React.createElement("div",{className:"ml-4"},React.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})))),React.createElement("div",{className:"mt-3 flex items-center"},e.nct.startsWith("NCT")?React.createElement("button",{className:"bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center",onClick:o=>{o.stopPropagation(),window.open(`https://clinicaltrials.gov/study/${e.nct}`,"_blank")}},React.createElement("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})),e.nct):React.createElement("span",{className:"text-sm opacity-90"},"Reference: ",e.nct))),React.createElement("div",{className:"bg-gray-50 p-4 border-t-2 border-gray-200"},React.createElement("div",{className:"grid md:grid-cols-2 gap-6"},React.createElement("div",null,React.createElement("h4",{className:"font-bold text-green-700 mb-3 text-lg"},"\u2713 Inclusion Criteria"),React.createElement("ul",{className:"space-y-2"},e.inclusion.map((o,n)=>React.createElement("li",{key:n,className:"flex items-start"},React.createElement("span",{className:"text-green-500 mr-2 mt-1"},"\u2022"),React.createElement("span",{className:"text-gray-700 text-sm"},o))))),React.createElement("div",null,React.createElement("h4",{className:"font-bold text-red-700 mb-3 text-lg"},"\u2717 Exclusion Criteria"),React.createElement("ul",{className:"space-y-2"},e.exclusion.map((o,n)=>React.createElement("li",{key:n,className:"flex items-start"},React.createElement("span",{className:"text-red-500 mr-2 mt-1"},"\u2022"),React.createElement("span",{className:"text-gray-700 text-sm"},o)))))),e.nct.startsWith("NCT")&&React.createElement("div",{className:"mt-6 pt-4 border-t border-gray-200 text-center"},React.createElement("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors inline-flex items-center",onClick:()=>window.open(`https://clinicaltrials.gov/study/${e.nct}`,"_blank")},React.createElement("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})),"View Full Details on ClinicalTrials.gov"))))},Lt=[{id:"consciousness",name:"1a. Level of Consciousness",options:["Alert (0)","Drowsy (1)","Stuporous (2)","Coma (3)"]},{id:"loc_questions",name:"1b. LOC Questions",options:["Both correct (0)","One correct (1)","Neither correct (2)"]},{id:"loc_commands",name:"1c. LOC Commands",options:["Obeys both correctly (0)","Obeys one correctly (1)","Neither correctly (2)"]},{id:"best_gaze",name:"2. Best Gaze",options:["Normal (0)","Partial gaze palsy (1)","Forced deviation (2)"]},{id:"visual",name:"3. Visual",options:["No visual loss (0)","Partial hemianopia (1)","Complete hemianopia (2)","Bilateral hemianopia (3)"]},{id:"facial_palsy",name:"4. Facial Palsy",options:["Normal (0)","Minor asymmetry (1)","Partial facial paralysis (2)","Complete facial paralysis (3)"]},{id:"motor_arm_left",name:"5a. Motor Arm-Left",options:["No drift (0)","Drift (1)","Some effort against gravity (2)","No effort against gravity (3)","No movement (4)"]},{id:"motor_arm_right",name:"5b. Motor Arm-Right",options:["No drift (0)","Drift (1)","Some effort against gravity (2)","No effort against gravity (3)","No movement (4)"]},{id:"motor_leg_left",name:"6a. Motor Leg-Left",options:["No drift (0)","Drift (1)","Some effort against gravity (2)","No effort against gravity (3)","No movement (4)"]},{id:"motor_leg_right",name:"6b. Motor Leg-Right",options:["No drift (0)","Drift (1)","Some effort against gravity (2)","No effort against gravity (3)","No movement (4)"]},{id:"limb_ataxia",name:"7. Limb Ataxia",options:["Absent (0)","Present in upper or lower (1)","Present in both (2)"]},{id:"sensory",name:"8. Sensory",options:["Normal (0)","Partial loss (1)","Dense loss (2)"]},{id:"language",name:"9. Best Language\u2020",options:["No aphasia (0)","Mild-moderate aphasia (1)","Severe aphasia (2)","Mute, global aphasia (3)"]},{id:"dysarthria",name:"10. Dysarthria\u2020",options:["Normal articulation (0)","Mild-moderate slurring (1)","Severe dysarthria (2)","Intubated/other (2)"]},{id:"extinction",name:"11. Extinction and Inattention",options:["No neglect (0)","Visual, tactile, auditory, spatial, or personal inattention (1)","Profound hemi-inattention (2)"]}],Ka=e=>Object.values(e).reduce((t,s)=>{var i;let r=parseInt(((i=s==null?void 0:s.split("(")[1])==null?void 0:i.split(")")[0])||0);return t+r},0),Ko=e=>e.filter(t=>t.checked).length,Xr=e=>e.reduce((t,s)=>t+(s.checked?s.points:0),0),Ht=e=>parseInt(e.eye||0)+parseInt(e.verbal||0)+parseInt(e.motor||0),sa=e=>{let t=0;return e.gcs==="gcs34"?t+=2:e.gcs==="gcs512"&&(t+=1),e.age80&&(t+=1),e.volume30&&(t+=1),e.ivh&&(t+=1),e.infratentorial&&(t+=1),t},Ua=e=>{let t=0;return e.age60&&(t+=1),e.bp&&(t+=1),e.unilateralWeakness&&(t+=2),e.speechDisturbance&&(t+=1),e.duration==="duration10"?t+=1:e.duration==="duration60"&&(t+=2),e.diabetes&&(t+=1),t},Wa=e=>{let t=0;return e.chf&&(t+=1),e.hypertension&&(t+=1),e.age75&&(t+=2),e.diabetes&&(t+=1),e.strokeTia&&(t+=2),e.vascular&&(t+=1),e.age65&&(t+=1),e.female&&(t+=1),t},Q=e=>{let t=0;e.noHypertension&&(t+=1),e.noDiabetes&&(t+=1),e.noStrokeTia&&(t+=1),e.nonsmoker&&(t+=1),e.cortical&&(t+=1);let s=parseInt(e.age)||0;return s>=18&&s<=29?t+=5:s>=30&&s<=39?t+=4:s>=40&&s<=49?t+=3:s>=50&&s<=59?t+=2:s>=60&&s<=69&&(t+=1),t},Ze=e=>{let t=0;return e.hypertension&&(t+=1),e.renalDisease&&(t+=1),e.liverDisease&&(t+=1),e.stroke&&(t+=1),e.bleeding&&(t+=1),e.labileINR&&(t+=1),e.elderly&&(t+=1),e.drugs&&(t+=1),e.alcohol&&(t+=1),t},et=e=>{let t=0;return e.recurrentTCH&&(t+=5),e.carotidInvolvement&&(t+=3),e.vasoconstrictiveTrigger&&(t+=2),e.female&&(t+=1),e.sah&&(t-=2),t},Ge=e=>{let t=parseFloat(e);if(isNaN(t)||t<=0)return null;let s=t*.25,r=Math.min(s,25),i=[{minWeight:0,maxWeight:59.9,dose:"Variable (0.25 mg/kg)",vial:"Calculate"},{minWeight:60,maxWeight:69.9,dose:"15-17.5 mg",vial:"3-3.5 mL"},{minWeight:70,maxWeight:79.9,dose:"17.5-20 mg",vial:"3.5-4 mL"},{minWeight:80,maxWeight:89.9,dose:"20-22.5 mg",vial:"4-4.5 mL"},{minWeight:90,maxWeight:99.9,dose:"22.5-25 mg",vial:"4.5-5 mL"},{minWeight:100,maxWeight:1/0,dose:"25 mg (MAX)",vial:"5 mL"}];return{weightKg:t,calculatedDose:r.toFixed(1),isMaxDose:s>=25,doseTable:i}},tt=e=>{if(!e||typeof e!="string")return{status:"unknown",systolic:null,diastolic:null};let t=e.match(/(\d+)\s*\/\s*(\d+)/);if(!t)return{status:"unknown",systolic:null,diastolic:null};let s=parseInt(t[1]),r=parseInt(t[2]);if(isNaN(s)||isNaN(r))return{status:"unknown",systolic:null,diastolic:null};let i=185,o=110,n=175,d=105,g="ok",v="OK for lysis",C="bg-green-100 text-green-800 border-green-300",K="\u2713";s>i||r>o?(g="too_high",v="Too high for TNK",C="bg-red-100 text-red-800 border-red-300",K="\uF6AB"):(s>=n&&s<=i||r>=d&&r<=o)&&(g="borderline",v="Borderline",C="bg-yellow-100 text-yellow-800 border-yellow-300",K="\u26A0");let P=Math.max(0,s-i),E=Math.max(0,r-o);return{status:g,systolic:s,diastolic:r,message:v,badgeClass:C,icon:K,sbpToLower:P,dbpToLower:E,needsLowering:P>0||E>0}},Uo=(e,t)=>{let s=parseFloat(e),r=parseFloat(t);if(isNaN(s)||s<=0)return null;let i,o;isNaN(r)||r<2?(i=25,o="INR <2 or unknown"):r>=2&&r<=4?(i=25,o="INR 2-4"):r>4&&r<=6?(i=35,o="INR 4-6"):(i=50,o="INR >6");let n=Math.min(s*i,5e3);return{weightKg:s,inr:r||"unknown",unitsPerKg:i,totalDose:Math.round(n),isMaxDose:s*i>=5e3,description:o}},Ba=()=>{let e={doorToCT:null,doorToNeedle:null,ctToNeedle:null,timestamps:{}},t=a.dtnEdArrival?new Date(a.dtnEdArrival):null,s=a.dtnCtStarted?new Date(a.dtnCtStarted):null,r=a.dtnCtRead?new Date(a.dtnCtRead):null,i=a.dtnTnkAdministered?new Date(a.dtnTnkAdministered):null;if(e.timestamps={edArrival:t,strokeAlert:a.dtnStrokeAlert?new Date(a.dtnStrokeAlert):null,ctStarted:s,ctRead:r,tnkOrdered:a.dtnTnkOrdered?new Date(a.dtnTnkOrdered):null,tnkAdmin:i},t&&s){let o=s-t,n=Math.round(o/(1e3*60));e.doorToCT=n}if(t&&i){let o=i-t,n=Math.round(o/(1e3*60));e.doorToNeedle=n}if(r&&i){let o=i-r,n=Math.round(o/(1e3*60));e.ctToNeedle=n}return e},ja=e=>e===null?null:e<=45?{status:"excellent",color:"green",label:"Excellent",target:45,delta:e-45}:e<=60?{status:"good",color:"yellow",label:"Good",target:60,delta:e-45}:{status:"needs_improvement",color:"red",label:"Needs Improvement",target:60,delta:e-60},Qr=()=>{let e=Ba();if(!e.doorToNeedle)return"";let t=ja(e.doorToNeedle),s=`
Time Metrics:
`;return e.doorToCT!==null&&(s+=`Door-to-CT: ${e.doorToCT} minutes
`),s+=`Door-to-Needle (DTN): ${e.doorToNeedle} minutes`,t&&(s+=` (${t.label}`,t.delta>0?s+=`, +${t.delta} min over ${t.target} min target`:t.delta<0&&(s+=`, ${Math.abs(t.delta)} min under ${t.target} min target`),s+=")"),s+=`
`,e.ctToNeedle!==null&&(s+=`CT-to-Needle: ${e.ctToNeedle} minutes
`),s},Us=e=>{var K,P,E,U,J,we,k,Z,ke,wt,gr;let t=[],s=parseFloat((K=e.telestrokeNote)==null?void 0:K.glucose);isNaN(s)||(s<50?t.push({severity:"critical",label:"Hypoglycemia",message:`Glucose ${s} mg/dL - Correct before thrombolysis`,field:"glucose"}):s>400&&t.push({severity:"critical",label:"Hyperglycemia",message:`Glucose ${s} mg/dL - Correct before thrombolysis`,field:"glucose"}));let r=parseFloat((P=e.telestrokeNote)==null?void 0:P.inr);!isNaN(r)&&r>1.7&&t.push({severity:"critical",label:"Elevated INR",message:`INR ${r.toFixed(1)} >1.7 - tPA/TNK CONTRAINDICATED`,field:"inr"});let i=parseFloat((E=e.telestrokeNote)==null?void 0:E.plateletCount);!isNaN(i)&&i<1e5&&t.push({severity:"critical",label:"Low Platelets",message:`${i.toLocaleString()}/\u03BCL <100,000 - tPA/TNK CONTRAINDICATED`,field:"plateletCount"});let n=(((U=e.telestrokeNote)==null?void 0:U.presentingBP)||"").match(/(\d+)\s*\/\s*(\d+)/);if(n){let kt=parseInt(n[1]),oa=parseInt(n[2]);(kt>185||oa>110)&&t.push({severity:"warning",label:"Elevated BP",message:`${kt}/${oa} exceeds 185/110 - Must lower before TNK`,field:"presentingBP"})}if((J=e.telestrokeNote)!=null&&J.lastDOACType&&((we=e.telestrokeNote)!=null&&we.lastDOACDose)){let kt=new Date(e.telestrokeNote.lastDOACDose),Vt=(new Date-kt)/(1e3*60*60);Vt<48&&t.push({severity:"warning",label:"Recent DOAC",message:`${e.telestrokeNote.lastDOACType} within ${Vt.toFixed(0)}h - Check drug-specific assay`,field:"lastDOACDose"})}let d=parseInt((k=e.telestrokeNote)==null?void 0:k.age),g=parseInt((Z=e.telestrokeNote)==null?void 0:Z.nihss);!isNaN(d)&&!isNaN(g)&&d+g>=100&&t.push({severity:"info",label:"SPAN-100",message:`Age ${d} + NIHSS ${g} = ${d+g} \u2265100 - Higher sICH risk`,field:"nihss"});let v=(ke=e.telestrokeNote)==null?void 0:ke.lkwDate,C=(wt=e.telestrokeNote)==null?void 0:wt.lkwTime;if(v&&C){let kt=new Date(`${v}T${C}`),Vt=(new Date-kt)/(1e3*60*60);Vt>4.5&&((gr=e.telestrokeNote)!=null&&gr.tnkRecommended)&&t.push({severity:"warning",label:"Late Window",message:`${Vt.toFixed(1)}h from LKW - Verify imaging criteria`,field:"lkwTime"})}return t},Wo=({icon:e,size:t=16})=>{let s=rt(null);return React.useEffect(()=>{s.current&&lucide.createIcons({root:s.current,nameAttr:"data-lucide",attrs:{class:"w-4 h-4 inline-block"}})},[e]),React.createElement("span",{ref:s,className:"inline-flex items-center justify-center"},React.createElement("i",{"data-lucide":e,className:"w-4 h-4 inline-block"}))},Ws=(e,t)=>{try{Oe(e,t),ut("saved"),ka(new Date)}catch(s){ut("error"),console.error("Save failed:",s)}},Bo=(e,t)=>{try{return A(e,t)}catch(s){return console.warn("Load failed:",s),t}},Yr=(e,t)=>{let s;return function(...i){let o=()=>{clearTimeout(s),e(...i)};clearTimeout(s),s=setTimeout(o,t)}},L=React.useCallback(Yr((e,t)=>{ut("saving"),Ws(e,t),ut("saved"),ka(Date.now())},1e3),[]),Bs=()=>`pt_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,Jr=()=>{let e=a.age||"?",t=a.sex||"?",s=a.symptoms||"Stroke symptoms",r=a.nihss||h||"?",i=he(),o=i?`${i.hours}h ${i.minutes}m`:"?",n="",d=a.vesselOcclusion||[];return d.includes("M1")?n="M1":d.includes("ICA")?n="ICA":d.includes("M2")?n="M2":a.ctaResults&&(a.ctaResults.toLowerCase().includes("m1")?n="M1":a.ctaResults.toLowerCase().includes("ica")&&(n="ICA")),{age:e,sex:t,symptoms:s.substring(0,30)+(s.length>30?"...":""),nihss:r,timeFromLKW:o,vesselInfo:n,shortLabel:`${e}${t} ${n||"AIS"} NIHSS ${r}`,fullLabel:`${e}yo ${t==="M"?"M":t==="F"?"F":"?"}, ${n||"Stroke"}, NIHSS ${r}, ${o} from LKW`}},Zr=()=>{let e={eligible:0,needsInfo:0,notEligible:0,total:0};return Object.values(Gr).forEach(t=>{t&&(e.total++,t.status==="eligible"?e.eligible++:t.status==="needs_info"?e.needsInfo++:t.status==="not_eligible"&&e.notEligible++)}),e},js=()=>{let e=We||Bs(),t=Jr(),s=Zr(),r={id:e,timestamp:Date.now(),summary:t,trialSummary:s,formState:{telestrokeNote:{...a},strokeCodeForm:{...z},lkwTime:p?p.toISOString():null,nihssScore:h,aspectsScore:N,mrsScore:R,gcsItems:{...y}}};return Ra(i=>{let o=i.findIndex(n=>n.id===e);if(o>=0){let n=[...i];return n[o]=r,n}return[...i,r]}),We||bt(e),e},jo=e=>{We&&a.age&&js();let t=zt.find(r=>r.id===e);if(!t)return;let{formState:s}=t;l(s.telestrokeNote),Qe(s.strokeCodeForm),Te(s.lkwTime?new Date(s.lkwTime):null),Ce(s.nihssScore),ze(s.aspectsScore),me(s.mrsScore),q(s.gcsItems),bt(e),Pa(!1)},ei=()=>{a.age&&js(),Ai({generateNewId:!0})},_o=e=>{Ra(t=>t.filter(s=>s.id!==e)),We===e&&bt(null)},ti=e=>{if(!e)return[];let t=e.match(/{[A-Z0-9_]+}/g)||[];return[...new Set(t.map(s=>s.replace(/[{}]/g,"")))]},_a=(e,t)=>e?e.replace(/{([A-Z0-9_]+)}/g,(s,r)=>{let i=t[r];return i==null?"":String(i)}):"",ai=()=>{let e=a.lkwDate&&a.lkwTime?`${a.lkwDate} ${a.lkwTime}`:"";return{PATIENT_ALIAS:a.alias||"",AGE:a.age||"",SEX:a.sex||"",NIHSS:a.nihss||h||"",DIAGNOSIS:a.diagnosis||"",LVO:(a.vesselOcclusion||[]).join(", "),WEIGHT_KG:a.weight||"",LKW:e,ARRIVAL:a.arrivalTime||"",CT_TIME:a.ctTime||"",CTA_TIME:a.ctaTime||"",CT_RESULTS:a.ctResults||"",CTA_RESULTS:a.ctaResults||"",CTP_RESULTS:a.ctpResults||"",ASPECTS:N!==10?N:"",TNK_STATUS:a.tnkRecommended?a.tnkAdminTime?`Given at ${a.tnkAdminTime}`:"Recommended":"Not given",EVT_STATUS:a.evtRecommended?"Recommended":"Not recommended",DISPOSITION:a.disposition||"",TRANSFER_STATUS:a.transferAccepted?"Accepted":"",PENDING_ITEMS:"",ICH_SCORE:sa(T),GCS:Ht(y),BP:a.presentingBP||"",HEMATOMA:a.ctResults||"",IVH:a.ctResults||"",REVERSAL:""}},si=()=>Rt.find(e=>e.id===Ea)||Rt[0]||null,ri=e=>{if(!e)return[];let t=ai();return(e.sections||[]).filter(s=>s.enabled).map(s=>({title:s.title,body:_a(s.template,t)}))},Go=async()=>{let e=si();if(!e)return;let t=ri(e);await zi(t)&&D("Clipboard pack")},Ee=(e,t)=>{O(s=>({...s,shiftBoards:s.shiftBoards.map(r=>r.id!==e?r:{...t(r),updatedAt:ee()})}))},qo=e=>{O(t=>({...t,uiState:{...t.uiState,lastShiftBoardId:e}}))},zo=()=>{let e=prompt("Board name:","New Board");if(!e)return;let t=se("board");O(s=>({...s,shiftBoards:[{id:t,name:e.trim()||"New Board",createdAt:ee(),updatedAt:ee(),archived:!1,patients:[]},...s.shiftBoards],uiState:{...s.uiState,lastShiftBoardId:t}}))},Xo=e=>{let t=vt.find(r=>r.id===e);if(!t)return;let s=prompt("Rename board:",t.name);s&&Ee(e,r=>({...r,name:s.trim()||r.name}))},Qo=(e,t=!0)=>{Ee(e,s=>({...s,archived:t}))},Yo=()=>{if(!X)return;let e={id:se("pt"),alias:vi(),label:"",location:"",problemSummary:"",tasks:[],pendingResults:[],freeNotes:""};Ee(X.id,t=>({...t,patients:[e,...t.patients||[]]}))},Jo=(e,t)=>{X&&Ee(X.id,s=>({...s,patients:(s.patients||[]).map(r=>r.id===e?{...r,...t}:r)}))},Zo=e=>{X&&Ee(X.id,t=>({...t,patients:(t.patients||[]).filter(s=>s.id!==e)}))},ii=(e,t)=>{!X||!t||Ee(X.id,s=>({...s,patients:(s.patients||[]).map(r=>{if(r.id!==e)return r;let i={id:se("task"),text:t.trim(),priority:"med",owner:"me",dueAt:"",status:"todo",createdAt:ee(),completedAt:null};return{...r,tasks:[i,...r.tasks||[]]}})}))},en=()=>{if(!X||!(X.patients||[]).length){H("Add a patient before creating a task.","warning");return}let e=prompt("Task description:");if(!e)return;let t=X.patients[0];ii(t.id,e)},tn=(e,t,s)=>{X&&Ee(X.id,r=>({...r,patients:(r.patients||[]).map(i=>i.id!==e?i:{...i,tasks:(i.tasks||[]).map(o=>o.id===t?{...o,...s,completedAt:s.status==="done"?ee():o.completedAt}:o)})}))},an=(e,t)=>{!X||!t||Ee(X.id,s=>({...s,patients:(s.patients||[]).map(r=>{if(r.id!==e)return r;let i={id:se("result"),label:t.trim(),status:"pending",dueAt:"",resultSummary:""};return{...r,pendingResults:[i,...r.pendingResults||[]]}})}))},sn=(e,t,s)=>{X&&Ee(X.id,r=>({...r,patients:(r.patients||[]).map(i=>i.id!==e?i:{...i,pendingResults:(i.pendingResults||[]).map(o=>o.id===t?{...o,...s}:o)})}))},rn=e=>{if(!e)return"";let t=`ROUNDS CHECKLIST - ${e.name}
---
`;return(e.patients||[]).forEach(s=>{t+=`${s.alias||"Patient"}${s.label?` (${s.label})`:""}
`,s.problemSummary&&(t+=`- Summary: ${s.problemSummary}
`);let r=(s.tasks||[]).filter(o=>o.status!=="done");r.length&&(t+=`- Tasks:
`,r.forEach(o=>{t+=`  \u2022 ${o.text} (${o.priority})
`}));let i=(s.pendingResults||[]).filter(o=>o.status!=="resulted");i.length&&(t+=`- Pending:
`,i.forEach(o=>{t+=`  \u2022 ${o.label}
`})),t+=`
`}),t.trim()},on=e=>{if(!e)return"";let t=`SIGNOUT TASKS - ${e.name}
---
`;return(e.patients||[]).forEach(s=>{let r=(s.tasks||[]).filter(i=>i.status!=="done");r.length&&(t+=`${s.alias||"Patient"}
`,r.forEach(i=>{t+=`- ${i.text} (${i.priority}, ${i.owner})
`}),t+=`
`)}),t.trim()},Ga=e=>e?e.split(",").map(t=>t.trim()).filter(Boolean):[],nn=()=>{if(!ae.title.trim()||!ae.templateText.trim()){H("Macro title and template are required.","warning");return}let e=ee(),t=Ga(ae.tagsText);if(ae.id)O(s=>({...s,macros:s.macros.map(r=>r.id===ae.id?{...r,title:ae.title.trim(),category:ae.category.trim(),tags:t,templateText:ae.templateText,favorite:ae.favorite,updatedAt:e}:r)}));else{let s={id:se("macro"),title:ae.title.trim(),category:ae.category.trim(),tags:t,templateText:ae.templateText,createdAt:e,updatedAt:e,favorite:ae.favorite,usageCount:0};O(r=>({...r,macros:[s,...r.macros]}))}Ls({id:null,title:"",category:"",tagsText:"",templateText:"",favorite:!1}),H("Macro saved.","success")},ln=e=>{Ls({id:e.id,title:e.title,category:e.category||"",tagsText:(e.tags||[]).join(", "),templateText:e.templateText||"",favorite:!!e.favorite})},cn=e=>{O(t=>({...t,macros:t.macros.filter(s=>s.id!==e)}))},dn=e=>{O(t=>({...t,macros:t.macros.map(s=>s.id===e?{...s,favorite:!s.favorite}:s)}))},oi=e=>{O(t=>({...t,macros:t.macros.map(s=>s.id===e?{...s,usageCount:(s.usageCount||0)+1}:s)}))},mn=(e,t=null)=>{let s=ti(e.templateText),r=s.reduce((i,o)=>(i[o]="",i),{});Dt({macro:e,targetField:t,variables:s}),La(r)},_s=async(e="copy")=>{if(!ve)return;let t=_a(ve.macro.templateText,Ma);e==="copy"&&(await wr(t),D("Macro")),e==="insert"&&ve.targetField==="recommendations"&&l(s=>({...s,recommendationsText:s.recommendationsText?`${s.recommendationsText}
${t}`:t})),e==="insert"&&ve.targetField==="rationale"&&l(s=>({...s,rationale:s.rationale?`${s.rationale}
${t}`:t})),oi(ve.macro.id),Dt(null),La({})},un=()=>{rs(`stroke-macros-${new Date().toISOString().slice(0,10)}.json`,Kr)},pn=async e=>{try{let t=await hr(e),s=Array.isArray(t)?t:Array.isArray(t.macros)?t.macros:null;if(!s){H("Macro import failed: invalid file.","error");return}O(r=>({...r,macros:[...s,...r.macros]})),H("Macros imported.","success")}catch(t){H("Macro import failed.","error")}},Gs=e=>({id:e.id||se("case"),createdAt:e.createdAt||ee(),caseType:e.caseType||"other",role:e.role||x.preferredRole||"consult",nihss:e.nihss||"",lvo:e.lvo||"",occlusionSite:e.occlusionSite||"",thrombolysis:e.thrombolysis||"none",evt:e.evt||"no",keyTimes:e.keyTimes||{},disposition:e.disposition||"",tags:e.tags||[],notesDeId:e.notesDeId||""}),ni=()=>{let e=Gs({caseType:B.caseType,role:B.role,nihss:B.nihss,lvo:B.lvo,occlusionSite:B.occlusionSite,thrombolysis:B.thrombolysis,evt:B.evt,disposition:B.disposition,tags:Ga(B.tagsText),notesDeId:B.notesDeId});O(t=>({...t,caseLog:[e,...t.caseLog]})),Xe({caseType:"AIS",role:x.preferredRole||"consult",nihss:"",lvo:"",occlusionSite:"",thrombolysis:"none",evt:"no",disposition:"admit",tagsText:"",notesDeId:""}),H("Case log entry added.","success")},li=()=>{let e=a.diagnosisCategory==="ich"?"ICH":a.diagnosisCategory==="ischemic"?"AIS":"other",t=a.tnkRecommended?"TNK":"none",s=a.evtRecommended?"yes":"no",r=Gs({caseType:e,role:x.preferredRole||"consult",nihss:a.nihss||h||"",lvo:(a.vesselOcclusion||[]).length>0?"yes":"",occlusionSite:(a.vesselOcclusion||[]).join(", "),thrombolysis:t,evt:s,disposition:a.disposition||"",keyTimes:{lkw:a.lkwDate&&a.lkwTime?`${a.lkwDate}T${a.lkwTime}`:"",arrival:a.dtnEdArrival||"",ct:a.dtnCtStarted||"",needle:a.dtnTnkAdministered||""},tags:[],notesDeId:x.deidMode?"":B.notesDeId||""});O(i=>({...i,caseLog:[r,...i.caseLog]})),H("Encounter saved to case log.","success")},ci=()=>{let e=[["id","createdAt","caseType","role","nihss","lvo","occlusionSite","thrombolysis","evt","disposition","tags","notesDeId"]];Ie.forEach(t=>{e.push([t.id,t.createdAt,t.caseType,t.role,t.nihss,t.lvo,t.occlusionSite,t.thrombolysis,t.evt,t.disposition,(t.tags||[]).join("; "),t.notesDeId||""])}),is(`case-log-${new Date().toISOString().slice(0,10)}.csv`,e)},di=(e="full")=>{let t=e==="subset"?Ie.map(s=>({...s,notesDeId:s.notesDeId||""})):Ie;rs(`case-log-${new Date().toISOString().slice(0,10)}.json`,t)},qs=e=>{if(!e.length)return null;let t=[...e].sort((r,i)=>r-i),s=Math.floor(t.length/2);return t.length%2===0?Math.round((t[s-1]+t[s])/2):t[s]},mi=()=>{let e={};Ie.forEach(s=>{let r=s.createdAt?s.createdAt.slice(0,7):"unknown";e[r]||(e[r]={total:0,AIS:0,ICH:0,other:0,TNK:0,EVT:0}),e[r].total+=1,s.caseType==="AIS"?e[r].AIS+=1:s.caseType==="ICH"?e[r].ICH+=1:e[r].other+=1,(s.thrombolysis==="TNK"||s.thrombolysis==="tPA")&&(e[r].TNK+=1),s.evt==="yes"&&(e[r].EVT+=1)});let t={doorToNeedle:[],doorToCT:[]};return Ie.forEach(s=>{let r=s.keyTimes||{},i=r.arrival?new Date(r.arrival):null,o=r.needle?new Date(r.needle):null,n=r.ct?new Date(r.ct):null;i&&o&&!Number.isNaN(i)&&!Number.isNaN(o)&&t.doorToNeedle.push(Math.round((o-i)/6e4)),i&&n&&!Number.isNaN(i)&&!Number.isNaN(n)&&t.doorToCT.push(Math.round((n-i)/6e4))}),{byMonth:e,medians:{doorToNeedle:qs(t.doorToNeedle),doorToCT:qs(t.doorToCT)}}},gn=()=>{if(xt)return;let e={id:se("work"),startAt:ee(),endAt:null,category:Os,note:$s};Hs(e),Oa(0)},bn=()=>{if(!xt)return;let e={...xt,endAt:ee(),category:Os,note:$s};O(t=>({...t,workload:[e,...t.workload]})),Hs(null),Oa(0)},hn=()=>{let e=[["id","startAt","endAt","category","note"]];Vs.forEach(t=>{e.push([t.id,t.startAt,t.endAt,t.category,t.note||""])}),is(`workload-${new Date().toISOString().slice(0,10)}.csv`,e)},fn=()=>{let e={},t={week:0,month:0},s=new Date;return Vs.forEach(r=>{if(!r.startAt||!r.endAt)return;let i=new Date(r.startAt),o=new Date(r.endAt),n=Math.max(0,(o-i)/36e5),d=i.toLocaleDateString("en-US",{weekday:"short"}),g=i.getHours(),v=`${d}-${g}`;e[v]=(e[v]||0)+n;let C=(s-i)/(1e3*60*60*24);C<=7&&(t.week+=n),C<=30&&(t.month+=n)}),{totals:t,byDayHour:e}},xn=()=>{if(!Yt.questionText.trim()){H("Question text is required.","warning");return}let e={id:se("q"),questionText:Yt.questionText.trim(),tags:Ga(Yt.tagsText),urgency:Yt.urgency||"med",status:"open",createdAt:ee(),answeredAt:null,takeaway:"",links:[]};O(t=>({...t,clinicalQuestions:[e,...t.clinicalQuestions]})),Fr({questionText:"",tagsText:"",urgency:"med"})},vn=(e,t)=>{O(s=>({...s,clinicalQuestions:s.clinicalQuestions.map(r=>r.id===e?{...r,status:"answered",answeredAt:ee(),takeaway:t.takeaway||r.takeaway,links:t.links||r.links}:r)}))},yn=()=>{let e=[["id","createdAt","questionText","urgency","status","answeredAt","tags","takeaway","links"]];Fs.forEach(t=>{e.push([t.id,t.createdAt,t.questionText,t.urgency,t.status,t.answeredAt||"",(t.tags||[]).join("; "),t.takeaway||"",(t.links||[]).join("; ")])}),is(`questions-${new Date().toISOString().slice(0,10)}.csv`,e)},Nn=()=>{rs(`questions-${new Date().toISOString().slice(0,10)}.json`,Fs)},wn=()=>{if(!de.title.trim()||!de.vignetteText.trim()){H("Teaching case title and vignette are required.","warning");return}let e=de.keyPointsText?de.keyPointsText.split(`
`).map(r=>r.trim()).filter(Boolean):[],t=[];if(de.questionPrompt.trim()){let r=de.questionOptionsText.split(`
`).map(i=>i.trim()).filter(Boolean);t.push({id:se("mcq"),prompt:de.questionPrompt.trim(),options:r,correctIndex:Number(de.questionCorrectIndex)||0,explanation:de.questionExplanation.trim()})}let s={id:se("teach"),title:de.title.trim(),vignetteText:de.vignetteText.trim(),keyPoints:e,questions:t};O(r=>({...r,teachingCases:[s,...r.teachingCases]})),Ha({title:"",vignetteText:"",keyPointsText:"",questionPrompt:"",questionOptionsText:"",questionCorrectIndex:0,questionExplanation:""}),H("Teaching case saved.","success")},kn=()=>{var t;let e=[`Alias: ${a.alias||"Patient"}`,`Age/Sex: ${a.age||"?"}${a.sex||""}`,`NIHSS: ${a.nihss||h||"?"}`,a.diagnosisCategory?`Type: ${a.diagnosisCategory}`:"",(t=a.vesselOcclusion)!=null&&t.length?`LVO: ${a.vesselOcclusion.join(", ")}`:"",a.tnkRecommended?"Thrombolysis recommended.":"",a.evtRecommended?"EVT considered/recommended.":""].filter(Boolean).join(`
`);Ha(s=>({...s,title:s.title||`Teaching Case ${new Date().toLocaleDateString("en-US")}`,vignetteText:e})),H("Teaching draft populated from encounter.","success")},Sn=e=>{if(!e)return;let t=[`Case type: ${e.caseType}`,e.nihss?`NIHSS: ${e.nihss}`:"",e.lvo?`LVO: ${e.lvo}`:"",e.occlusionSite?`Occlusion: ${e.occlusionSite}`:"",e.thrombolysis?`Thrombolysis: ${e.thrombolysis}`:"",e.evt?`EVT: ${e.evt}`:""].filter(Boolean).join(`
`);Ha(s=>({...s,title:s.title||`Teaching Case ${new Date().toLocaleDateString("en-US")}`,vignetteText:t})),H("Teaching draft populated from case log.","success")},Cn=e=>{var r,i;if(!e)return;let t=`
              <html>
                <head>
                  <title>${e.title}</title>
                  <style>
                    body { font-family: Arial, sans-serif; padding: 32px; color: #0f172a; }
                    h1 { font-size: 24px; margin-bottom: 8px; }
                    h2 { font-size: 18px; margin-top: 20px; }
                    .section { margin-top: 16px; }
                    .question { margin-top: 12px; }
                    .option { margin-left: 12px; }
                    .footer { margin-top: 24px; font-size: 12px; color: #475569; }
                  </style>
                </head>
                <body>
                  <h1>${e.title}</h1>
                  <div class="section">
                    <h2>Vignette</h2>
                    <pre>${e.vignetteText}</pre>
                  </div>
                  ${(r=e.keyPoints)!=null&&r.length?`
                    <div class="section">
                      <h2>Key Points</h2>
                      <ul>
                        ${e.keyPoints.map(o=>`<li>${o}</li>`).join("")}
                      </ul>
                    </div>`:""}
                  ${(i=e.questions)!=null&&i.length?`
                    <div class="section">
                      <h2>Questions</h2>
                      ${e.questions.map((o,n)=>`
                        <div class="question">
                          <strong>Q${n+1}. ${o.prompt}</strong>
                          <div>
                            ${(o.options||[]).map(d=>`<div class="option">- ${d}</div>`).join("")}
                          </div>
                          ${o.explanation?`<div class="option"><em>Explanation:</em> ${o.explanation}</div>`:""}
                        </div>
                      `).join("")}
                    </div>`:""}
                  <div class="footer">Generated by Stroke Cockpit V2</div>
                </body>
              </html>
            `,s=window.open("","_blank");s&&(s.document.write(t),s.document.close())},Tn=e=>{O(t=>({...t,uiState:{...t.uiState,featuredTeachingId:e}})),H("Question of the Day updated.","success")},An=e=>{O(t=>({...t,teachingCases:t.teachingCases.filter(s=>s.id!==e),uiState:{...t.uiState,featuredTeachingId:t.uiState.featuredTeachingId===e?null:t.uiState.featuredTeachingId}}))};React.useEffect(()=>{zt.length>0&&Ws("shiftPatients",zt)},[zt]),React.useEffect(()=>{We&&Oe("currentPatientId",We)},[We]),React.useEffect(()=>{Ji(W)},[W]);let qa=React.useRef(null),yt=React.useRef(null),zs=React.useRef(!1),H=(e,t="info",s={})=>{let{timeoutMs:r=4e3,persist:i=!1}=s;qa.current&&clearTimeout(qa.current),ma({message:e,type:t}),i||(qa.current=setTimeout(()=>{ma(null)},r))},za=(e={})=>{let{resetDarkMode:t=!1}=e;da(Ft()),Tt({}),Ce(0),ze(10),Te(new Date),Qe(u()),Mt(b()),ta(w()),q({eye:"",verbal:"",motor:""}),me(""),ue({gcs:"",age80:!1,volume30:!1,ivh:!1,infratentorial:!1}),pe({age60:!1,bp:!1,unilateralWeakness:!1,speechDisturbance:!1,duration:"",diabetes:!1}),ge({chf:!1,hypertension:!1,age75:!1,diabetes:!1,strokeTia:!1,vascular:!1,age65:!1,female:!1}),De({noHypertension:!1,noDiabetes:!1,noStrokeTia:!1,nonsmoker:!1,cortical:!1,age:""}),Be(""),je(""),ie({hypertension:!1,renalDisease:!1,liverDisease:!1,stroke:!1,bleeding:!1,labileINR:!1,elderly:!1,drugs:!1,alcohol:!1}),_e({recurrentTCH:!1,carotidInvolvement:!1,vasoconstrictiveTrigger:!1,female:!1,sah:!1}),Ia(0),Da([]),Ra([]),bt(null),Pa(!1),ht(us().defaultConsultationType||"videoTelestroke"),ft("ich"),Qt(!1),Cs(!1),Na(null),_t(!1),Ts(0),Ms(window.innerWidth<1024),l(M()),ya(c),ks(!1),va(""),Gt([]),Ue(!1),pt("header"),Sa(""),It(!1),Va(!1),D(""),Er(!1),Mr(!1),Rs([]),Et("ischemic"),Br({clinic:!1,map:!1}),ut("saved"),ka(null),ma(null),Ta({}),t&&(Ns(!1),document.documentElement.classList.remove("dark"))},be=(e,t={})=>{let{clearSearch:s=!1,subTab:r=null}=t,i=e||"encounter",o=qe[i],n=i;o?n="management":ls.includes(n)||(n="encounter");let d=re;if(n==="management"){let g=ot(r)||o||re||"ich";d=g,ft(g)}Ve(n),O(g=>({...g,uiState:{...g.uiState,lastActiveTab:n,lastManagementSubTab:n==="management"?d:g.uiState.lastManagementSubTab}})),s&&(va(""),Gt([]),Ue(!1),pt("header"))},ui=e=>{O(t=>({...t,uiState:{...t.uiState,searchHighlightId:e}}))},Xs=x.allowFreeTextStorage===!0,Me=e=>{O(t=>({...t,settings:{...t.settings,...e}}))},Qs=()=>{if(Jt.current)try{Jt.current.stop()}catch(e){}mt(e=>({...e,activeField:null}))},pi=(e,t)=>{let s=qi();if(!s){mt(i=>({...i,supported:!1,error:"Speech recognition not supported"}));return}Jt.current&&Qs();let r=new s;r.lang="en-US",r.interimResults=!1,r.maxAlternatives=1,r.onresult=i=>{var n,d,g;let o=(g=(d=(n=i.results)==null?void 0:n[0])==null?void 0:d[0])==null?void 0:g.transcript;o&&t(o)},r.onerror=i=>{mt(o=>({...o,error:i.error||"Dictation error"}))},r.onend=()=>{mt(i=>({...i,activeField:null}))},Jt.current=r,mt(i=>({...i,activeField:e,supported:!0,error:""})),r.start()},at=(e,t="")=>{let s=new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});l(r=>({...r,decisionLog:[{id:se("decision"),label:e,detail:t,time:s},...r.decisionLog||[]]}))},gi=e=>{l(t=>{let s=(t.medications||"").trim(),r=s?`${s}, ${e}`:e;return{...t,medications:r}})},Nt=(e,t)=>{let s=xs.activeField===e,r=xs.supported;return React.createElement("button",{type:"button",onClick:()=>{if(r){if(s){Qs();return}pi(e,t)}},className:`ml-2 inline-flex items-center gap-1 text-xs font-semibold ${r?"text-blue-700 hover:text-blue-900":"text-gray-400"}`,title:r?s?"Stop dictation":"Start dictation":"Dictation not supported","aria-pressed":s},React.createElement("i",{"data-lucide":s?"mic-off":"mic",className:"w-4 h-4"}),s?"Stop":"Dictate")},Ot=e=>{Me({quickLinks:e})},$t=e=>{Me({contacts:e})},Xa=e=>{Me({pinnedTools:e})},bi=e=>{let t=Fi[e];t&&(ht(t.consultationType),ga(t.showAdvanced))},Qa=e=>{if(!e)return"";let t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?String(e):t.toLocaleString("en-US",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},Ys=(e,t="")=>{let s=a.age||"?",r=a.sex||"?",i=a.nihss||h||"?",o=ra(),n=o?o.label:"LKW",d=o?Qa(o.time):"unknown",g=e==="accept"?"Transfer accepted":"Transfer declined",v=t?`Reason: ${t}`:"Reason: clinical criteria not met";return`${g} for ${s}yo ${r}, NIHSS ${i}. ${n} ${d}. ${v}.`},Js=()=>{let e=a.age||"--",t=a.sex||"--",s=a.nihss||h||"--",r=a.nihssDetails||"",i=a.diagnosis||(a.diagnosisCategory==="ischemic"?"Suspected acute ischemic stroke":a.diagnosisCategory==="ich"?"Intracerebral hemorrhage (ICH)":a.diagnosisCategory==="mimic"?"Stroke mimic":"Diagnosis pending"),o=ra(),n=o?o.label:"Onset",d=o?Qa(o.time):"Unknown",g=he(),v=g?`${g.hours}h ${g.minutes}m`:"Unknown",C=[`CT: ${a.ctResults||"pending"}`,`CTA: ${a.ctaResults||"pending"}`];a.ctpResults&&C.push(`CTP: ${a.ctpResults}`);let K=C.join("; "),P=a.weight?Ge(a.weight):null,E=a.tnkRecommended?`TNK recommended${P?` (${P.calculatedDose} mg)`:""}`:"TNK not recommended",U=a.evtRecommended?"EVT recommended":"EVT not recommended",J=a.disposition||"",we=a.transferAccepted?"Transfer accepted":a.transferRationale?"Transfer declined":"",k=a.transportMode?`${a.transportMode}${a.transportEta?` ETA ${Qa(a.transportEta)}`:""}`:"",Z=a.transferImagingShareMethod?`${a.transferImagingShareMethod}${a.transferImagingShareLink?` (${a.transferImagingShareLink})`:""}`:"";return{age:e,sex:t,nihss:s,nihssDetails:r,diagnosis:i,onsetLabel:n,onsetTime:d,elapsed:v,imagingSummary:K,tnkStatus:E,evtStatus:U,disposition:J,transferStatus:we,transportDetails:k,imagingShare:Z}},Zs=()=>{let e=Js(),t=["Handoff Summary",`Age/Sex: ${e.age}${e.sex?` ${e.sex}`:""}`,`Dx: ${e.diagnosis}`,`${e.onsetLabel}: ${e.onsetTime}${e.elapsed&&e.elapsed!=="Unknown"?` (${e.elapsed} elapsed)`:""}`,`NIHSS: ${e.nihss}${e.nihssDetails?` (${e.nihssDetails})`:""}`,`Imaging: ${e.imagingSummary}`,`Plan: ${e.tnkStatus}; ${e.evtStatus}`];return e.disposition&&t.push(`Disposition: ${e.disposition}`),e.transferStatus&&t.push(e.transferStatus),e.transportDetails&&t.push(`Transport: ${e.transportDetails}`),e.imagingShare&&t.push(`Imaging share: ${e.imagingShare}`),a.rationale&&t.push(`Rationale: ${a.rationale}`),a.recommendationsText&&t.push(`Recommendations: ${a.recommendationsText}`),t.filter(Boolean).join(`
`)},hi=()=>{let e=!!ra(),t=!!(a.nihss||h),s=!!a.presentingBP,r=!!a.glucose,i=!!a.ctResults,o=!!a.ctaResults,n=!a.tnkRecommended||!!a.weight,d=!a.tnkRecommended||a.tnkContraindicationReviewed,g=!a.tnkRecommended||a.tnkConsentDiscussed;return[{id:"onset",label:"Onset time documented",complete:e},{id:"nihss",label:"NIHSS documented",complete:t},{id:"bp",label:"BP documented",complete:s},{id:"glucose",label:"Glucose documented",complete:r},{id:"ct",label:"CT results documented",complete:i},{id:"cta",label:"CTA results documented (if obtained)",complete:o},{id:"weight",label:"Weight documented (if TNK)",complete:n},{id:"tnkChecklist",label:"TNK contraindications reviewed",complete:d},{id:"consent",label:"TNK consent discussed",complete:g}]},fi=e=>Xs?e:["alias","age","sex","weight","nihss","aspects","vesselOcclusion","diagnosisCategory","lkwDate","lkwTime","lkwUnknown","discoveryDate","discoveryTime","arrivalTime","strokeAlertTime","ctDate","ctTime","ctaDate","ctaTime","tnkAdminTime","presentingBP","bpPreTNK","bpPreTNKTime","glucose","plateletCount","inr","ptt","creatinine","tnkRecommended","evtRecommended","tnkContraindicationChecklist","tnkContraindicationReviewed","tnkContraindicationReviewTime","tnkConsentDiscussed","patientFamilyConsent","presumedConsent","preTNKSafetyPause","imagingReviewed","transferAccepted","transferRationale","transferChecklist","disposition","transferImagingShareMethod","transferImagingShareLink","transportMode","transportEta","transportNotes","lastDOACType","lastDOACDose","dtnEdArrival","dtnStrokeAlert","dtnCtStarted","dtnCtRead","dtnTnkOrdered","dtnTnkAdministered","decisionLog"].reduce((s,r)=>(e&&Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=e[r]),s),{}),xi=e=>Xs?e:["age","sex","lkw","lkw_date","nihss","aspects","tnk","tnk_rec","evt_rec"].reduce((s,r)=>(e&&Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=e[r]),s),{}),vi=()=>{let e=["Swift","Calm","Brisk","Bright","Sable","Quiet","Sturdy","Clear"],t=["Falcon","Harbor","Quartz","Willow","Comet","Cedar","Nimbus","Aspen"],s=e[Math.floor(Math.random()*e.length)],r=t[Math.floor(Math.random()*t.length)],i=Math.floor(Math.random()*90+10);return`${s}-${r}-${i}`},In=e=>{let t=Math.floor(e/60),s=e%60;return`${t}:${String(s).padStart(2,"0")}`},Dn=(e,t=120,s=28)=>{if(!e.length)return"";let r=Math.max(...e,1),i=t/Math.max(e.length-1,1);return e.map((o,n)=>{let d=n*i,g=s-o/r*s;return`${n===0?"M":"L"}${d},${g}`}).join(" ")},ye=(e,t)=>{navigator.clipboard.writeText(e).then(()=>{D(t),setTimeout(()=>D(""),2e3)})},Rn=async(e,t)=>{let s=window.location.origin+window.location.pathname+t;if(navigator.share)try{await navigator.share({title:`Stroke Resource: ${e}`,text:`Check out this stroke reference: ${e}`,url:s})}catch(r){r.name!=="AbortError"&&ye(s,e)}else ye(s,e)},Y=(e,t)=>{let s=window.location.origin+window.location.pathname+t,r=encodeURIComponent(e),i=encodeURIComponent(s);window.location.href=`mailto:?subject=${r}&body=${i}`},Ya=()=>{let e=document.getElementById("root"),t={margin:.5,filename:`stroke-assessment-${new Date().toISOString().split("T")[0]}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};html2pdf().set(t).from(e).save()},Ja=()=>{let e=!Fe;Ns(e),Oe("darkMode",e,{skipLastUpdated:!0}),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},er=async()=>{let e={title:"Stroke",text:"Clinical decision support toolkit for stroke management",url:window.location.href};try{navigator.share?await navigator.share(e):(await navigator.clipboard.writeText(window.location.href),D("Link"))}catch(t){if(t.name!=="AbortError")try{await navigator.clipboard.writeText(window.location.href),D("Link")}catch(s){console.error("Share failed:",s)}}},Pn=({text:e,children:t})=>React.createElement("span",{className:"tooltip"},t,React.createElement("span",{className:"tooltiptext"},e)),tr=()=>{let e=r=>{if(!r)return"";let i=new Date(r);return`${i.getMonth()+1}/${i.getDate()}/${i.getFullYear().toString().slice(-2)}`},t=r=>{if(!r)return"";let[i,o]=r.split(":"),n=parseInt(i),d=n>=12?"pm":"am";return`${n===0?12:n>12?n-12:n}:${o} ${d}`},s=jt;if(s=s.replace(/{chiefComplaint}/g,a.chiefComplaint||""),s=s.replace(/{lkwDate}/g,e(a.lkwDate)),s=s.replace(/{lkwTime}/g,t(a.lkwTime)),s=s.replace(/{age}/g,a.age||""),s=s.replace(/{sex}/g,a.sex||""),s=s.replace(/{symptoms}/g,a.symptoms||""),s=s.replace(/{pmh}/g,a.pmh||""),s=s.replace(/{medications}/g,a.medications||""),s=s.replace(/{presentingBP}/g,a.presentingBP||""),s=s.replace(/{bpPreTNK}/g,a.bpPreTNK||""),s=s.replace(/{bpPreTNKTime}/g,t(a.bpPreTNKTime)),s=s.replace(/{glucose}/g,a.glucose||""),s=s.replace(/{plateletsCoags}/g,a.plateletsCoags||""),s=s.replace(/{creatinine}/g,a.creatinine||""),s=s.replace(/{nihss}/g,a.nihss||h||""),s=s.replace(/{nihssDetails}/g,a.nihssDetails||""),s=s.replace(/{ctTime}/g,t(a.ctTime)),s=s.replace(/{ctResults}/g,a.ctResults||""),s=s.replace(/{ctaDate}/g,e(a.ctaDate)),s=s.replace(/{ctaTime}/g,t(a.ctaTime)),s=s.replace(/{ctaResults}/g,a.ctaResults||""),s=s.replace(/{ekgResults}/g,a.ekgResults||""),s=s.replace(/{diagnosis}/g,a.diagnosis||""),s=s.replace(/{tnkAdminTime}/g,t(a.tnkAdminTime)),s=s.replace(/{recommendationsText}/g,a.recommendationsText||""),a.dtnTnkAdministered&&a.tnkRecommended&&(s+=Qr()),a.tnkContraindicationReviewed){s+=`
Thrombolysis Contraindication Review: Completed at ${a.tnkContraindicationReviewTime}. `;let r=a.tnkContraindicationChecklist||{},i=["activeInternalBleeding","recentIntracranialSurgery","intracranialNeoplasm","knownBleedingDiathesis","severeUncontrolledHTN","currentICH"],o=["recentMajorSurgery","recentGIGUBleeding","recentArterialPuncture","recentLumbarPuncture","pregnancy","seizureAtOnset","lowPlatelets","elevatedINR","elevatedPTT","abnormalGlucose","recentDOAC"],n=i.filter(g=>r[g]),d=o.filter(g=>r[g]);n.length===0&&d.length===0?s+="No absolute or relative contraindications identified.":n.length>0?s+=`Absolute contraindication(s) identified: ${n.length}. TNK contraindicated.`:d.length>0&&(s+=`${d.length} relative contraindication(s) identified. Clinical judgment applied.`),s+=`
`}return s},ar=()=>{if(!a.discoveryDate||!a.discoveryTime)return null;let[e,t,s]=a.discoveryDate.split("-").map(Number),[r,i]=a.discoveryTime.split(":").map(Number);return!e||!t||!s||Number.isNaN(r)||Number.isNaN(i)?null:new Date(e,t-1,s,r,i)},ra=()=>{if(a.lkwUnknown){let e=ar();return e?{time:e,label:"Discovery"}:null}return p?{time:p,label:"LKW"}:null},he=()=>{let e=ra();if(!e)return null;let t=fe-e.time,s=t/(1e3*60*60),r=t/(1e3*60)%60;return{hours:Math.floor(s),minutes:Math.floor(r),total:s,label:e.label}},yi=e=>e?e.total<=4.5?e.total<3?{color:"green",message:"Within TNK window (<3h)",urgent:!1,eligible:"tnk"}:{color:"yellow",message:"Extended TNK window (3-4.5h)",urgent:!1,eligible:"tnk"}:e.total<6?{color:"orange",message:"TNK window closed - EVT window (4.5-6h)",urgent:!0,eligible:"evt-early"}:e.total<24?{color:"red",message:"Late EVT window (6-24h - needs perfusion imaging)",urgent:!0,eligible:"evt-late"}:{color:"gray",message:"Beyond standard treatment window",urgent:!1,eligible:"none"}:null,Ne=e=>{let t=document.getElementById(e);if(!t)return;let r=t.getBoundingClientRect().top+window.pageYOffset-24;window.scrollTo({top:Math.max(0,r),behavior:"smooth"}),t.hasAttribute("tabindex")||t.setAttribute("tabindex","-1"),t.focus({preventScroll:!0})},Ni=()=>{let e=he(),t=parseInt(a.nihss)||h||0;return!a.age||!a.symptoms?{title:"Capture core details",detail:"Enter age and presenting symptoms to drive recommendations.",action:()=>Ne("patient-info-section"),cta:"Go to Patient Info"}:!a.lkwUnknown&&!p?{title:"Set last known well",detail:"Time from onset is required to determine treatment windows.",action:()=>Ne("lkw-section"),cta:"Set LKW"}:a.lkwUnknown&&(!a.discoveryDate||!a.discoveryTime)?{title:"Set discovery time",detail:"Use discovery time to estimate treatment windows when LKW is unknown.",action:()=>Ne("lkw-section"),cta:"Set discovery time"}:!a.nihss&&!wi()?{title:"Enter NIHSS score",detail:"Use quick entry or guided NIHSS to calculate severity.",action:()=>Ne("nihss-section"),cta:"Enter NIHSS"}:a.presentingBP?e&&e.total<=4.5&&!a.tnkContraindicationReviewed?{title:"Review TNK contraindications",detail:"Complete the contraindication checklist before recommending TNK.",action:()=>Ne("tnk-contraindications"),cta:"Review contraindications"}:e&&e.total<=4.5&&!a.tnkRecommended&&t>=4?{title:"Consider TNK",detail:"Patient appears within TNK window. Confirm eligibility and document decision.",action:()=>Ne("treatment-decision"),cta:"Review treatment"}:a.tnkRecommended&&!a.tnkAdminTime?{title:"Document TNK administration time",detail:"Capture administration time to calculate DTN and QA metrics.",action:()=>Ne("time-metrics-section"),cta:"Add TNK time"}:a.recommendationsText?null:{title:"Finalize recommendations",detail:"Complete the recommendation summary for handoff and documentation.",action:()=>Ne("recommendations-section"),cta:"Add recommendations"}:{title:"Add presenting BP",detail:"BP drives TNK eligibility and safety checks.",action:()=>Ne("vitals-section"),cta:"Enter BP"}},wi=()=>Lt.every(e=>ce[e.id]!==void 0&&ce[e.id]!==""),En=()=>Lt.filter(e=>!ce[e.id]).map(e=>e.name),Mn=e=>e===0?{severity:"No stroke symptoms",color:"green",guidance:"Consider stroke mimics and alternative diagnoses"}:e<=4?{severity:"Minor stroke",color:"yellow",guidance:"Consider EVT if large vessel occlusion present despite low NIHSS"}:e<=15?{severity:"Moderate stroke",color:"orange",guidance:"Candidate for both thrombolysis and EVT if eligible"}:e<=20?{severity:"Moderate-severe stroke",color:"red",guidance:"Aggressive intervention warranted - high benefit potential"}:{severity:"Severe stroke",color:"red",guidance:"All treatment options should be considered - high mortality risk without intervention"},ki=()=>{let e={};Lt.forEach(s=>{let r=s.options.find(i=>i.includes("(0)"))||s.options[0];e[s.id]=r}),Tt(e);let t=Ka(e);Ce(t),l({...a,nihss:t.toString()})},Ln=()=>{let e=z.tnk&&z.tnk.length>0,t=z.tnk_rec==="Recommended";return e&&t?{valid:!1,message:`\u26A0\uFE0F WARNING: TNK recommended but ${z.tnk.length} contraindication(s) selected`,severity:"error"}:!e&&z.tnk_rec==="Not Recommended"?{valid:!0,message:"\u2139\uFE0F No contraindications selected. Confirm rationale for not recommending TNK.",severity:"warning"}:{valid:!0,message:null,severity:null}},Le=(e,t)=>{if(!gt)return!0;let s=gt.toLowerCase();return e.toLowerCase().includes(s)?!0:t.some(r=>r.toLowerCase().includes(s))},Si=e=>{if(!e||e.length<2){Gt([]);return}let t=[],s=e.toLowerCase();Object.entries(aa).forEach(([o,n])=>{n.hasSubsections&&Object.entries(n.subsections).forEach(([d,g])=>{g.trials.forEach(v=>{(v.name.toLowerCase().includes(s)||v.description.toLowerCase().includes(s)||v.nct.toLowerCase().includes(s))&&t.push({type:"Clinical Trial",category:o,title:v.name,description:v.description.substring(0,100)+"...",action:()=>{Et(o),be("trials",{clearSearch:!0})}})})})}),[{name:"NIHSS",keywords:["nihss","stroke scale","neurological"],tab:"encounter"},{name:"ASPECTS",keywords:["aspects","imaging","ct"],tab:"encounter"},{name:"TNK Eligibility",keywords:["tnk","tenecteplase","thrombolysis","lytic"],tab:"encounter"},{name:"EVT Eligibility",keywords:["evt","thrombectomy","mechanical","endovascular"],tab:"encounter"},{name:"ICH Management",keywords:["ich","hemorrhage","bleeding","reversal"],tab:"management",subTab:"ich"},{name:"GCS Score",keywords:["gcs","glasgow","coma","consciousness"],tab:"management",subTab:"calculators"},{name:"ICH Score",keywords:["ich score","hemorrhage score","mortality"],tab:"management",subTab:"calculators"},{name:"ABCD\xB2 Score",keywords:["abcd","tia","transient"],tab:"management",subTab:"calculators"},{name:"CHA\u2082DS\u2082-VASc",keywords:["chads","afib","atrial fibrillation","anticoagulation"],tab:"management",subTab:"calculators"},{name:"ROPE Score",keywords:["rope","pfo","paradoxical"],tab:"management",subTab:"calculators"},{name:"Modified Rankin Scale (mRS)",keywords:["mrs","rankin","disability","outcome","functional status"],tab:"management",subTab:"calculators"},{name:"Hunt and Hess Scale",keywords:["hunt","hess","sah","subarachnoid","hemorrhage","grading"],tab:"management",subTab:"calculators"},{name:"WFNS Scale",keywords:["wfns","world federation","neurosurgical","sah","subarachnoid"],tab:"management",subTab:"calculators"},{name:"HAS-BLED Score",keywords:["hasbled","has-bled","bleeding","risk","anticoagulation"],tab:"management",subTab:"calculators"},{name:"RCVS\xB2 Score",keywords:["rcvs","rcvs2","vasoconstriction","thunderclap","headache"],tab:"management",subTab:"calculators"},{name:"Blood Pressure Management",keywords:["bp","blood pressure","labetalol","nicardipine"],tab:"management",subTab:"ischemic"}].forEach(o=>{(o.name.toLowerCase().includes(s)||o.keywords.some(n=>n.includes(s)))&&t.push({type:"Tool/Protocol",title:o.name,description:`Go to ${o.name}`,action:()=>{be(o.tab,{clearSearch:!0,subTab:o.subTab})}})}),[{title:"DAPT Minor Stroke-TIA Trials",section:"Antiplatelet Therapy",keywords:["dapt","antiplatelet","tia","minor stroke"]},{title:"DAPT After Ischemic Stroke-TIA",section:"Antiplatelet Therapy",keywords:["dapt","antiplatelet","duration","ischemic stroke","tia","sammpris","chance","point","thales","inspires","icad"]},{title:"Timing of Anticoagulation after AF-Related Stroke",section:"Risk Factors",keywords:["anticoagulation","atrial fibrillation","afib","timing"]},{title:"Atrial Fibrillation & Secondary Stroke Prevention",section:"Risk Factors",keywords:["afib","atrial fibrillation","prevention"]},{title:"Diabetes and stroke",section:"Risk Factors",keywords:["diabetes","risk factor","dm"]},{title:"Lipids and Cerebrovascular Disease",section:"Risk Factors",keywords:["lipids","cholesterol","statins","ldl"]},{title:"WAKE-UP Trial",section:"Thrombolytic Therapy",keywords:["wake-up","thrombolysis","tpa","alteplase","mri"]},{title:"Thrombolytic Therapy 4.5-24h RCTs",section:"Thrombolytic Therapy",keywords:["thrombolysis","tpa","alteplase","rct","extended window","4.5-24h"]},{title:"Lacunar Stroke",section:"Cerebral Small Vessel Disease",keywords:["lacunar","small vessel","csvd"]},{title:"Symptomatic Cervical Carotid Artery Stenosis",section:"Large Artery Disease",keywords:["carotid","stenosis","endarterectomy","cea","cas"]},{title:"CREST-2 Trial",section:"Large Artery Disease",keywords:["crest","crest-2","carotid","stenting","endarterectomy","cea","cas","asymptomatic"]},{title:"Differentiating Acute Confusional State (Delirium) from Aphasia",section:"Exam",keywords:["delirium","aphasia","confusion","exam"]},{title:"Coma Exam",section:"Exam",keywords:["coma","exam","consciousness"]},{title:"Large Core Anterior Circulation LVO EVT Trials",section:"Endovascular Therapy",keywords:["large core","lvo","thrombectomy","evt"]},{title:"Basilar Artery Occlusion EVT Trials",section:"Endovascular Therapy",keywords:["basilar","posterior circulation","evt"]},{title:"MeVO & Distal Vessel Occlusion EVT Trials",section:"Endovascular Therapy",keywords:["mevo","distal","medium vessel"]},{title:"Unruptured Cerebral Aneurysms",section:"Aneurysms & Vascular Malformations",keywords:["aneurysm","unruptured","sah"]},{title:"Interpretation of Clinical Trials",section:"Critical Appraisal",keywords:["ebm","clinical trials","evidence","statistics","critical appraisal"]},{title:"CEBM Oxford Resources",section:"Critical Appraisal",keywords:["cebm","oxford","ebm","evidence-based medicine","critical appraisal","study designs","levels of evidence"]}].forEach(o=>{(o.title.toLowerCase().includes(s)||o.section.toLowerCase().includes(s)||o.keywords.some(n=>n.toLowerCase().includes(s)))&&t.push({type:"Evidence",title:o.title,description:`${o.section} section`,action:()=>{be("management",{clearSearch:!0,subTab:"references"})}})}),Gt(t.slice(0,10))},sr=3e4,Ci=()=>({telestrokeNote:{...a},strokeCodeForm:{...z},patientData:{...ce},lkwTime:p?p.toISOString():null,nihssScore:h,aspectsScore:N,mrsScore:R,gcsItems:{...y},ichScoreItems:{...T},abcd2Items:{...V},chads2vascItems:{...F},ropeItems:{...S},huntHessGrade:Re,wfnsGrade:Pe,hasbledItems:{...I},rcvs2Items:{...G},currentStep:Aa,completedSteps:Array.isArray(qt)?[...qt]:[],aspectsRegionState:Array.isArray(Ye)?Ye.map(e=>({...e})):[],pcAspectsRegions:Array.isArray(Je)?Je.map(e=>({...e})):[],consultationType:xe,currentPatientId:We}),Ti=e=>{if(!e)return;let t=e.telestrokeNote||M();l(t),Qe(e.strokeCodeForm||u()),Tt(e.patientData||{}),Te(e.lkwTime?new Date(e.lkwTime):null),Ce(e.nihssScore||0),ze(Number.isFinite(e.aspectsScore)?e.aspectsScore:10),me(e.mrsScore||""),q(e.gcsItems||{eye:0,verbal:0,motor:0}),ue(e.ichScoreItems||{gcs:"",age80:!1,volume30:!1,ivh:!1,infratentorial:!1}),pe(e.abcd2Items||{age60:!1,bp:!1,unilateralWeakness:!1,speechDisturbance:!1,duration:"",diabetes:!1}),ge(e.chads2vascItems||{chf:!1,hypertension:!1,age75:!1,diabetes:!1,strokeTia:!1,vascular:!1,age65:!1,female:!1}),De(e.ropeItems||{noHypertension:!1,noDiabetes:!1,noStrokeTia:!1,nonsmoker:!1,cortical:!1,age:""}),Be(e.huntHessGrade||""),je(e.wfnsGrade||""),ie(e.hasbledItems||{hypertension:!1,renalDisease:!1,liverDisease:!1,stroke:!1,bleeding:!1,labileINR:!1,elderly:!1,drugs:!1,alcohol:!1}),_e(e.rcvs2Items||{recurrentTCH:!1,carotidInvolvement:!1,vasoconstrictiveTrigger:!1,female:!1,sah:!1}),Ia(Number.isFinite(e.currentStep)?e.currentStep:0),Da(Array.isArray(e.completedSteps)?e.completedSteps:[]),Mt(Array.isArray(e.aspectsRegionState)&&e.aspectsRegionState.length?e.aspectsRegionState:b()),ta(Array.isArray(e.pcAspectsRegions)&&e.pcAspectsRegions.length?e.pcAspectsRegions:w()),ht(e.consultationType||x.defaultConsultationType||"videoTelestroke"),bt(e.currentPatientId||null),Zt.current={tnkRecommended:t.tnkRecommended,evtRecommended:t.evtRecommended,transferAccepted:t.transferAccepted,tnkContraindicationReviewed:t.tnkContraindicationReviewed,tnkConsentDiscussed:t.tnkConsentDiscussed,tnkAdminTime:t.tnkAdminTime}},rr=()=>{Tt({}),Ce(0),ze(10),Te(null),Qe(u()),Mt(b()),ta(w()),q({eye:0,verbal:0,motor:0}),me(""),ue({gcs:"",age80:!1,volume30:!1,ivh:!1,infratentorial:!1}),pe({age60:!1,bp:!1,unilateralWeakness:!1,speechDisturbance:!1,duration:"",diabetes:!1}),ge({chf:!1,hypertension:!1,age75:!1,diabetes:!1,strokeTia:!1,vascular:!1,age65:!1,female:!1}),De({noHypertension:!1,noDiabetes:!1,noStrokeTia:!1,nonsmoker:!1,cortical:!1,age:""}),Be(""),je(""),ie({hypertension:!1,renalDisease:!1,liverDisease:!1,stroke:!1,bleeding:!1,labileINR:!1,elderly:!1,drugs:!1,alcohol:!1}),_e({recurrentTCH:!1,carotidInvolvement:!1,vasoconstrictiveTrigger:!1,female:!1,sah:!1}),Ia(0),Da([]),ht(x.defaultConsultationType||"videoTelestroke"),l(M()),["patientData","nihssScore","aspectsScore","gcsItems","mrsScore","ichScoreItems","abcd2Items","chads2vascItems","ropeItems","huntHessGrade","wfnsGrade","hasbledItems","rcvs2Items","strokeCodeForm","lkwTime","currentStep","completedSteps","aspectsRegionState","pcAspectsRegions","telestrokeNote","consultationType"].forEach(t=>na(t)),be("encounter"),ut("saved")},Ai=(e={})=>{let{generateNewId:t=!1}=e;if(!confirm("Start a new case? Current inputs will be cleared. You can undo for 30 seconds."))return;let s=Ci();rr(),t&&bt(Bs()),Pa(!1),ua({snapshot:s,expiresAt:Date.now()+sr}),yt.current&&clearTimeout(yt.current),yt.current=setTimeout(()=>{ua(null)},sr),H("Case cleared. Undo available for 30 seconds.","info")},Ii=()=>{!Kt||!Kt.snapshot||(Ti(Kt.snapshot),ua(null),yt.current&&(clearTimeout(yt.current),yt.current=null),H("Case restored.","success"))},Hn=()=>{confirm("Start new patient assessment? All current data will be cleared. This cannot be undone.")&&rr()},Di=()=>{confirm("This clears locally stored app data on this device.")&&(Nr(),za({resetDarkMode:!0}),be("encounter"),H("Local data cleared.","success"))},On=()=>{la.forEach(e=>{try{localStorage.removeItem(e)}catch(t){console.warn("Failed to remove legacy key:",e,t)}}),H("Legacy keys removed.","success")},$n=async e=>{try{let t=await hr(e),s=t.schemaVersion?t:t.appData?t.appData:null;if(!s){H("Backup import failed: invalid file.","error");return}let r=ca(Ft(),s),i=kr(r);da(i),H("Backup imported.","success")}catch(t){H("Backup import failed.","error")}},Vn=[{id:"assessment",name:"Initial Assessment",tab:"workflow"},{id:"nihss",name:"NIHSS Score",tab:"nihss"},{id:"imaging",name:"Imaging Review",tab:"imaging"},{id:"eligibility",name:"Treatment Eligibility",tab:"lytic"},{id:"documentation",name:"Documentation",tab:"encounter"}];f(()=>{L("activeTab",_)},[_]),f(()=>{Oe("timerSidebarCollapsed",Ae,{skipLastUpdated:!0})},[Ae]),f(()=>{Oe("caseSummaryCollapsed",dt,{skipLastUpdated:!0})},[dt]),f(()=>{Oe("showAdvanced",le,{skipLastUpdated:!0})},[le]),f(()=>{let e=window.SpeechRecognition||window.webkitSpeechRecognition;mt(t=>({...t,supported:!!e}))},[]),f(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("service-worker.js").catch(e=>{console.warn("Service worker registration failed:",e)})},[]),f(()=>{document.documentElement.classList.toggle("compact",x.compactMode===!0),document.documentElement.classList.toggle("lightweight",x.lightweightMode===!0)},[x.compactMode,x.lightweightMode]),f(()=>{Zt.current={tnkRecommended:a.tnkRecommended,evtRecommended:a.evtRecommended,transferAccepted:a.transferAccepted,tnkContraindicationReviewed:a.tnkContraindicationReviewed,tnkConsentDiscussed:a.tnkConsentDiscussed,tnkAdminTime:a.tnkAdminTime}},[]),f(()=>{L("consultationType",xe)},[xe]),f(()=>{L("patientData",ce);let e=Ka(ce);e!==h&&Ce(e)},[ce]),f(()=>{L("nihssScore",h)},[h]),f(()=>{L("aspectsScore",N)},[N]),f(()=>{L("gcsItems",y)},[y]),f(()=>{L("mrsScore",R)},[R]),f(()=>{L("ichScoreItems",T)},[T]),f(()=>{L("abcd2Items",V)},[V]),f(()=>{L("chads2vascItems",F)},[F]),f(()=>{L("ropeItems",S)},[S]),f(()=>{L("huntHessGrade",Re)},[Re]),f(()=>{L("wfnsGrade",Pe)},[Pe]),f(()=>{L("hasbledItems",I)},[I]),f(()=>{L("rcvs2Items",G)},[G]),f(()=>{L("strokeCodeForm",xi(z))},[z,x.allowFreeTextStorage]),f(()=>{L("aspectsRegionState",Ye)},[Ye]),f(()=>{L("pcAspectsRegions",Je)},[Je]),f(()=>{L("telestrokeNote",fi(a))},[a,x.allowFreeTextStorage]),f(()=>{let e=Zt.current;!e.tnkRecommended&&a.tnkRecommended&&at("TNK recommended"),!e.evtRecommended&&a.evtRecommended&&at("EVT recommended"),!e.transferAccepted&&a.transferAccepted&&at("Transfer accepted"),!e.tnkContraindicationReviewed&&a.tnkContraindicationReviewed&&at("TNK contraindications reviewed",a.tnkContraindicationReviewTime||""),!e.tnkConsentDiscussed&&a.tnkConsentDiscussed&&at("TNK consent discussed"),e.tnkAdminTime!==a.tnkAdminTime&&a.tnkAdminTime&&at("TNK administered",a.tnkAdminTime),Zt.current={tnkRecommended:a.tnkRecommended,evtRecommended:a.evtRecommended,transferAccepted:a.transferAccepted,tnkContraindicationReviewed:a.tnkContraindicationReviewed,tnkConsentDiscussed:a.tnkConsentDiscussed,tnkAdminTime:a.tnkAdminTime}},[a.tnkRecommended,a.evtRecommended,a.transferAccepted,a.tnkContraindicationReviewed,a.tnkConsentDiscussed,a.tnkAdminTime]),f(()=>{(a.diagnosisCategory==="ischemic"||a.diagnosisCategory==="ich")&&Et(a.diagnosisCategory)},[a.diagnosisCategory]),f(()=>{L("telestrokeTemplate",jt)},[jt]),f(()=>{p&&L("lkwTime",p.toISOString())},[p]),f(()=>{L("currentStep",Aa)},[Aa]),f(()=>{L("completedSteps",qt)},[qt]),f(()=>{if(p){let e=p.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),t=p.toLocaleDateString("en-US"),s=`${p.getFullYear()}-${String(p.getMonth()+1).padStart(2,"0")}-${String(p.getDate()).padStart(2,"0")}`;Qe(r=>({...r,lkw:e,lkw_date:s}))}},[p]),f(()=>{h!=null&&Qe(e=>({...e,nihss:h.toString()}))},[h]),f(()=>{N!=null&&Qe(e=>({...e,aspects:N.toString()}))},[N]),f(()=>{let e=setInterval(()=>Ss(new Date),6e4);return()=>clearInterval(e)},[]);let Ri=e=>{if(!Ke)try{let t=new(window.AudioContext||window.webkitAudioContext),s=t.createOscillator(),r=t.createGain();s.connect(r),r.connect(t.destination);let i={"warning-30":{freq:440,duration:.3,repeat:2},"warning-15":{freq:523,duration:.3,repeat:3},"window-closed":{freq:659,duration:.5,repeat:4}},o=i[e]||i["warning-30"],n=t.currentTime;for(let d=0;d<o.repeat;d++){let g=t.createOscillator(),v=t.createGain();g.connect(v),v.connect(t.destination),g.frequency.setValueAtTime(o.freq,n),g.type="sine",v.gain.setValueAtTime(0,n),v.gain.linearRampToValueAtTime(.3,n+.05),v.gain.linearRampToValueAtTime(.3,n+o.duration-.1),v.gain.linearRampToValueAtTime(0,n+o.duration),g.start(n),g.stop(n+o.duration),n+=o.duration+.15}}catch(t){console.log("Audio alert not supported:",t)}},Pi=()=>{let e=!Ke;Cs(e),Oe("thrombolysisAlertsMuted",e,{skipLastUpdated:!0})};f(()=>{if(!p||_!=="encounter")return;let e=()=>{let s=new Date,r=s-p,i=r/(1e3*60),o=4.5*60-i;if(Ts(Math.floor(r/1e3)),Ss(s),document.hidden||!p)return;let n=[{id:"warning-30",minutesRemaining:30,played:!1},{id:"warning-15",minutesRemaining:15,played:!1},{id:"window-closed",minutesRemaining:0,played:!1}];for(let d of n)if(Math.abs(o-d.minutesRemaining)<.5&&At!==d.id&&o>=-1){Na(d.id),Ri(d.id),_t(!0),setTimeout(()=>_t(!1),1e4);break}};e();let t=setInterval(e,1e3);return()=>clearInterval(t)},[p,Ke,At,_]),f(()=>{Na(null),_t(!1)},[p]),f(()=>{let e=he(),t=e?e.total:null,r=_r({telestrokeNote:a,strokeCodeForm:z,aspectsScore:N,nihssScore:h,mrsScore:R,hoursFromLKW:t,lkwTime:p});qr(r)},[a,z,N,h,R,p]),f(()=>{let e=()=>{if($a.current&&_==="encounter"){let s=$a.current.getBoundingClientRect().top<=window.innerHeight*.8;Va(s)}else Va(!1)};return window.addEventListener("scroll",e),e(),()=>window.removeEventListener("scroll",e)},[_]),f(()=>{let e=[];if(p){let t=he();if(!t)return;let s=t.total,r=4.5-s,i=6-s;if(r>0&&r<=.5){let o=Math.floor(r*60);e.push({id:"tnk-cutoff",level:"critical",message:`\u26A0\uFE0F URGENT: Only ${o} minutes left for TNK window!`,action:"TNK must be given before 4.5h from LKW"})}if(i>0&&i<=.5&&s>4.5){let o=Math.floor(i*60);e.push({id:"evt-cutoff",level:"critical",message:`\u26A0\uFE0F URGENT: Only ${o} minutes left for early EVT window!`,action:"Consider EVT before 6h window requires perfusion imaging"})}}Rs(e)},[fe,p]),f(()=>{Si(xa)},[xa]),f(()=>{if(!x.deidMode){Ta({});return}let e={"Chief complaint":a.chiefComplaint,Symptoms:a.symptoms,PMH:a.pmh,Medications:a.medications,"CT results":a.ctResults,"CTA results":a.ctaResults,"EKG results":a.ekgResults,Diagnosis:a.diagnosis,Recommendations:a.recommendationsText,"Stroke code history":z.hx,"Stroke code symptoms":z.sx,"Stroke code deficits":z.def,"Stroke code HCT":z.hct,"Stroke code CTA":z.cta,"Stroke code CTP":z.ctp,"TNK rationale":z.rec_reason},t={};Object.entries(e).forEach(([s,r])=>{let i=Qi(r);i.length&&(t[s]=i)}),Ta(t)},[x.deidMode,a,z]),f(()=>{let e=W.uiState.searchHighlightId;if(!e)return;let t=document.getElementById(e);if(t){t.classList.add("highlight-pulse"),t.scrollIntoView({behavior:"smooth",block:"center"});let s=setTimeout(()=>{t.classList.remove("highlight-pulse"),ui(null)},1800);return()=>clearTimeout(s)}},[W.uiState.searchHighlightId,_,re]),f(()=>{if(!xt)return;let e=setInterval(()=>{let t=Date.now()-new Date(xt.startAt).getTime();Oa(Math.max(0,Math.floor(t/1e3)))},1e3);return()=>clearInterval(e)},[xt]),f(()=>{if(vt.length>0)return;let e=se("board");O(t=>({...t,shiftBoards:[{id:e,name:"Primary Board",createdAt:ee(),updatedAt:ee(),archived:!1,patients:[]}],uiState:{...t.uiState,lastShiftBoardId:e}}))},[vt.length]),f(()=>{var e;Rt.find(t=>t.id===Ea)||Vr(((e=Rt[0])==null?void 0:e.id)||"telestroke-consult")},[Rt,Ea]),f(()=>{x.preferredRole&&Xe(e=>({...e,role:x.preferredRole}))},[x.preferredRole]),f(()=>{let e=()=>{let s=document.getElementById("mobile-bottom-nav"),r=document.getElementById("action-bar"),i=s?s.offsetHeight:0,o=r?r.offsetHeight:0;document.documentElement.style.setProperty("--mobile-nav-offset",`${i}px`),document.documentElement.style.setProperty("--mobile-action-offset",`${o}px`)},t=()=>{window.requestAnimationFrame(e)};return t(),window.addEventListener("resize",t),window.addEventListener("orientationchange",t),()=>{window.removeEventListener("resize",t),window.removeEventListener("orientationchange",t)}},[]),f(()=>{let e=()=>{window.innerWidth>=1024&&fs(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),f(()=>{let e=!1,s=["localhost","127.0.0.1"].includes(window.location.hostname)?"config.local.json":"config.example.json";return fetch(s,{cache:"no-store"}).then(r=>{if(r.status===404)return e||(na("ttlHoursOverride"),fa(St),ba(!0)),null;if(!r.ok)throw new Error("Config fetch failed");return r.json()}).then(r=>{if(e||!r)return;if(typeof r!="object"||Array.isArray(r))throw new Error("Config format invalid");let o=(Array.isArray(r.institutionLinks)?r.institutionLinks:[]).filter(d=>d&&typeof d=="object").map(d=>({label:String(d.label||"").trim(),url:String(d.url||"").trim(),note:String(d.note||"").trim()})).filter(d=>d.url),n=typeof r.ttlHoursOverride=="number"&&Number.isFinite(r.ttlHoursOverride)&&r.ttlHoursOverride>0?r.ttlHoursOverride:null;Pr({institutionLinks:o,ttlHoursOverride:n}),n?(fa(n),Oe("ttlHoursOverride",n,{skipLastUpdated:!0})):na("ttlHoursOverride"),ba(!0)}).catch(r=>{e||(console.warn("Config load failed:",r),na("ttlHoursOverride"),fa(St),ba(!0))}),()=>{e=!0}},[]),f(()=>{Ut&&(za({resetDarkMode:!0}),be("encounter"),H("Stored data expired and was cleared.","warning",{timeoutMs:6e3}))},[]),f(()=>{if(Ut||!ys||ha===St)return;Sr(ha)&&(Dr(!0),za({resetDarkMode:!0}),be("encounter"),H("Stored data expired and was cleared.","warning",{timeoutMs:6e3}))},[ha,Ut,ys]),f(()=>{lucide.createIcons();let e=()=>{if(Ut&&!zs.current){zs.current=!0,Ve("encounter");return}let t=so(window.location.hash);if(t&&ls.includes(t.tab)){if(Ve(t.tab),t.tab==="management"){let r=ot(t.sub)||ot(W.uiState.lastManagementSubTab)||"ich";ft(r)}return}let s=W.uiState.lastActiveTab||ne("activeTab",null);if(s){if(qe[s]){Ve("management"),ft(qe[s]);return}if(s==="management"){Ve("management"),ft(ot(W.uiState.lastManagementSubTab)||"ich");return}if(ls.includes(s)){Ve(s);return}}Ve("encounter")};return e(),Ir(!0),requestAnimationFrame(()=>{Lr(!0),lucide.createIcons()}),window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)},[]),f(()=>{if(!hs)return;let e=ro(_,re);window.location.hash!==e&&(window.location.hash=e)},[_,hs,re]),f(()=>{Ct(!1)},[_]),f(()=>{_==="management"&&O(e=>({...e,uiState:{...e.uiState,lastManagementSubTab:re}}))},[_,re]),f(()=>{ws&&lucide.createIcons()},[_,te,Fe,Se,Es,pa,ws]);let Ei=()=>{let e=he(),t=e?`${e.hours}h ${e.minutes}m`:"unknown",s=p?p.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"__",r=p?p.toLocaleDateString("en-US"):"__",i=a.sex==="M"?"male":a.sex==="F"?"female":"__",o=a.nihss||h||"__";return`HPI: ${a.age||"__"} year old ${i} with PMH of ${a.pmh||"__"} presenting with ${a.symptoms||"__"} starting at ${s} on ${r} (${t} ago). NIHSS ${o}.

IMAGING:
- Head CT: ${a.ctResults||"pending"}
- CTA Head/Neck: ${a.ctaResults||"pending"}
- CTP: ${a.ctpResults||"pending"}
- ASPECTS: ${N||"__"}

ASSESSMENT: ${a.diagnosis||"Acute ischemic stroke"}, NIHSS ${o}
${a.tnkRecommended?`
TNK: Recommended`:`
TNK: Not Recommended`}
${a.evtRecommended?"EVT: Recommended":"EVT: Not Recommended"}`},Mi=()=>`ACUTE STROKE ADMISSION ORDERS:

1. Admit to Stroke Unit / Neuro ICU
2. Vital signs q1h x 24h, then q4h
3. Continuous telemetry monitoring
4. NPO until swallow evaluation completed
5. IV fluids: NS at 75 mL/hr
6. Maintain SBP <180/105 (or <185/110 if post-tPA)
7. Blood glucose 140-180 mg/dL
8. HOB elevated 30 degrees
9. DVT prophylaxis: SCDs (hold pharmacologic if tPA given)
10. Aspirin 325mg daily (hold x 24h if tPA given)
11. Statin therapy: Atorvastatin 80mg daily
12. Neurology consultation
13. PT/OT/Speech evaluation
14. Fall precautions

LABS:
- CBC, CMP, PT/INR, PTT
- Lipid panel, HbA1c
- Troponin, BNP
- Consider: ESR, CRP if indicated

IMAGING:
- MRI brain with DWI if not already done
- Carotid ultrasound
- Echocardiogram (TTE or TEE)

NIHSS: ${a.nihss||h||"__"} - reassess q4h x 24h, then daily`;React.useEffect(()=>{let e=t=>{var r,i;if(t.target.tagName==="INPUT"||t.target.tagName==="TEXTAREA"||t.target.isContentEditable)return;(t.metaKey||t.ctrlKey)&&t.key==="k"&&(t.preventDefault(),Ue(!0),pt("header"),(r=document.querySelector('input[placeholder*="Search"]'))==null||r.focus()),t.key==="/"&&!t.metaKey&&!t.ctrlKey&&!t.altKey&&(t.preventDefault(),Ue(!0),pt("header"),(i=document.querySelector('input[placeholder*="Search"]'))==null||i.focus()),t.key==="Escape"&&Ue(!1);let s={1:{tab:"encounter"},2:{tab:"management",subTab:"ischemic"},3:{tab:"management",subTab:"calculators"}};if(s[t.key]&&!t.metaKey&&!t.ctrlKey&&!t.altKey){t.preventDefault();let o=s[t.key];be(o.tab,{subTab:o.subTab})}(t.metaKey||t.ctrlKey)&&t.key==="e"&&(t.preventDefault(),Ya()),(t.metaKey||t.ctrlKey)&&t.key==="d"&&(t.preventDefault(),Ja()),t.key==="?"&&!t.metaKey&&!t.ctrlKey&&(t.preventDefault(),It(o=>!o))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]);let ir=[{label:"Regional Hospitals",url:"https://rkalani1.github.io/telestroke-expansion-map/"},{label:"Stroke Clinic Pre-Visit Questionnaire",url:"https://rkalani1.github.io/stroke-clinic-q/"}],Li=[{label:"Pulsara",url:"https://us-app.pulsara.com/user/login"},{label:"Teladoc Imaging",url:"https://urldefense.com/v3/__https:/imaging.visitnow.org/studies__;!!K-Hz7m0Vt54!nECcOahuNh21d0jzlVH-mSie_Il2fvDWCKseicWktKKQwdj4xk9XfAX2s8QyVGAs0n-NvzXDLAHKDw%24"},{label:"Telestroke Provider Resources",url:"https://intranet.neurology.uw.edu/telestroke-provider-resources/"},{label:"UW Medicine",url:"https://access.uwmedicine.org/logon/LogonPoint/tmindex.html"}],Hi=Array.isArray(x.quickLinks)?x.quickLinks:[],or=[...Li,...Hi,...vs.institutionLinks].reduce((e,t)=>{if(!t||!t.url)return e;let s=String(t.url).trim();return!s||e.seen.has(s)||(e.seen.add(s),e.items.push({label:String(t.label||"Resource").trim()||"Resource",url:s,note:t.note?String(t.note).trim():""})),e},{items:[],seen:new Set}).items,Fn=vs.ttlHoursOverride||St,Za=!0,Kn=_==="encounter",Un=new Date().toISOString().slice(0,10),Wn=la.some(e=>{try{return localStorage.getItem(e)!==null}catch(t){return!1}}),Oi=[{id:"encounter",name:"Encounter",icon:"activity"},{id:"management",name:"Manage",icon:"layers"},{id:"trials",name:"Trials",icon:"file-text"}],es=[],$i=Array.isArray(x.contacts)&&x.contacts.length?x.contacts:xr,nr=[{id:"patient-info-section",label:"Patient Info"},{id:"lkw-section",label:"LKW / Discovery"},{id:"nihss-section",label:"NIHSS"},{id:"vitals-section",label:"Vitals"},{id:"treatment-decision",label:"Treatment"},{id:"time-metrics-section",label:"DTN / DTP"},{id:"recommendations-section",label:"Recommendations"},{id:"handoff-section",label:"Handoff"},{id:"safety-section",label:"Safety"},{id:"case-log-section",label:"Case Log"}],Vi=[{value:"consult",label:"Consult"},{value:"attending",label:"Attending"},{value:"ed",label:"ED"},{value:"icu",label:"ICU"},{value:"transfer",label:"Transfer"}],Fi={consult:{consultationType:"videoTelestroke",showAdvanced:!0},attending:{consultationType:"videoTelestroke",showAdvanced:!0},ed:{consultationType:"telephone",showAdvanced:!1},icu:{consultationType:"telephone",showAdvanced:!0},transfer:{consultationType:"videoTelestroke",showAdvanced:!0}},He=Array.isArray(x.pinnedTools)&&x.pinnedTools.length?x.pinnedTools:vr,ts=x.tabletSplit===!0,oe=he(),st=mi(),as=hi(),Ki=as.filter(e=>e.complete).length,ss=a.lkwUnknown?{color:"gray",message:oe?"Discovery-based timing":"LKW unknown"}:yi(oe)||{color:"gray",message:"Set LKW time"},lr={green:"bg-emerald-100 text-emerald-800 border-emerald-200",yellow:"bg-amber-100 text-amber-800 border-amber-200",orange:"bg-orange-100 text-orange-800 border-orange-200",red:"bg-red-100 text-red-800 border-red-200",gray:"bg-slate-100 text-slate-700 border-slate-200"}[ss.color]||"bg-slate-100 text-slate-700 border-slate-200",cr=(oe==null?void 0:oe.label)||(a.lkwUnknown?"Discovery":"LKW"),dr=a.lkwUnknown?oe&&`${a.discoveryDate||""} ${a.discoveryTime||""}`.trim()||"Unknown":p?p.toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Not set",ia=oe?`${oe.hours}h ${oe.minutes}m`:null,Ui=a.age!==void 0&&String(a.age).trim()!==""?String(a.age).trim():"--",Wi=a.weight!==void 0&&String(a.weight).trim()!==""?`${String(a.weight).trim()} kg`:"--",Bi=a.nihss!==void 0&&String(a.nihss).trim()!==""?String(a.nihss).trim():"",ji=Lt.some(e=>ce[e.id]!==void 0&&ce[e.id]!==""),mr=Bi||(ji?String(h):"--");return React.createElement("div",{className:"relative"},React.createElement("div",{className:"app-shell max-w-7xl mx-auto p-4 sm:p-8 overflow-x-hidden",role:"main"},React.createElement("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-blue-600 focus:text-white focus:rounded-lg"},"Skip to main content"),React.createElement("div",{className:"mb-4 sm:mb-6 app-header",role:"banner"},React.createElement("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-3"},React.createElement("div",{className:"flex-1 w-full sm:w-auto"},React.createElement("h1",{className:"text-2xl sm:text-3xl font-bold text-blue-900 mb-1 text-center sm:text-left"},"Stroke"),ir.length>0&&React.createElement("div",{className:"mt-2 flex flex-wrap items-center gap-2 justify-center sm:justify-start"},ir.map(e=>React.createElement("a",{key:e.url,href:e.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors text-sm font-medium"},React.createElement("i",{"data-lucide":"external-link",className:"w-4 h-4"}),React.createElement("span",null,e.label))))),React.createElement("div",{className:"flex w-full flex-col items-center justify-center gap-2 sm:w-auto sm:items-end sm:justify-end"},React.createElement("div",{className:"relative w-full sm:w-auto"},React.createElement("input",{type:"text",placeholder:"Search trials, management tools, references...",value:xa,onChange:e=>{va(e.target.value),Ue(!0),pt("header")},onFocus:()=>{Ue(!0),pt("header")},onBlur:()=>setTimeout(()=>Ue(!1),200),className:"pl-8 pr-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 w-full sm:w-48 md:w-64","aria-label":"Search trials, management tools, and references"}),React.createElement("i",{"data-lucide":"search",className:"w-4 h-4 absolute left-2 top-3 text-gray-400"}),Es&&Or==="header"&&Ps.length>0&&React.createElement("div",{className:"absolute top-12 left-0 right-0 sm:right-auto sm:w-96 bg-white shadow-lg rounded-lg border max-h-96 overflow-y-auto z-50"},Object.entries(Ps.reduce((e,t)=>{let s=t.type||"Results";return e[s]||(e[s]=[]),e[s].push(t),e},{})).map(([e,t])=>React.createElement("div",{key:e},React.createElement("div",{className:"px-3 py-1 text-[11px] uppercase tracking-wider text-gray-500 bg-gray-50 border-b"},e),t.map((s,r)=>React.createElement("button",{key:`${e}-${r}`,onClick:s.action,className:"w-full text-left p-3 hover:bg-blue-50 border-b transition-colors"},React.createElement("div",{className:"flex items-start justify-between"},React.createElement("div",{className:"flex-1"},React.createElement("p",{className:"font-semibold text-sm"},s.title),s.description&&React.createElement("p",{className:"text-xs text-gray-600 mt-1"},s.description))))))))),React.createElement("div",{className:"text-xs text-gray-500 flex items-center gap-2"},React.createElement("span",{className:As==="saving"?"text-amber-600":"text-emerald-600"},As==="saving"?"Saving...":"Saved"),Is&&React.createElement("span",null,new Date(Is).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}))),React.createElement("div",{className:"flex w-full flex-wrap items-center justify-center gap-2 sm:w-auto sm:justify-end"},React.createElement("button",{onClick:ei,className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium","aria-label":"Start new case",title:"Start a new case (clears current inputs)"},React.createElement("i",{"data-lucide":"user-plus",className:"w-4 h-4"}),React.createElement("span",{className:"hidden lg:inline"},"Start Case")),React.createElement("div",{className:"hidden sm:flex items-center gap-2"},Za&&React.createElement(React.Fragment,null,React.createElement("button",{onClick:Ya,className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium","aria-label":"Export to PDF",title:"Export current view to PDF"},React.createElement("i",{"data-lucide":"download",className:"w-4 h-4"}),React.createElement("span",{className:"hidden sm:inline"},"PDF")),React.createElement("button",{onClick:er,className:"flex items-center gap-1 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Share this page",title:"Share this page"},React.createElement("i",{"data-lucide":"share-2",className:"w-4 h-4"}),React.createElement("span",{className:"hidden sm:inline"},"Share"))),React.createElement("button",{onClick:Ja,className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":Fe?"Switch to light mode":"Switch to dark mode",title:Fe?"Switch to light mode":"Switch to dark mode"},React.createElement("i",{"data-lucide":Fe?"sun":"moon",className:"w-5 h-5"}))),React.createElement("button",{onClick:Di,className:"flex items-center gap-2 px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium","aria-label":"Clear local data",title:"Clear locally stored app data"},React.createElement("i",{"data-lucide":"trash-2",className:"w-4 h-4"}),React.createElement("span",null,"Clear local data")),React.createElement("button",{onClick:()=>Ct(e=>!e),className:"sm:hidden flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium","aria-expanded":pa,"aria-label":"Toggle actions menu"},React.createElement("i",{"data-lucide":"more-horizontal",className:"w-4 h-4"}),React.createElement("span",null,"Actions"))),pa&&React.createElement("div",{className:"sm:hidden w-full grid grid-cols-2 gap-2"},Za&&React.createElement("button",{onClick:()=>{Ya(),Ct(!1)},className:"flex items-center justify-center gap-2 px-3 py-2 bg-green-600 text-white rounded-lg text-sm font-medium","aria-label":"Export to PDF"},React.createElement("i",{"data-lucide":"download",className:"w-4 h-4"}),React.createElement("span",null,"PDF")),Za&&React.createElement("button",{onClick:()=>{er(),Ct(!1)},className:"flex items-center justify-center gap-2 px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium","aria-label":"Share this page"},React.createElement("i",{"data-lucide":"share-2",className:"w-4 h-4"}),React.createElement("span",null,"Share")),React.createElement("button",{onClick:()=>{Ja(),Ct(!1)},className:"flex items-center justify-center gap-2 px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium","aria-label":Fe?"Switch to light mode":"Switch to dark mode"},React.createElement("i",{"data-lucide":Fe?"sun":"moon",className:"w-4 h-4"}),React.createElement("span",null,Fe?"Light":"Dark"))))),Se&&React.createElement("div",{className:`mt-2 p-3 rounded-lg border text-sm flex items-center gap-2 ${Se.type==="success"?"bg-green-100 border-green-400 text-green-700":Se.type==="warning"?"bg-yellow-100 border-yellow-400 text-yellow-800":Se.type==="error"?"bg-red-100 border-red-400 text-red-700":"bg-blue-100 border-blue-400 text-blue-700"}`},React.createElement("i",{"data-lucide":Se.type==="success"?"check-circle":Se.type==="warning"?"alert-triangle":Se.type==="error"?"x-circle":"info",className:"w-4 h-4"}),React.createElement("span",null,Se.message)),Kt&&React.createElement("div",{className:"mt-2 p-3 rounded-lg border border-blue-200 bg-blue-50 text-blue-900 text-sm flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement("i",{"data-lucide":"rotate-ccw",className:"w-4 h-4"}),React.createElement("span",null,"Case cleared. Undo available for 30 seconds.")),React.createElement("button",{type:"button",onClick:Ii,className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg text-xs font-semibold hover:bg-blue-700"},"Undo")),te&&React.createElement("div",{className:"mt-2 p-2 bg-green-100 border border-green-400 text-green-700 rounded-lg text-sm flex items-center gap-2"},React.createElement("i",{"data-lucide":"check",className:"w-4 h-4"}),React.createElement("span",null,te," copied to clipboard!")),Object.keys(Ca).length>0&&React.createElement("div",{className:"mt-2 p-2 bg-amber-50 border border-amber-200 text-amber-800 rounded-lg text-xs"},React.createElement("div",{className:"flex items-center gap-2 font-semibold"},React.createElement("i",{"data-lucide":"alert-triangle",className:"w-4 h-4"}),React.createElement("span",null,"Possible identifiers detected")),React.createElement("div",{className:"mt-1"},Object.entries(Ca).slice(0,4).map(([e,t])=>React.createElement("div",{key:e},e,": ",t.join(", "))),Object.keys(Ca).length>4&&React.createElement("div",null,"More fields flagged...")))),React.createElement("div",{className:"sticky top-2 z-40 mb-4 no-print"},React.createElement("div",{className:"bg-white/95 backdrop-blur border border-slate-200 rounded-xl shadow-sm px-3 py-3 dark:bg-slate-900/90 dark:border-slate-700"},React.createElement("div",{className:"flex items-center justify-between gap-3 lg:hidden mb-2"},React.createElement("p",{className:"text-[11px] uppercase tracking-wide text-slate-500 dark:text-slate-300"},"Case Summary"),React.createElement("button",{onClick:()=>fs(e=>!e),className:"text-xs font-semibold text-blue-700 dark:text-blue-300","aria-expanded":!dt,"aria-label":dt?"Expand case summary":"Collapse case summary"},dt?"Expand":"Collapse")),dt?React.createElement("div",{className:"grid grid-cols-3 gap-2"},React.createElement("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 dark:bg-slate-800 dark:border-slate-700"},React.createElement("p",{className:"text-[11px] uppercase tracking-wide text-slate-500 dark:text-slate-300"},"NIHSS"),React.createElement("p",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100"},mr)),React.createElement("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 dark:bg-slate-800 dark:border-slate-700"},React.createElement("p",{className:"text-[11px] uppercase tracking-wide text-slate-500 dark:text-slate-300"},"LKW"),React.createElement("p",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100"},dr),ia&&React.createElement("p",{className:"text-xs text-slate-500 dark:text-slate-300"},"(",ia," from ",cr,")")),React.createElement("div",{className:`rounded-lg border px-3 py-2 ${lr}`},React.createElement("p",{className:"text-[11px] uppercase tracking-wide opacity-70"},"Window"),React.createElement("p",{className:"text-sm font-semibold"},ss.message))):React.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-2"},React.createElement("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 dark:bg-slate-800 dark:border-slate-700"},React.createElement("p",{className:"text-[11px] uppercase tracking-wide text-slate-500 dark:text-slate-300"},"Age"),React.createElement("p",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100"},Ui)),React.createElement("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 dark:bg-slate-800 dark:border-slate-700"},React.createElement("p",{className:"text-[11px] uppercase tracking-wide text-slate-500 dark:text-slate-300"},"Weight"),React.createElement("p",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100"},Wi)),React.createElement("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 dark:bg-slate-800 dark:border-slate-700"},React.createElement("p",{className:"text-[11px] uppercase tracking-wide text-slate-500 dark:text-slate-300"},"NIHSS"),React.createElement("p",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100"},mr)),React.createElement("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 dark:bg-slate-800 dark:border-slate-700"},React.createElement("p",{className:"text-[11px] uppercase tracking-wide text-slate-500 dark:text-slate-300"},"LKW"),React.createElement("p",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100"},dr),ia&&React.createElement("p",{className:"text-xs text-slate-500 dark:text-slate-300"},"(",ia," from ",cr,")")),React.createElement("div",{className:`rounded-lg border px-3 py-2 ${lr}`},React.createElement("p",{className:"text-[11px] uppercase tracking-wide opacity-70"},"Window"),React.createElement("p",{className:"text-sm font-semibold"},ss.message))))),$r&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>It(!1)},React.createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full p-6",onClick:e=>e.stopPropagation()},React.createElement("div",{className:"flex justify-between items-center mb-4"},React.createElement("h2",{className:"text-2xl font-bold text-gray-900"},"Keyboard Shortcuts"),React.createElement("button",{onClick:()=>It(!1),className:"text-gray-500 hover:text-gray-700","aria-label":"Close keyboard shortcuts"},React.createElement("i",{"data-lucide":"x",className:"w-6 h-6"}))),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",{className:"space-y-3"},React.createElement("h3",{className:"font-semibold text-gray-800 mb-2"},"Navigation"),React.createElement("div",{className:"flex justify-between items-center"},React.createElement("span",{className:"text-gray-700"},"Encounter Tab"),React.createElement("kbd",{className:"px-2 py-1 bg-gray-100 border border-gray-300 rounded text-sm font-mono"},"1")),React.createElement("div",{className:"flex justify-between items-center"},React.createElement("span",{className:"text-gray-700"},"Management (Ischemic) Tab"),React.createElement("kbd",{className:"px-2 py-1 bg-gray-100 border border-gray-300 rounded text-sm font-mono"},"2")),React.createElement("div",{className:"flex justify-between items-center"},React.createElement("span",{className:"text-gray-700"},"Management (Calculators) Tab"),React.createElement("kbd",{className:"px-2 py-1 bg-gray-100 border border-gray-300 rounded text-sm font-mono"},"3"))),React.createElement("div",{className:"space-y-3"},React.createElement("h3",{className:"font-semibold text-gray-800 mb-2"},"Actions"),React.createElement("div",{className:"flex justify-between items-center"},React.createElement("span",{className:"text-gray-700"},"Open Search"),React.createElement("kbd",{className:"px-2 py-1 bg-gray-100 border border-gray-300 rounded text-sm font-mono"},"\u2318K / Ctrl+K")),React.createElement("div",{className:"flex justify-between items-center"},React.createElement("span",{className:"text-gray-700"},"Export to PDF"),React.createElement("kbd",{className:"px-2 py-1 bg-gray-100 border border-gray-300 rounded text-sm font-mono"},"\u2318E / Ctrl+E")),React.createElement("div",{className:"flex justify-between items-center"},React.createElement("span",{className:"text-gray-700"},"Toggle Dark Mode"),React.createElement("kbd",{className:"px-2 py-1 bg-gray-100 border border-gray-300 rounded text-sm font-mono"},"\u2318D / Ctrl+D")),React.createElement("div",{className:"flex justify-between items-center"},React.createElement("span",{className:"text-gray-700"},"Close Modals"),React.createElement("kbd",{className:"px-2 py-1 bg-gray-100 border border-gray-300 rounded text-sm font-mono"},"Esc")),React.createElement("div",{className:"flex justify-between items-center"},React.createElement("span",{className:"text-gray-700"},"Show This Help"),React.createElement("kbd",{className:"px-2 py-1 bg-gray-100 border border-gray-300 rounded text-sm font-mono"},"?")))),React.createElement("div",{className:"mt-6 text-center"},React.createElement("button",{onClick:()=>It(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},"Got it!")))),ve&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>Dt(null)},React.createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-xl w-full p-6",onClick:e=>e.stopPropagation()},React.createElement("div",{className:"flex items-center justify-between mb-4"},React.createElement("h2",{className:"text-xl font-bold text-gray-900"},"Macro Preview"),React.createElement("button",{onClick:()=>Dt(null),className:"text-gray-500 hover:text-gray-700"},React.createElement("i",{"data-lucide":"x",className:"w-5 h-5"}))),ve.variables.length>0&&React.createElement("div",{className:"space-y-2 mb-4"},ve.variables.map(e=>React.createElement("div",{key:e,className:"flex items-center gap-2"},React.createElement("label",{className:"w-32 text-xs font-semibold text-gray-600"},e),React.createElement("input",{type:"text",value:Ma[e]||"",onChange:t=>La(s=>({...s,[e]:t.target.value})),className:"flex-1 px-2 py-1 text-xs border border-gray-300 rounded"})))),React.createElement("textarea",{value:_a(ve.macro.templateText,Ma),readOnly:!0,rows:"6",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-xs font-mono"}),React.createElement("div",{className:"mt-4 flex flex-wrap gap-2 justify-end"},ve.targetField&&React.createElement("button",{onClick:()=>_s("insert"),className:"px-3 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium"},"Insert"),React.createElement("button",{onClick:()=>_s("copy"),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium"},"Copy"),React.createElement("button",{onClick:()=>Dt(null),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium"},"Close")))),Ds.length>0&&React.createElement("div",{className:"mb-4 space-y-2",role:"alert","aria-live":"assertive","aria-atomic":"true"},Ds.map(e=>React.createElement("div",{key:e.id,className:`p-4 rounded-lg border-2 flex items-start gap-3 ${e.level==="critical"?"bg-red-50 border-red-500 animate-pulse":"bg-yellow-50 border-yellow-500"}`},React.createElement("i",{"data-lucide":"alert-triangle",className:`w-6 h-6 flex-shrink-0 ${e.level==="critical"?"text-red-600":"text-yellow-600"}`}),React.createElement("div",{className:"flex-1"},React.createElement("p",{className:`font-bold text-lg ${e.level==="critical"?"text-red-900":"text-yellow-900"}`},e.message),React.createElement("p",{className:`text-sm mt-1 ${e.level==="critical"?"text-red-700":"text-yellow-700"}`},e.action))))),React.createElement("div",{className:"mb-4 sm:mb-6 hidden md:block app-nav",role:"navigation","aria-label":"Main navigation"},React.createElement("nav",{className:"flex flex-wrap justify-center gap-2 md:justify-around md:gap-0",role:"tablist"},[{id:"encounter",name:"\u26A1 Encounter",icon:"activity"},{id:"management",name:"Management",icon:"layers"},{id:"trials",name:"Trials",icon:"file-text"}].map(e=>{let t=_===e.id;return React.createElement("button",{key:e.id,onClick:()=>{be(e.id)},className:`tab-pill py-2 px-4 text-sm flex items-center space-x-2 transition-all ${t?"active":"inactive"}`,role:"tab","aria-selected":t},React.createElement("i",{"data-lucide":e.icon,className:"w-4 h-4"}),React.createElement("span",null,e.name))}))),React.createElement("div",{id:"main-content",className:"space-y-6 sm:space-y-8 mobile-nav-padding",role:"region","aria-label":"Main content area"},_==="encounter"&&React.createElement("div",{key:"encounter-tab",className:"space-y-4"},React.createElement("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 border border-slate-200 rounded-lg p-4"},React.createElement("div",{className:"flex items-center justify-between mb-3"},React.createElement("label",{className:"block font-semibold text-slate-700 text-sm uppercase tracking-wide"},"Consultation Type"),React.createElement("button",{onClick:()=>ga(e=>!e),className:`text-xs font-semibold px-3 py-1 rounded-full border ${le?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-600 border-slate-300"}`,type:"button","aria-pressed":le,title:le?"Hide advanced sections":"Show advanced sections"},le?"Advanced On":"Advanced Off")),React.createElement("div",{className:"flex flex-wrap gap-2"},React.createElement("button",{onClick:()=>ht("telephone"),className:`flex-1 min-w-[120px] px-4 py-3 rounded-lg font-medium transition-all ${xe==="telephone"?"bg-amber-600 text-white shadow-md":"bg-white text-slate-700 border border-slate-300 hover:bg-amber-50 hover:border-amber-300"}`},React.createElement("i",{"data-lucide":"phone",className:"w-4 h-4 inline mr-2"}),"Telephone"),React.createElement("button",{onClick:()=>ht("videoTelestroke"),className:`flex-1 min-w-[120px] px-4 py-3 rounded-lg font-medium transition-all ${xe==="videoTelestroke"?"bg-blue-600 text-white shadow-md":"bg-white text-slate-700 border border-slate-300 hover:bg-blue-50 hover:border-blue-300"}`},React.createElement("i",{"data-lucide":"video",className:"w-4 h-4 inline mr-2"}),"Video Telestroke"))),(()=>{let e=Ni();return e?React.createElement("div",{className:"bg-white border-2 border-blue-200 rounded-lg p-4 shadow-sm"},React.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3"},React.createElement("div",null,React.createElement("p",{className:"text-xs uppercase tracking-wide text-blue-600 font-semibold"},"Next Best Action"),React.createElement("p",{className:"text-lg font-bold text-blue-900"},e.title),React.createElement("p",{className:"text-sm text-slate-600 mt-1"},e.detail)),React.createElement("button",{onClick:e.action,className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors"},e.cta))):null})(),He.length>0&&React.createElement("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-3"},React.createElement("p",{className:"text-xs uppercase tracking-wide text-slate-500 font-semibold mb-2"},"Pinned Tools"),React.createElement("div",{className:"flex flex-wrap gap-2"},He.map(e=>{let t=nr.find(s=>s.id===e);return t?React.createElement("button",{key:t.id,onClick:()=>Ne(t.id),className:"px-3 py-1.5 bg-white border border-slate-200 rounded-full text-xs font-semibold text-slate-700 hover:bg-slate-100"},t.label):null}))),or.length>0&&React.createElement("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4"},React.createElement("div",{className:"flex items-center justify-between mb-3"},React.createElement("h3",{className:"text-sm font-semibold text-blue-900 uppercase tracking-wide"},"Quick Links")),React.createElement("div",{className:"flex flex-col sm:flex-row gap-3 flex-wrap"},or.map((e,t)=>React.createElement("a",{key:`${e.label}-${t}`,href:e.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-3 bg-white border border-blue-300 rounded-lg hover:bg-blue-100 transition-colors text-blue-700 font-medium"},React.createElement("i",{"data-lucide":"external-link",className:"w-5 h-5"}),React.createElement("div",{className:"flex flex-col"},React.createElement("span",null,e.label),e.note&&React.createElement("span",{className:"text-xs text-blue-700"},e.note)))))),React.createElement("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4"},React.createElement("div",{className:"flex items-center justify-between mb-2"},React.createElement("h3",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide"},"Quick Note")),React.createElement("textarea",{value:x.quickNote||"",onChange:e=>Me({quickNote:e.target.value}),rows:"3",placeholder:"Personal reminders, common phrases, or quick checklist items...",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500"})),React.createElement("details",{className:"bg-white border border-slate-200 rounded-lg"},React.createElement("summary",{className:"cursor-pointer p-4 font-semibold text-slate-800 hover:bg-slate-50 rounded-lg flex items-center justify-between"},React.createElement("span",null,"Workspace Settings"),React.createElement("i",{"data-lucide":"chevron-down",className:"w-5 h-5"})),React.createElement("div",{className:"p-4 space-y-6"},React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},React.createElement("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700"},React.createElement("input",{type:"checkbox",checked:x.compactMode===!0,onChange:e=>Me({compactMode:e.target.checked}),className:"w-4 h-4"}),"Compact mode"),React.createElement("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700"},React.createElement("input",{type:"checkbox",checked:x.lightweightMode===!0,onChange:e=>Me({lightweightMode:e.target.checked}),className:"w-4 h-4"}),"Lightweight mode"),React.createElement("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700"},React.createElement("input",{type:"checkbox",checked:x.tabletSplit===!0,onChange:e=>Me({tabletSplit:e.target.checked}),className:"w-4 h-4"}),"Split view on tablet"),React.createElement("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700"},React.createElement("input",{type:"checkbox",checked:le===!0,onChange:e=>ga(e.target.checked),className:"w-4 h-4"}),"Show advanced sections")),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-slate-700 mb-1"},"Role preset"),React.createElement("select",{value:x.preferredRole||"consult",onChange:e=>Me({preferredRole:e.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"},Vi.map(e=>React.createElement("option",{key:e.value,value:e.value},e.label))),React.createElement("button",{type:"button",onClick:()=>bi(x.preferredRole||"consult"),className:"mt-2 text-xs font-semibold text-blue-700 hover:text-blue-900"},"Apply preset to current case")),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-slate-700 mb-1"},"Default consultation type"),React.createElement("select",{value:x.defaultConsultationType||"videoTelestroke",onChange:e=>Me({defaultConsultationType:e.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"},React.createElement("option",{value:"videoTelestroke"},"Video Telestroke"),React.createElement("option",{value:"telephone"},"Telephone")))),React.createElement("div",null,React.createElement("h4",{className:"text-sm font-semibold text-slate-800 mb-2"},"Pinned tools"),React.createElement("div",{className:"space-y-2"},nr.map(e=>{let t=He.includes(e.id),s=He.indexOf(e.id);return React.createElement("div",{key:e.id,className:"flex items-center gap-2 text-sm"},React.createElement("input",{type:"checkbox",checked:t,onChange:()=>{let r=t?He.filter(i=>i!==e.id):[...He,e.id];Xa(r)},className:"w-4 h-4"}),React.createElement("span",{className:"flex-1"},e.label),React.createElement("button",{type:"button",onClick:()=>{if(s<=0)return;let r=[...He];[r[s-1],r[s]]=[r[s],r[s-1]],Xa(r)},className:"text-xs text-slate-500 hover:text-slate-700"},"Up"),React.createElement("button",{type:"button",onClick:()=>{if(s===-1||s>=He.length-1)return;let r=[...He];[r[s+1],r[s]]=[r[s],r[s+1]],Xa(r)},className:"text-xs text-slate-500 hover:text-slate-700"},"Down"))}))),React.createElement("div",null,React.createElement("h4",{className:"text-sm font-semibold text-slate-800 mb-2"},"Quick links"),React.createElement("div",{className:"space-y-2"},(x.quickLinks||[]).map((e,t)=>React.createElement("div",{key:`${e.label||"link"}-${t}`,className:"grid grid-cols-1 md:grid-cols-4 gap-2"},React.createElement("input",{type:"text",value:e.label||"",onChange:s=>{let r=[...x.quickLinks||[]];r[t]={...r[t],label:s.target.value},Ot(r)},placeholder:"Label",className:"px-3 py-2 border border-slate-300 rounded-lg text-sm"}),React.createElement("input",{type:"text",value:e.url||"",onChange:s=>{let r=[...x.quickLinks||[]];r[t]={...r[t],url:s.target.value},Ot(r)},placeholder:"URL",className:"px-3 py-2 border border-slate-300 rounded-lg text-sm md:col-span-2"}),React.createElement("div",{className:"flex items-center gap-2"},React.createElement("input",{type:"text",value:e.note||"",onChange:s=>{let r=[...x.quickLinks||[]];r[t]={...r[t],note:s.target.value},Ot(r)},placeholder:"Note",className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg text-sm"}),React.createElement("button",{type:"button",onClick:()=>{let s=[...x.quickLinks||[]];s.splice(t,1),Ot(s)},className:"text-xs text-red-600 hover:text-red-800"},"Remove"))))),React.createElement("button",{type:"button",onClick:()=>Ot([...x.quickLinks||[],{label:"",url:"",note:""}]),className:"mt-2 text-xs font-semibold text-blue-700 hover:text-blue-900"},"Add quick link")),React.createElement("div",null,React.createElement("h4",{className:"text-sm font-semibold text-slate-800 mb-2"},"Quick contacts"),React.createElement("div",{className:"space-y-2"},(x.contacts||[]).map((e,t)=>React.createElement("div",{key:`${e.id||e.label||"contact"}-${t}`,className:"grid grid-cols-1 md:grid-cols-4 gap-2"},React.createElement("input",{type:"text",value:e.label||"",onChange:s=>{let r=[...x.contacts||[]];r[t]={...r[t],label:s.target.value},$t(r)},placeholder:"Label",className:"px-3 py-2 border border-slate-300 rounded-lg text-sm"}),React.createElement("input",{type:"text",value:e.phone||"",onChange:s=>{let r=[...x.contacts||[]];r[t]={...r[t],phone:s.target.value},$t(r)},placeholder:"Phone",className:"px-3 py-2 border border-slate-300 rounded-lg text-sm"}),React.createElement("input",{type:"text",value:e.note||"",onChange:s=>{let r=[...x.contacts||[]];r[t]={...r[t],note:s.target.value},$t(r)},placeholder:"Note",className:"px-3 py-2 border border-slate-300 rounded-lg text-sm"}),React.createElement("button",{type:"button",onClick:()=>{let s=[...x.contacts||[]];s.splice(t,1),$t(s)},className:"text-xs text-red-600 hover:text-red-800"},"Remove")))),React.createElement("button",{type:"button",onClick:()=>$t([...x.contacts||[],{id:se("contact"),label:"",phone:"",note:""}]),className:"mt-2 text-xs font-semibold text-blue-700 hover:text-blue-900"},"Add contact")))),xe==="videoTelestroke"&&React.createElement("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4"},React.createElement("label",{className:"block text-sm font-medium text-blue-900 mb-1"},React.createElement("i",{"data-lucide":"map-pin",className:"w-4 h-4 inline mr-1"}),"Calling Site"),React.createElement("select",{value:a.callingSite,onChange:e=>l({...a,callingSite:e.target.value,callingSiteOther:e.target.value==="Other"?a.callingSiteOther:""}),className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500"},React.createElement("option",{value:""},"-- Select Site --"),React.createElement("optgroup",{label:"UW Sites"},React.createElement("option",{value:"UWM Northwest"},"UWM Northwest")),React.createElement("optgroup",{label:"Video Partner Sites"},React.createElement("option",{value:"Astria Sunnyside"},"Astria Sunnyside"),React.createElement("option",{value:"Cascade Medical \u2013 Leavenworth"},"Cascade Medical \u2013 Leavenworth"),React.createElement("option",{value:"Columbia Basin-Ephrata"},"Columbia Basin-Ephrata"),React.createElement("option",{value:"Confluence Health \u2013 Wenatchee"},"Confluence Health \u2013 Wenatchee"),React.createElement("option",{value:"Island Health \u2013 Anacortes"},"Island Health \u2013 Anacortes"),React.createElement("option",{value:"Lourdes Health \u2013 Pasco"},"Lourdes Health \u2013 Pasco"),React.createElement("option",{value:"Mason General Hospital \u2013 Shelton"},"Mason General Hospital \u2013 Shelton"),React.createElement("option",{value:"Snoqualmie Valley \u2013 Snoqualmie"},"Snoqualmie Valley \u2013 Snoqualmie"),React.createElement("option",{value:"St. Joseph Regional Medical Center \u2013 Lewiston, Idaho"},"St. Joseph Regional Medical Center \u2013 Lewiston, Idaho")),React.createElement("optgroup",{label:"PeaceHealth Sites"},React.createElement("option",{value:"PeaceHealth Island - Friday Harbor"},"PeaceHealth Island - Friday Harbor"),React.createElement("option",{value:"PeaceHealth Ketchikan Medical Center \u2013 Ketchikan, Alaska"},"PeaceHealth Ketchikan Medical Center \u2013 Ketchikan, Alaska"),React.createElement("option",{value:"PeaceHealth St. Joseph Medical Center \u2013 Bellingham"},"PeaceHealth St. Joseph Medical Center \u2013 Bellingham"),React.createElement("option",{value:"PeaceHealth United General Medical Center \u2013 Sedro Woolley"},"PeaceHealth United General Medical Center \u2013 Sedro Woolley")),React.createElement("optgroup",{label:"Alaska Sites"},React.createElement("option",{value:"Petersburg, AK"},"Petersburg, AK")),React.createElement("optgroup",{label:"Tri-Cities"},React.createElement("option",{value:"Trios Health \u2013 Kennewick"},"Trios Health \u2013 Kennewick")),React.createElement("option",{value:"Other"},"Other (specify below)")),a.callingSite==="Other"&&React.createElement("input",{type:"text",value:a.callingSiteOther,onChange:e=>l({...a,callingSiteOther:e.target.value}),className:"w-full mt-2 px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter site name..."})),xe==="videoTelestroke"&&React.createElement("div",{id:"lkw-section",className:"bg-blue-50 border-2 border-blue-300 rounded-lg p-4"},React.createElement("div",{className:"flex items-center justify-between mb-2"},React.createElement("label",{className:"block font-semibold text-blue-900"},React.createElement("i",{"data-lucide":"clock",className:"w-4 h-4 inline mr-1"}),"Last Known Well Time *"),React.createElement("button",{type:"button",onClick:()=>{Te(new Date)},className:"text-xs font-semibold text-blue-700 hover:text-blue-900"},"Use Now")),React.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3"},React.createElement("div",{className:"min-w-0"},React.createElement("label",{className:"block text-sm font-medium text-blue-900 mb-1"},"Date"),React.createElement("input",{type:"date",value:p?`${p.getFullYear()}-${String(p.getMonth()+1).padStart(2,"0")}-${String(p.getDate()).padStart(2,"0")}`:"",onChange:e=>{if(e.target.value){let[t,s,r]=e.target.value.split("-").map(Number),i=new Date(t,s-1,r);p&&i.setHours(p.getHours(),p.getMinutes()),Te(i)}},max:`${fe.getFullYear()}-${String(fe.getMonth()+1).padStart(2,"0")}-${String(fe.getDate()).padStart(2,"0")}`,className:"w-full px-2 sm:px-4 py-3 border-2 border-blue-300 rounded-lg text-base sm:text-lg font-semibold focus:outline-none focus:ring-2 focus:ring-blue-500 max-w-full",style:{boxSizing:"border-box"}})),React.createElement("div",{className:"min-w-0"},React.createElement("label",{className:"block text-sm font-medium text-blue-900 mb-1"},"Time"),React.createElement("input",{type:"time",value:p?p.toTimeString().slice(0,5):"",onChange:e=>{if(e.target.value){let[t,s]=e.target.value.split(":"),r=p?new Date(p):new Date;r.setHours(parseInt(t),parseInt(s)),Te(r)}},className:"w-full px-2 sm:px-4 py-3 border-2 border-blue-300 rounded-lg text-base sm:text-lg font-semibold focus:outline-none focus:ring-2 focus:ring-blue-500 max-w-full",style:{boxSizing:"border-box"}}))),React.createElement("div",{className:"mt-3"},React.createElement("label",{className:"flex items-center gap-2 cursor-pointer"},React.createElement("input",{type:"checkbox",checked:a.lkwUnknown,onChange:e=>{let t=e.target.checked;l({...a,lkwUnknown:t,discoveryDate:t?a.discoveryDate||new Date().toISOString().split("T")[0]:a.discoveryDate,discoveryTime:t?a.discoveryTime||new Date().toTimeString().slice(0,5):a.discoveryTime})},className:"w-5 h-5 rounded border-2 border-purple-400 text-purple-600 focus:ring-purple-500"}),React.createElement("span",{className:"font-semibold text-purple-800"},"Wake-up Stroke / Unknown LKW"))),a.lkwUnknown&&React.createElement("div",{className:"mt-3 bg-purple-50 border border-purple-200 rounded-lg p-3"},React.createElement("div",{className:"flex items-center justify-between mb-2"},React.createElement("span",{className:"text-sm font-semibold text-purple-800"},"Discovery Time"),React.createElement("button",{onClick:()=>l({...a,discoveryDate:new Date().toISOString().split("T")[0],discoveryTime:new Date().toTimeString().slice(0,5)}),className:"text-xs font-semibold text-purple-700 hover:text-purple-900",type:"button"},"Use Now")),React.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2"},React.createElement("input",{type:"date",value:a.discoveryDate,onChange:e=>l({...a,discoveryDate:e.target.value}),className:"w-full px-3 py-2 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500"}),React.createElement("input",{type:"time",value:a.discoveryTime,onChange:e=>l({...a,discoveryTime:e.target.value}),className:"w-full px-3 py-2 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500"})),oe&&React.createElement("p",{className:"text-xs text-purple-700 mt-2"},oe.hours,"h ",oe.minutes,"m from discovery")),a.lkwUnknown&&React.createElement("div",{className:"mt-3 bg-purple-50 border-2 border-purple-300 rounded-lg p-4 space-y-4"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement("span",{className:"text-lg font-bold text-purple-900"},"\u{1F319} Wake-up Stroke Evaluation")),React.createElement("div",{className:"space-y-2"},React.createElement("div",{className:"font-semibold text-purple-800"},"Is MRI with DWI-FLAIR available?"),React.createElement("div",{className:"flex gap-2"},React.createElement("button",{onClick:()=>l({...a,wakeUpStrokeWorkflow:{...a.wakeUpStrokeWorkflow,mriAvailable:!0}}),className:`px-4 py-2 rounded-lg font-medium transition-all ${a.wakeUpStrokeWorkflow.mriAvailable===!0?"bg-purple-600 text-white":"bg-white border-2 border-purple-300 text-purple-700 hover:bg-purple-100"}`},"Yes - MRI Available"),React.createElement("button",{onClick:()=>l({...a,wakeUpStrokeWorkflow:{...a.wakeUpStrokeWorkflow,mriAvailable:!1}}),className:`px-4 py-2 rounded-lg font-medium transition-all ${a.wakeUpStrokeWorkflow.mriAvailable===!1?"bg-orange-600 text-white":"bg-white border-2 border-orange-300 text-orange-700 hover:bg-orange-100"}`},"No - Use CTP"))),a.wakeUpStrokeWorkflow.mriAvailable===!0&&React.createElement("div",{className:"bg-white border border-purple-200 rounded-lg p-3 space-y-2"},React.createElement("div",{className:"font-bold text-purple-800 flex items-center gap-2"},React.createElement("span",null,"\u{1F52C}"),React.createElement("span",null,"WAKE-UP Trial Criteria (MRI-guided)"),React.createElement("a",{href:"https://www.nejm.org/doi/full/10.1056/NEJMoa1804355",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-purple-600 hover:underline"},"[NEJM 2018]")),React.createElement("div",{className:"grid gap-2 text-sm"},React.createElement("label",{className:"flex items-center gap-2 cursor-pointer"},React.createElement("input",{type:"checkbox",checked:a.wakeUpStrokeWorkflow.dwi.positiveForLesion,onChange:e=>l({...a,wakeUpStrokeWorkflow:{...a.wakeUpStrokeWorkflow,dwi:{...a.wakeUpStrokeWorkflow.dwi,positiveForLesion:e.target.checked}}}),className:"w-4 h-4 rounded border-purple-400 text-purple-600"}),React.createElement("span",null,"DWI positive lesion visible")),React.createElement("label",{className:"flex items-center gap-2 cursor-pointer"},React.createElement("input",{type:"checkbox",checked:a.wakeUpStrokeWorkflow.flair.noMarkedHyperintensity,onChange:e=>l({...a,wakeUpStrokeWorkflow:{...a.wakeUpStrokeWorkflow,flair:{...a.wakeUpStrokeWorkflow.flair,noMarkedHyperintensity:e.target.checked}}}),className:"w-4 h-4 rounded border-purple-400 text-purple-600"}),React.createElement("span",null,"No marked parenchymal hyperintensity on FLAIR")),React.createElement("label",{className:"flex items-center gap-2 cursor-pointer"},React.createElement("input",{type:"checkbox",checked:a.wakeUpStrokeWorkflow.ageEligible,onChange:e=>l({...a,wakeUpStrokeWorkflow:{...a.wakeUpStrokeWorkflow,ageEligible:e.target.checked}}),className:"w-4 h-4 rounded border-purple-400 text-purple-600"}),React.createElement("span",null,"Age 18-80 years")),React.createElement("label",{className:"flex items-center gap-2 cursor-pointer"},React.createElement("input",{type:"checkbox",checked:a.wakeUpStrokeWorkflow.nihssEligible,onChange:e=>l({...a,wakeUpStrokeWorkflow:{...a.wakeUpStrokeWorkflow,nihssEligible:e.target.checked}}),className:"w-4 h-4 rounded border-purple-400 text-purple-600"}),React.createElement("span",null,"NIHSS \u226425"))),a.wakeUpStrokeWorkflow.dwi.positiveForLesion&&a.wakeUpStrokeWorkflow.flair.noMarkedHyperintensity&&a.wakeUpStrokeWorkflow.ageEligible&&a.wakeUpStrokeWorkflow.nihssEligible&&React.createElement("div",{className:"bg-green-100 border border-green-300 rounded-lg p-2 text-green-800 font-semibold text-sm flex items-center gap-2"},React.createElement("span",null,"\u2713"),React.createElement("span",null,"Meets WAKE-UP criteria - Consider IV thrombolysis"))),a.wakeUpStrokeWorkflow.mriAvailable===!1&&React.createElement("div",{className:"bg-white border border-orange-200 rounded-lg p-3 space-y-2"},React.createElement("div",{className:"font-bold text-orange-800 flex items-center gap-2"},React.createElement("span",null,"\u{1F9E0}"),React.createElement("span",null,"EXTEND Trial Criteria (Perfusion Imaging)"),React.createElement("a",{href:"https://www.nejm.org/doi/full/10.1056/NEJMoa1813046",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-orange-600 hover:underline"},"[NEJM 2019]")),React.createElement("div",{className:"grid gap-2 text-sm"},React.createElement("label",{className:"flex items-center gap-2 cursor-pointer"},React.createElement("input",{type:"checkbox",checked:a.wakeUpStrokeWorkflow.extendCriteria.nihss4to26,onChange:e=>l({...a,wakeUpStrokeWorkflow:{...a.wakeUpStrokeWorkflow,extendCriteria:{...a.wakeUpStrokeWorkflow.extendCriteria,nihss4to26:e.target.checked}}}),className:"w-4 h-4 rounded border-orange-400 text-orange-600"}),React.createElement("span",null,"NIHSS 4-26")),React.createElement("label",{className:"flex items-center gap-2 cursor-pointer"},React.createElement("input",{type:"checkbox",checked:a.wakeUpStrokeWorkflow.extendCriteria.premorbidMRSLt2,onChange:e=>l({...a,wakeUpStrokeWorkflow:{...a.wakeUpStrokeWorkflow,extendCriteria:{...a.wakeUpStrokeWorkflow.extendCriteria,premorbidMRSLt2:e.target.checked}}}),className:"w-4 h-4 rounded border-orange-400 text-orange-600"}),React.createElement("span",null,"Pre-morbid mRS <2")),React.createElement("label",{className:"flex items-center gap-2 cursor-pointer"},React.createElement("input",{type:"checkbox",checked:a.wakeUpStrokeWorkflow.extendCriteria.ischemicCoreLte70,onChange:e=>l({...a,wakeUpStrokeWorkflow:{...a.wakeUpStrokeWorkflow,extendCriteria:{...a.wakeUpStrokeWorkflow.extendCriteria,ischemicCoreLte70:e.target.checked}}}),className:"w-4 h-4 rounded border-orange-400 text-orange-600"}),React.createElement("span",null,"Ischemic core \u226470mL")),React.createElement("label",{className:"flex items-center gap-2 cursor-pointer"},React.createElement("input",{type:"checkbox",checked:a.wakeUpStrokeWorkflow.extendCriteria.mismatchRatioGte1_2,onChange:e=>l({...a,wakeUpStrokeWorkflow:{...a.wakeUpStrokeWorkflow,extendCriteria:{...a.wakeUpStrokeWorkflow.extendCriteria,mismatchRatioGte1_2:e.target.checked}}}),className:"w-4 h-4 rounded border-orange-400 text-orange-600"}),React.createElement("span",null,"Mismatch ratio \u22651.2")),React.createElement("label",{className:"flex items-center gap-2 cursor-pointer"},React.createElement("input",{type:"checkbox",checked:a.wakeUpStrokeWorkflow.extendCriteria.timeWindow4_5to9h,onChange:e=>l({...a,wakeUpStrokeWorkflow:{...a.wakeUpStrokeWorkflow,extendCriteria:{...a.wakeUpStrokeWorkflow.extendCriteria,timeWindow4_5to9h:e.target.checked}}}),className:"w-4 h-4 rounded border-orange-400 text-orange-600"}),React.createElement("span",null,"Time 4.5-9 hours OR wake-up stroke"))),a.wakeUpStrokeWorkflow.extendCriteria.nihss4to26&&a.wakeUpStrokeWorkflow.extendCriteria.premorbidMRSLt2&&a.wakeUpStrokeWorkflow.extendCriteria.ischemicCoreLte70&&a.wakeUpStrokeWorkflow.extendCriteria.mismatchRatioGte1_2&&a.wakeUpStrokeWorkflow.extendCriteria.timeWindow4_5to9h&&React.createElement("div",{className:"bg-green-100 border border-green-300 rounded-lg p-2 text-green-800 font-semibold text-sm flex items-center gap-2"},React.createElement("span",null,"\u2713"),React.createElement("span",null,"Meets EXTEND criteria - Consider IV thrombolysis"))),a.wakeUpStrokeWorkflow.mriAvailable!==null&&React.createElement("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3"},React.createElement("div",{className:"font-semibold text-blue-800 mb-2"},"\u{1F4CB} Suggested Imaging Recommendation:"),React.createElement("div",{className:"text-sm text-blue-900 bg-white rounded p-2 border border-blue-200"},a.wakeUpStrokeWorkflow.mriAvailable===!0?"Obtain MRI brain with DWI/FLAIR to assess for DWI-FLAIR mismatch (WAKE-UP trial criteria). If positive DWI lesion with no corresponding FLAIR hyperintensity, patient may be candidate for IV thrombolysis.":"Obtain CT Perfusion to assess for perfusion mismatch (EXTEND trial criteria). If ischemic core \u226470mL with mismatch ratio \u22651.2, patient may be candidate for IV thrombolysis in extended window.")))),xe==="telephone"&&React.createElement("div",{className:"space-y-4"},React.createElement("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-lg p-4 shadow-lg"},React.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},React.createElement("h3",{className:"text-xl font-bold"},"\u{1F4DE} Telephone Consult"),p&&React.createElement("div",{className:"bg-white/20 rounded-lg px-4 py-2 text-center"},React.createElement("span",{className:"text-2xl font-bold"},(()=>{let e=he();return e?`${e.hours}h ${e.minutes}m`:"--:--"})()),React.createElement("span",{className:"text-sm ml-2 opacity-90"},"from LKW")))),React.createElement("div",{className:"bg-blue-50 border-2 border-blue-300 rounded-lg p-4 shadow-md"},React.createElement("label",{className:"block text-sm font-medium text-blue-900 mb-1"},React.createElement("i",{"data-lucide":"map-pin",className:"w-4 h-4 inline mr-1"}),"Calling Site"),React.createElement("select",{value:a.callingSite,onChange:e=>l({...a,callingSite:e.target.value,callingSiteOther:e.target.value==="Other"?a.callingSiteOther:""}),className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500"},React.createElement("option",{value:""},"-- Select Site --"),React.createElement("optgroup",{label:"UW Sites"},React.createElement("option",{value:"HMC"},"HMC"),React.createElement("option",{value:"UWMC-ML"},"UWMC-ML"),React.createElement("option",{value:"UWM Northwest"},"UWM Northwest")),React.createElement("optgroup",{label:"Partner Sites"},React.createElement("option",{value:"Astria Sunnyside"},"Astria Sunnyside"),React.createElement("option",{value:"Cascade Medical \u2013 Leavenworth"},"Cascade Medical \u2013 Leavenworth"),React.createElement("option",{value:"Columbia Basin-Ephrata"},"Columbia Basin-Ephrata"),React.createElement("option",{value:"Confluence Health \u2013 Wenatchee"},"Confluence Health \u2013 Wenatchee"),React.createElement("option",{value:"Island Health \u2013 Anacortes"},"Island Health \u2013 Anacortes"),React.createElement("option",{value:"Lourdes Health \u2013 Pasco"},"Lourdes Health \u2013 Pasco"),React.createElement("option",{value:"Mason General Hospital \u2013 Shelton"},"Mason General Hospital \u2013 Shelton"),React.createElement("option",{value:"Snoqualmie Valley \u2013 Snoqualmie"},"Snoqualmie Valley \u2013 Snoqualmie"),React.createElement("option",{value:"St. Joseph Regional Medical Center \u2013 Lewiston, Idaho"},"St. Joseph Regional Medical Center \u2013 Lewiston, Idaho"),React.createElement("option",{value:"PeaceHealth Island - Friday Harbor"},"PeaceHealth Island - Friday Harbor"),React.createElement("option",{value:"PeaceHealth Ketchikan Medical Center \u2013 Ketchikan, Alaska"},"PeaceHealth Ketchikan Medical Center \u2013 Ketchikan, Alaska"),React.createElement("option",{value:"PeaceHealth St. Joseph Medical Center \u2013 Bellingham"},"PeaceHealth St. Joseph Medical Center \u2013 Bellingham"),React.createElement("option",{value:"PeaceHealth United General Medical Center \u2013 Sedro Woolley"},"PeaceHealth United General Medical Center \u2013 Sedro Woolley"),React.createElement("option",{value:"Petersburg, AK"},"Petersburg, AK"),React.createElement("option",{value:"Trios Health \u2013 Kennewick"},"Trios Health \u2013 Kennewick")),React.createElement("option",{value:"Other"},"Other (specify below)")),a.callingSite==="Other"&&React.createElement("input",{type:"text",value:a.callingSiteOther,onChange:e=>l({...a,callingSiteOther:e.target.value}),className:"w-full mt-2 px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter site name..."})),React.createElement("div",{className:"bg-amber-50 border-2 border-amber-300 rounded-lg p-4 shadow-md"},React.createElement("label",{className:"block text-sm font-medium text-amber-900 mb-1"},React.createElement("i",{"data-lucide":"clock",className:"w-4 h-4 inline mr-1"}),"Last Known Well"),React.createElement("div",{className:"grid grid-cols-2 gap-2"},React.createElement("input",{type:"date",value:p?`${p.getFullYear()}-${String(p.getMonth()+1).padStart(2,"0")}-${String(p.getDate()).padStart(2,"0")}`:"",onChange:e=>{if(e.target.value){let[t,s,r]=e.target.value.split("-").map(Number),i=new Date(t,s-1,r);p&&i.setHours(p.getHours(),p.getMinutes()),Te(i)}},max:`${fe.getFullYear()}-${String(fe.getMonth()+1).padStart(2,"0")}-${String(fe.getDate()).padStart(2,"0")}`,className:"w-full px-2 py-2 border border-amber-300 rounded-lg focus:ring-2 focus:ring-amber-500"}),React.createElement("input",{type:"time",value:p?p.toTimeString().slice(0,5):"",onChange:e=>{if(e.target.value){let[t,s]=e.target.value.split(":"),r=p?new Date(p):new Date;r.setHours(parseInt(t),parseInt(s)),Te(r)}},className:"w-full px-2 py-2 border border-amber-300 rounded-lg focus:ring-2 focus:ring-amber-500"}))),React.createElement("div",{id:"patient-info-section",className:"bg-white border-2 border-purple-300 rounded-lg p-4 shadow-md"},React.createElement("h4",{className:"text-md font-bold text-purple-900 mb-3 flex items-center gap-2"},React.createElement("i",{"data-lucide":"user",className:"w-4 h-4"}),"Patient Info & History"),React.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-3"},React.createElement("div",null,React.createElement("label",{className:"block text-xs font-medium text-gray-600 mb-1"},"Age"),React.createElement("input",{type:"number",value:a.age,onChange:e=>l({...a,age:e.target.value}),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500"})),React.createElement("div",null,React.createElement("label",{className:"block text-xs font-medium text-gray-600 mb-1"},"Sex"),React.createElement("select",{value:a.sex,onChange:e=>l({...a,sex:e.target.value}),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500"},React.createElement("option",{value:"M"},"M"),React.createElement("option",{value:"F"},"F"))),React.createElement("div",null,React.createElement("label",{className:"block text-xs font-medium text-gray-600 mb-1"},"Weight (kg)"),React.createElement("input",{type:"number",value:a.weight,onChange:e=>l({...a,weight:e.target.value}),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500"})),React.createElement("div",null,React.createElement("label",{className:"block text-xs font-medium text-gray-600 mb-1"},"Pre-stroke mRS"),React.createElement("select",{value:a.premorbidMRS,onChange:e=>l({...a,premorbidMRS:e.target.value}),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500"},React.createElement("option",{value:""},"--"),React.createElement("option",{value:"0"},"0"),React.createElement("option",{value:"1"},"1"),React.createElement("option",{value:"2"},"2"),React.createElement("option",{value:"3"},"3"),React.createElement("option",{value:"4"},"4"),React.createElement("option",{value:"5"},"5")))),a.weight&&Ge(a.weight)&&React.createElement("div",{className:"mb-3 bg-orange-50 border border-orange-200 rounded-lg p-2 flex items-center justify-between text-sm"},React.createElement("span",{className:"text-orange-800 font-medium"},"\u{1F489} TNK Dose: ",React.createElement("span",{className:"font-bold"},Ge(a.weight).calculatedDose," mg")),React.createElement("span",{className:"text-xs text-orange-600"},Ge(a.weight).volume)),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3"},React.createElement("div",null,React.createElement("div",{className:"flex items-center justify-between mb-1"},React.createElement("label",{className:"block text-xs font-medium text-gray-600"},"Presenting Symptoms"),Nt("symptoms",e=>{l(t=>({...t,symptoms:t.symptoms?`${t.symptoms} ${e}`:e}))})),React.createElement("textarea",{value:a.symptoms,onChange:e=>l({...a,symptoms:e.target.value}),rows:"2",className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500"})),React.createElement("div",null,React.createElement("div",{className:"flex items-center justify-between mb-1"},React.createElement("label",{className:"block text-xs font-medium text-gray-600"},"Relevant PMH"),Nt("pmh",e=>{l(t=>({...t,pmh:t.pmh?`${t.pmh} ${e}`:e}))})),React.createElement("textarea",{value:a.pmh,onChange:e=>l({...a,pmh:e.target.value}),rows:"2",className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500"}))),React.createElement("div",{className:"mb-3"},React.createElement("label",{className:"block text-xs font-medium text-gray-600 mb-1"},"Medications"),React.createElement("input",{type:"text",value:a.medications,onChange:e=>l({...a,medications:e.target.value}),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500"}),React.createElement("div",{className:"flex flex-wrap gap-2 mt-2"},["Aspirin","Clopidogrel","Statin","Warfarin","Apixaban"].map(e=>React.createElement("button",{key:e,type:"button",onClick:()=>gi(e),className:"px-2 py-1 text-xs font-semibold rounded-full border border-purple-200 text-purple-700 hover:bg-purple-50"},"+ ",e)))),React.createElement("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3"},React.createElement("span",{className:"text-sm font-medium text-amber-800"},"\u{1F48A} Anticoagulation Status"),React.createElement("div",{className:"grid grid-cols-2 gap-3 mt-2"},React.createElement("div",null,React.createElement("label",{className:"block text-xs text-gray-600 mb-1"},"Anticoagulant Type"),React.createElement("select",{value:a.lastDOACType,onChange:e=>l({...a,lastDOACType:e.target.value}),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-amber-500"},React.createElement("option",{value:""},"None / Unknown"),React.createElement("option",{value:"apixaban"},"Apixaban (Eliquis)"),React.createElement("option",{value:"rivaroxaban"},"Rivaroxaban (Xarelto)"),React.createElement("option",{value:"dabigatran"},"Dabigatran (Pradaxa)"),React.createElement("option",{value:"edoxaban"},"Edoxaban (Savaysa)"),React.createElement("option",{value:"warfarin"},"Warfarin (check INR)"),React.createElement("option",{value:"heparin"},"Heparin UFH (check PTT)"),React.createElement("option",{value:"lmwh"},"LMWH / Enoxaparin"))),React.createElement("div",null,React.createElement("label",{className:"block text-xs text-gray-600 mb-1"},"Last Dose"),React.createElement("input",{type:"datetime-local",value:a.lastDOACDose,onChange:e=>l({...a,lastDOACDose:e.target.value}),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-amber-500"}),React.createElement("div",{className:"flex flex-wrap gap-2 mt-2"},React.createElement("button",{type:"button",onClick:()=>l({...a,lastDOACDose:new Date().toISOString().slice(0,16)}),className:"px-2 py-1 text-xs font-semibold rounded-full border border-amber-200 text-amber-700 hover:bg-amber-50"},"Dose now"),React.createElement("button",{type:"button",onClick:()=>{let e=new Date(Date.now()-1764e5);l({...a,lastDOACDose:e.toISOString().slice(0,16)})},className:"px-2 py-1 text-xs font-semibold rounded-full border border-amber-200 text-amber-700 hover:bg-amber-50"},">48h ago"),React.createElement("button",{type:"button",onClick:()=>l({...a,lastDOACDose:""}),className:"px-2 py-1 text-xs font-semibold rounded-full border border-amber-200 text-amber-700 hover:bg-amber-50"},"Unknown")))),a.lastDOACType&&j[a.lastDOACType]&&React.createElement("div",{className:"mt-2 bg-orange-50 border border-orange-200 rounded p-2 text-xs"},React.createElement("div",{className:"flex justify-between"},React.createElement("span",{className:"font-medium"},j[a.lastDOACType].name),React.createElement("span",{className:"text-orange-700"},"t\xBD: ",j[a.lastDOACType].halfLife)),React.createElement("div",{className:"text-orange-700 mt-1"},"TNK: ",j[a.lastDOACType].thrombolysisThreshold)))),React.createElement("div",{id:"nihss-section",className:"bg-white border-2 border-red-300 rounded-lg p-4 shadow-md"},React.createElement("div",{className:"flex items-center justify-between mb-3"},React.createElement("h4",{className:"text-md font-bold text-red-900 flex items-center gap-2"},React.createElement("i",{"data-lucide":"brain",className:"w-4 h-4"}),"NIHSS Examination"),React.createElement("span",{className:"text-2xl font-bold text-red-600"},"Score: ",h)),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3"},React.createElement("div",null,React.createElement("label",{className:"block text-xs text-gray-600 mb-1"},"NIHSS Score (0-42)"),React.createElement("input",{type:"number",value:a.nihss,onChange:e=>{let t=e.target.value;l({...a,nihss:t}),Ce(parseInt(t)||0)},min:"0",max:"42",className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg text-xl font-bold text-center focus:ring-2 focus:ring-red-500"})),React.createElement("div",null,React.createElement("label",{className:"block text-xs text-gray-600 mb-1"},"Neurologic Deficits"),React.createElement("input",{type:"text",value:a.nihssDetails,onChange:e=>l({...a,nihssDetails:e.target.value}),placeholder:"e.g., R hemiparesis, aphasia, gaze deviation",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"}))),h>0&&React.createElement("div",{className:`mt-2 p-2 rounded-lg text-center text-sm font-medium ${h<=4?"bg-green-100 text-green-800":h<=15?"bg-yellow-100 text-yellow-800":h<=20?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`},h<=4?"Minor Stroke":h<=15?"Moderate Stroke":h<=20?"Moderate-Severe Stroke":"Severe Stroke")),React.createElement("div",{id:"vitals-section",className:"bg-white border-2 border-green-300 rounded-lg p-4 shadow-md"},React.createElement("h4",{className:"text-md font-bold text-green-900 mb-3 flex items-center gap-2"},React.createElement("i",{"data-lucide":"activity",className:"w-4 h-4"}),"Vitals & Labs"),React.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3"},React.createElement("div",null,React.createElement("label",{className:"block text-xs text-gray-600 mb-1"},"BP"),React.createElement("input",{type:"text",value:a.presentingBP,onChange:e=>l({...a,presentingBP:e.target.value}),placeholder:"120/80",className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-green-500"})),React.createElement("div",null,React.createElement("label",{className:"block text-xs text-gray-600 mb-1"},"Glucose"),React.createElement("input",{type:"text",value:a.glucose,onChange:e=>l({...a,glucose:e.target.value}),placeholder:"mg/dL",className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-green-500"})),React.createElement("div",null,React.createElement("label",{className:"block text-xs text-gray-600 mb-1"},"INR"),React.createElement("input",{type:"text",value:a.inr,onChange:e=>l({...a,inr:e.target.value}),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-green-500"})),React.createElement("div",null,React.createElement("label",{className:"block text-xs text-gray-600 mb-1"},"Platelets"),React.createElement("input",{type:"text",value:a.platelets,onChange:e=>l({...a,platelets:e.target.value}),placeholder:"K/uL",className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-green-500"})))),React.createElement("div",{className:"bg-white border-2 border-cyan-300 rounded-lg p-4 shadow-md"},React.createElement("h4",{className:"text-md font-bold text-cyan-900 mb-3 flex items-center gap-2"},React.createElement("i",{"data-lucide":"scan",className:"w-4 h-4"}),"Imaging Review"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3"},React.createElement("div",null,React.createElement("label",{className:"block text-xs text-gray-600 mb-1"},"CT Head"),React.createElement("textarea",{value:a.ctResults,onChange:e=>l({...a,ctResults:e.target.value}),rows:"2",placeholder:"No acute hemorrhage, early ischemic changes...",className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})),React.createElement("div",null,React.createElement("label",{className:"block text-xs text-gray-600 mb-1"},"CTA Head/Neck"),React.createElement("textarea",{value:a.ctaResults,onChange:e=>l({...a,ctaResults:e.target.value}),rows:"2",placeholder:"LVO location, vessel patency...",className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"}))),React.createElement("div",{className:"grid grid-cols-2 gap-3 mt-3"},React.createElement("div",null,React.createElement("label",{className:"block text-xs text-gray-600 mb-1"},"ASPECTS"),React.createElement("input",{type:"number",value:N,onChange:e=>ze(parseInt(e.target.value)||0),min:"0",max:"10",className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})),React.createElement("div",null,React.createElement("label",{className:"block text-xs text-gray-600 mb-1"},"CTP"),React.createElement("input",{type:"text",value:a.ctpResults,onChange:e=>l({...a,ctpResults:e.target.value}),placeholder:"Core/penumbra, mismatch...",className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500"})))),React.createElement("div",{id:"recommendations-section",className:"bg-white border-2 border-teal-300 rounded-lg p-4 shadow-md"},React.createElement("h4",{className:"text-md font-bold text-teal-900 mb-3 flex items-center gap-2"},React.createElement("i",{"data-lucide":"stethoscope",className:"w-4 h-4"}),"Working Diagnosis"),React.createElement("div",{className:"flex flex-wrap gap-2 mb-3"},[{value:"ischemic",label:"Ischemic Stroke or TIA",color:"blue",icon:"activity"},{value:"ich",label:"Intracranial Hemorrhage",color:"red",icon:"alert-triangle"},{value:"mimic",label:"Stroke Mimic/Other",color:"amber",icon:"eye-off"}].map(e=>{let t=a.diagnosisCategory===e.value;return React.createElement("button",{key:e.value,type:"button",onClick:()=>{let s=e.value,r="";s==="ischemic"?r="Suspected acute ischemic stroke":s==="ich"?r="Intracerebral hemorrhage (ICH)":s==="mimic"&&(r="Stroke mimic/other"),l({...a,diagnosisCategory:s,diagnosis:r})},className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-all border-2 ${t?e.color==="blue"?"bg-blue-500 text-white border-blue-500":e.color==="red"?"bg-red-500 text-white border-red-500":e.color==="amber"?"bg-amber-500 text-white border-amber-500":"bg-gray-500 text-white border-gray-500":"bg-white text-gray-700 border-gray-300 hover:border-gray-400"}`},React.createElement("i",{"data-lucide":e.icon,className:"w-4 h-4"}),e.label)})),a.diagnosisCategory==="other"&&React.createElement("input",{type:"text",value:a.diagnosis,onChange:e=>l({...a,diagnosis:e.target.value}),placeholder:"Specify diagnosis...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 mb-3"}),a.diagnosisCategory==="ischemic"&&React.createElement("div",{className:"mt-3 text-sm"},React.createElement("div",{className:"font-medium text-gray-700 mb-1"},"Active Ischemic Stroke Trials:"),React.createElement("ul",{className:"text-gray-600 space-y-0.5 ml-4"},React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"SISTER")," \u2013 Late thrombolysis (4.5-24h), no TNK/EVT"),React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"STEP-EVT")," \u2013 Mild LVO or medium/distal vessel occlusions"),React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"PICASSO")," \u2013 Tandem lesion (carotid + intracranial LVO)"),React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"TESTED")," \u2013 EVT in pre-existing disability (mRS 3-4)"),React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"VERIFY")," \u2013 TMS/MRI to predict motor recovery"),React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"DISCOVERY")," \u2013 Cognitive trajectories post-stroke"),React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"ESUS Imaging")," \u2013 Cardiac/vessel wall MRI for ESUS"),React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"MOCHA Imaging")," \u2013 Intracranial vessel-wall analysis for ICAD"))),a.diagnosisCategory==="ich"&&React.createElement("div",{className:"mt-3 text-sm"},React.createElement("div",{className:"font-medium text-gray-700 mb-1"},"Active ICH Trials:"),React.createElement("ul",{className:"text-gray-600 space-y-0.5 ml-4"},React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"FASTEST")," \u2013 rFVIIa within 2h for hematoma expansion"),React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"SATURN")," \u2013 Statin continuation vs stop after lobar ICH"),React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"ASPIRE")," \u2013 Apixaban vs aspirin post-ICH with AF"),React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"cAPPricorn-1")," \u2013 Intrathecal mivelsiran for CAA"),React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"MIRROR Registry")," \u2013 Minimally invasive ICH evacuation"),React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"DISCOVERY")," \u2013 Cognitive trajectories post-ICH")))),React.createElement("div",{className:"bg-white border-2 border-orange-300 rounded-lg p-4 shadow-md"},React.createElement("h4",{className:"text-md font-bold text-orange-900 mb-3 flex items-center gap-2"},React.createElement("i",{"data-lucide":"clipboard-check",className:"w-4 h-4"}),"Treatment Decision"),React.createElement("div",{className:"grid grid-cols-2 gap-4 mb-3"},React.createElement("label",{className:"flex items-center gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg cursor-pointer hover:bg-blue-100"},React.createElement("input",{type:"checkbox",checked:a.tnkRecommended,onChange:e=>l({...a,tnkRecommended:e.target.checked}),className:"w-5 h-5 rounded border-2 border-blue-400 text-blue-600"}),React.createElement("span",{className:"font-semibold text-blue-800"},"TNK Recommended")),React.createElement("label",{className:"flex items-center gap-2 p-3 bg-purple-50 border border-purple-200 rounded-lg cursor-pointer hover:bg-purple-100"},React.createElement("input",{type:"checkbox",checked:a.evtRecommended,onChange:e=>l({...a,evtRecommended:e.target.checked}),className:"w-5 h-5 rounded border-2 border-purple-400 text-purple-600"}),React.createElement("span",{className:"font-semibold text-purple-800"},"EVT Recommended"))),React.createElement("div",null,React.createElement("label",{className:"block text-xs text-gray-600 mb-1"},"Rationale / Recommendations"),React.createElement("textarea",{value:a.rationale,onChange:e=>l({...a,rationale:e.target.value}),rows:"3",placeholder:"Treatment rationale and recommendations...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"}))),React.createElement("div",{className:"bg-gray-50 border-2 border-gray-300 rounded-lg p-4 shadow-md space-y-3"},React.createElement("h4",{className:"text-md font-bold text-gray-800 mb-3"},"\u{1F4CB} Copy Notes"),React.createElement("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-3"},React.createElement("div",{className:"flex items-center justify-between mb-2"},React.createElement("span",{className:"font-semibold text-indigo-800 text-sm"},"Pulsara Summary"),React.createElement("button",{onClick:()=>{let e=a.age||"[Age]",t=a.sex,s=t==="M"?"male":t==="F"?"female":"[sex]",r=a.pmh||"no PMH",i=a.symptoms||"[symptoms]",o=p?p.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"[time]",n=p?p.toLocaleDateString("en-US"):"[date]",d=a.nihss||h||"[score]",g=a.nihssDetails?` (${a.nihssDetails})`:"",v=a.ctResults||"[CT findings]",C=a.ctaResults||"[CTA findings]",K=a.ctpResults||"N/A",P=N?` ASPECTS: ${N}.`:"",E=a.tnkRecommended?"Recommended":"Not Recommended",U=a.evtRecommended?"Recommended":"Not Recommended",J=a.rationale||"[rationale]",we=`${e} year old ${s} with ${r} who presents with ${i}. Last known well is ${o} ${n}. NIHSS score: ${d}${g}. Head CT: ${v}.${P} CTA Head/Neck: ${C}. CTP: ${K}. TNK Treatment: ${E}. EVT: ${U}. Rationale for Treatment Recommendation: ${J}.`;navigator.clipboard.writeText(we),D("tel-pulsara"),setTimeout(()=>D(""),2e3)},className:"flex items-center gap-2 px-3 py-1.5 bg-indigo-600 text-white text-sm rounded-lg hover:bg-indigo-700 transition-colors"},React.createElement("i",{"data-lucide":te==="tel-pulsara"?"check":"copy",className:"w-4 h-4"}),te==="tel-pulsara"?"Copied!":"Copy Pulsara")),React.createElement("p",{className:"text-xs text-gray-600 whitespace-pre-wrap"},(()=>{let e=a.age||"[Age]",t=a.sex,s=t==="M"?"male":t==="F"?"female":"[sex]",r=a.pmh||"no PMH",i=a.symptoms||"[symptoms]",o=p?p.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"[time]",n=p?p.toLocaleDateString("en-US"):"[date]",d=a.nihss||h||"[score]",g=a.nihssDetails?` (${a.nihssDetails})`:"",v=a.ctResults||"[CT findings]",C=a.ctaResults||"[CTA findings]",K=a.ctpResults||"N/A",P=N?` ASPECTS: ${N}.`:"",E=a.tnkRecommended?"Recommended":"Not Recommended",U=a.evtRecommended?"Recommended":"Not Recommended",J=a.rationale||"[rationale]";return`${e} year old ${s} with ${r} who presents with ${i}. Last known well is ${o} ${n}. NIHSS score: ${d}${g}. Head CT: ${v}.${P} CTA Head/Neck: ${C}. CTP: ${K}. TNK Treatment: ${E}. EVT: ${U}. Rationale: ${J}.`})())),React.createElement("button",{onClick:()=>{let e=a.callingSite==="Other"?a.callingSiteOther:a.callingSite,t=he(),s=t?`${t.hours}h ${t.minutes}m from LKW`:"",r=`TELEPHONE CONSULT

Site: ${e||"Not specified"}
Patient: ${a.age||"?"}yo ${a.sex||"?"}
LKW: ${p?p.toLocaleString():"Not specified"}${s?` (${s})`:""}

PRESENTATION:
${a.symptoms||"Not documented"}
PMH: ${a.pmh||"Not documented"}
Medications: ${a.medications||"Not documented"}
`+(a.lastDOACType?`Anticoagulation: ${a.lastDOACType}${a.lastDOACDose?`, last dose: ${new Date(a.lastDOACDose).toLocaleString()}`:""}
`:"")+`
NIHSS: ${a.nihss||h||"N/A"}${a.nihssDetails?` (${a.nihssDetails})`:""}

VITALS/LABS:
BP: ${a.presentingBP||"N/A"}, Glucose: ${a.glucose||"N/A"}, INR: ${a.inr||"N/A"}, Plt: ${a.platelets||"N/A"}

IMAGING:
CT Head: ${a.ctResults||"Not documented"}
CTA: ${a.ctaResults||"Not documented"}
`+(N?`ASPECTS: ${N}
`:"")+(a.ctpResults?`CTP: ${a.ctpResults}
`:"")+`
TREATMENT DECISION:
TNK: ${a.tnkRecommended?"RECOMMENDED":"Not recommended"}
EVT: ${a.evtRecommended?"RECOMMENDED":"Not recommended"}

RATIONALE/RECOMMENDATIONS:
${a.rationale||"None documented"}

Clinician Name
${new Date().toLocaleString()}`;navigator.clipboard.writeText(r),D("telephone-note"),setTimeout(()=>D(""),2e3)},className:"w-full px-4 py-3 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors font-medium flex items-center justify-center gap-2"},React.createElement("i",{"data-lucide":"copy",className:"w-4 h-4"}),te==="telephone-note"?"Copied!":"Copy Full Telephone Note"))),xe==="videoTelestroke"&&React.createElement(React.Fragment,null,React.createElement("div",{className:`grid grid-cols-1 ${ts?"md:grid-cols-3":"lg:grid-cols-3"} gap-4`},React.createElement("div",{className:`${ts?"md:col-span-2":"lg:col-span-2"} space-y-4`},React.createElement("div",{id:"patient-info-section",className:"bg-white border-2 border-blue-300 rounded-lg p-4 shadow-md"},React.createElement("div",{className:"flex items-center justify-between mb-3"},React.createElement("h3",{className:"text-lg font-bold text-blue-900"},"1. Patient Info"),React.createElement("i",{"data-lucide":"user",className:"w-5 h-5 text-blue-600"})),React.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Age"),React.createElement("input",{type:"number",value:a.age,onChange:e=>l({...a,age:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:""})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Sex"),React.createElement("select",{value:a.sex,onChange:e=>l({...a,sex:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},React.createElement("option",{value:"M"},"M"),React.createElement("option",{value:"F"},"F"))),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Weight",React.createElement("span",{className:"ml-1 text-xs text-orange-600 font-normal"},"(TNK dosing)")),React.createElement("div",{className:"flex items-center"},React.createElement("input",{type:"number",value:a.weight,onChange:e=>l({...a,weight:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"",min:"0"}),React.createElement("span",{className:"ml-1 text-xs text-gray-500"},"kg"))),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Pre-stroke mRS",React.createElement("span",{className:"ml-1 text-xs text-blue-600 font-normal"},"(trials)")),React.createElement("select",{value:a.premorbidMRS,onChange:e=>l({...a,premorbidMRS:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},React.createElement("option",{value:""},"Select..."),React.createElement("option",{value:"0"},"0 - No symptoms"),React.createElement("option",{value:"1"},"1 - No significant disability"),React.createElement("option",{value:"2"},"2 - Slight disability"),React.createElement("option",{value:"3"},"3 - Moderate disability"),React.createElement("option",{value:"4"},"4 - Moderately severe disability"),React.createElement("option",{value:"5"},"5 - Severe disability")))),a.weight&&Ge(a.weight)&&React.createElement("div",{className:"mt-2 bg-orange-50 border border-orange-200 rounded-lg p-2 flex items-center justify-between"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement("span",{className:"text-orange-800 font-medium"},"\u{1F489} TNK Dose:"),React.createElement("span",{className:"text-lg font-bold text-orange-700"},Ge(a.weight).calculatedDose," mg"),React.createElement("span",{className:"text-sm text-orange-600"},"(",Ge(a.weight).volume,")")),React.createElement("span",{className:"text-xs text-orange-500"},"0.25 mg/kg, max 25 mg")),React.createElement("div",{className:"mt-3"},React.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Chief Complaint"),React.createElement("input",{type:"text",value:a.chiefComplaint,onChange:e=>l({...a,chiefComplaint:e.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}))),React.createElement("div",{className:"bg-white border-2 border-purple-300 rounded-lg p-4 shadow-md"},React.createElement("div",{className:"flex items-center justify-between mb-3"},React.createElement("h3",{className:"text-lg font-bold text-purple-900"},"2. History & Medications"),React.createElement("i",{"data-lucide":"file-text",className:"w-5 h-5 text-purple-600"})),React.createElement("div",{className:"space-y-3"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Presenting Symptoms"),React.createElement("textarea",{value:a.symptoms,onChange:e=>l({...a,symptoms:e.target.value}),placeholder:"",rows:"2",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Relevant PMH"),React.createElement("input",{type:"text",value:a.pmh,onChange:e=>l({...a,pmh:e.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Medications"),React.createElement("textarea",{value:a.medications,onChange:e=>l({...a,medications:e.target.value}),placeholder:"",rows:"2",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})),React.createElement("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 space-y-2"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement("span",{className:"text-sm font-medium text-amber-800"},"\u{1F48A} Anticoagulation Status")),React.createElement("div",{className:"grid grid-cols-2 gap-3"},React.createElement("div",null,React.createElement("label",{className:"block text-xs text-gray-600 mb-1"},"Anticoagulant Type"),React.createElement("select",{value:a.lastDOACType,onChange:e=>l({...a,lastDOACType:e.target.value}),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500"},React.createElement("option",{value:""},"None / Unknown"),React.createElement("option",{value:"apixaban"},"Apixaban (Eliquis)"),React.createElement("option",{value:"rivaroxaban"},"Rivaroxaban (Xarelto)"),React.createElement("option",{value:"dabigatran"},"Dabigatran (Pradaxa)"),React.createElement("option",{value:"edoxaban"},"Edoxaban (Savaysa)"),React.createElement("option",{value:"warfarin"},"Warfarin (check INR)"),React.createElement("option",{value:"heparin"},"Heparin UFH (check PTT)"),React.createElement("option",{value:"lmwh"},"LMWH / Enoxaparin"))),React.createElement("div",null,React.createElement("label",{className:"block text-xs text-gray-600 mb-1"},"Last Dose (date/time)"),React.createElement("input",{type:"datetime-local",value:a.lastDOACDose,onChange:e=>l({...a,lastDOACDose:e.target.value}),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500"}))),a.lastDOACType&&j[a.lastDOACType]&&React.createElement("div",{className:"bg-orange-50 border-2 border-orange-300 rounded-lg p-3 space-y-2"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("span",{className:"font-bold text-orange-800"},j[a.lastDOACType].name),React.createElement("span",{className:"text-xs bg-orange-200 text-orange-800 px-2 py-0.5 rounded-full"},j[a.lastDOACType].class)),React.createElement("div",{className:"grid grid-cols-2 gap-2 text-xs"},React.createElement("div",{className:"bg-white rounded p-2 border border-orange-200"},React.createElement("div",{className:"text-gray-500 mb-0.5"},"Half-Life"),React.createElement("div",{className:"font-semibold text-gray-800"},j[a.lastDOACType].halfLife)),React.createElement("div",{className:"bg-white rounded p-2 border border-orange-200"},React.createElement("div",{className:"text-gray-500 mb-0.5"},"tPA/TNK Threshold"),React.createElement("div",{className:"font-semibold text-gray-800"},j[a.lastDOACType].thrombolysisThreshold))),j[a.lastDOACType].thrombolysisNote&&React.createElement("div",{className:"text-xs text-orange-700 bg-orange-100 p-2 rounded flex items-start gap-1"},React.createElement("span",null,"\u26A0\uFE0F"),React.createElement("span",null,j[a.lastDOACType].thrombolysisNote)),React.createElement("details",{className:"group"},React.createElement("summary",{className:"cursor-pointer text-sm font-semibold text-red-700 hover:text-red-900 flex items-center gap-1"},React.createElement("span",{className:"group-open:rotate-90 transition-transform"},"\u25B6"),"ICH Reversal Protocol"),React.createElement("div",{className:"mt-2 bg-red-50 border border-red-200 rounded-lg p-2 text-xs space-y-1"},React.createElement("div",{className:"flex items-start gap-2"},React.createElement("span",{className:"font-bold text-red-700 shrink-0"},"1st Line:"),React.createElement("span",{className:"text-red-900 font-medium"},j[a.lastDOACType].ichReversal.primary)),j[a.lastDOACType].ichReversal.pccDosing&&React.createElement("div",{className:"flex items-start gap-2"},React.createElement("span",{className:"font-bold text-red-700 shrink-0"},"PCC Dose:"),React.createElement("span",{className:"text-red-800"},j[a.lastDOACType].ichReversal.pccDosing)),j[a.lastDOACType].ichReversal.alternative&&React.createElement("div",{className:"flex items-start gap-2"},React.createElement("span",{className:"font-bold text-gray-600 shrink-0"},"Alt:"),React.createElement("span",{className:"text-gray-700"},j[a.lastDOACType].ichReversal.alternative)),j[a.lastDOACType].ichReversal.maxDose&&React.createElement("div",{className:"text-gray-600 italic"},j[a.lastDOACType].ichReversal.maxDose),j[a.lastDOACType].ichReversal.note&&React.createElement("div",{className:"text-gray-600 italic mt-1 pt-1 border-t border-red-200"},j[a.lastDOACType].ichReversal.note))),React.createElement("div",{className:"text-xs text-gray-600"},React.createElement("span",{className:"font-medium"},"Monitor:")," ",j[a.lastDOACType].monitoring))))),React.createElement("div",{className:"bg-white border-2 border-red-300 rounded-lg p-4 shadow-md"},React.createElement("div",{className:"flex items-center justify-between mb-3"},React.createElement("h3",{className:"text-lg font-bold text-red-900"},"3. NIHSS Examination"),React.createElement("div",{className:"flex items-center gap-2"},React.createElement("span",{className:"text-2xl font-bold text-red-600"},"Score: ",h),React.createElement("i",{"data-lucide":"brain",className:"w-5 h-5 text-red-600"}))),React.createElement("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-3"},React.createElement("div",{className:"flex items-center justify-between mb-2"},React.createElement("p",{className:"text-sm font-medium text-gray-700"},"Quick Entry:"),React.createElement("button",{type:"button",onClick:ki,className:"text-xs font-semibold text-blue-700 hover:text-blue-900"},"All normal (0)")),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3"},React.createElement("div",null,React.createElement("label",{className:"block text-xs text-gray-500 mb-1"},"NIHSS Score (0-42)"),React.createElement("input",{type:"number",value:a.nihss,onChange:e=>{let t=e.target.value;l({...a,nihss:t}),Ce(parseInt(t)||0)},min:"0",max:"42",className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg text-2xl font-bold text-center focus:ring-2 focus:ring-blue-500"})),React.createElement("div",null,React.createElement("label",{className:"block text-xs text-gray-500 mb-1"},"Neurologic Deficits"),React.createElement("input",{type:"text",value:a.nihssDetails,onChange:e=>l({...a,nihssDetails:e.target.value}),placeholder:"e.g., R hemiparesis, aphasia",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}))),(a.nihss||h>0)&&React.createElement("div",{className:`p-2 rounded-lg text-center text-sm font-medium ${h===0?"bg-green-100 text-green-800":h<=4?"bg-blue-100 text-blue-800":h<=15?"bg-yellow-100 text-yellow-800":h<=20?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`},h===0?"0 = No stroke symptoms":h<=4?`${h} = Minor stroke`:h<=15?`${h} = Moderate stroke`:h<=20?`${h} = Moderate-Severe stroke`:`${h} = Severe stroke`,h>=6&&h<=24&&" | Consider TNK if within window",h>=6&&" | Consider LVO screening")),React.createElement("details",{className:"bg-gray-50 border border-gray-200 rounded-lg"},React.createElement("summary",{className:"cursor-pointer p-3 font-semibold text-gray-800 hover:bg-gray-100 rounded-lg"},"\u{1F4CA} Full NIHSS Calculator (Click to expand)"),React.createElement("div",{className:"p-4 space-y-3"},Lt.map(e=>React.createElement("div",{key:e.id,className:"bg-white p-3 rounded border"},React.createElement("h4",{className:"font-semibold text-sm mb-2"},e.name),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2"},e.options.map((t,s)=>React.createElement("label",{key:s,className:"flex items-center space-x-2 cursor-pointer text-sm"},React.createElement("input",{type:"radio",name:e.id,value:t,checked:ce[e.id]===t,onChange:r=>{let i={...ce,[e.id]:r.target.value};Tt(i);let o=Ka(i);Ce(o),l({...a,nihss:o.toString()})},className:"text-blue-600"}),React.createElement("span",null,t))))))))),React.createElement("div",{className:"bg-white border-2 border-green-300 rounded-lg p-4 shadow-md"},React.createElement("div",{className:"flex items-center justify-between mb-3"},React.createElement("h3",{className:"text-lg font-bold text-green-900"},"4. Vitals & Labs"),React.createElement("i",{"data-lucide":"activity",className:"w-5 h-5 text-green-600"})),React.createElement("div",{className:"space-y-3"},React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Presenting BP"),React.createElement("div",{className:"flex items-center gap-2"},React.createElement("input",{type:"text",value:a.presentingBP,onChange:e=>l({...a,presentingBP:e.target.value}),placeholder:"185/110",className:`flex-1 px-3 py-2 border-2 rounded-lg focus:ring-2 focus:ring-blue-500 ${(()=>{let e=tt(a.presentingBP);return e.status==="too_high"?"border-red-400 bg-red-50":e.status==="borderline"?"border-yellow-400 bg-yellow-50":e.status==="ok"?"border-green-400 bg-green-50":"border-gray-300"})()}`}),(()=>{let e=tt(a.presentingBP);return e.status==="unknown"?null:React.createElement("span",{className:`px-2 py-1 rounded text-xs font-bold border whitespace-nowrap ${e.badgeClass}`},e.icon," ",e.message)})()),(()=>{let e=tt(a.presentingBP);return e.needsLowering?React.createElement("div",{className:"mt-1 px-2 py-1 bg-red-100 border border-red-300 rounded text-xs text-red-800 font-medium"},"Need to lower by ",e.sbpToLower,"/",e.dbpToLower," mmHg to reach 185/110"):null})(),tt(a.presentingBP).status!=="too_high"?null:React.createElement("div",{className:"mt-2 px-2 py-1 bg-red-50 border border-red-200 rounded text-xs text-red-700"},"TNK should be held until BP is controlled below 185/110.")),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Current BP (prior to TNK, if applicable)"),React.createElement("div",{className:"flex items-center gap-2"},React.createElement("input",{type:"text",value:a.bpPreTNK,onChange:e=>l({...a,bpPreTNK:e.target.value}),placeholder:"185/110",className:`flex-1 px-3 py-2 border-2 rounded-lg focus:ring-2 focus:ring-blue-500 ${(()=>{let e=tt(a.bpPreTNK);return e.status==="too_high"?"border-red-400 bg-red-50":e.status==="borderline"?"border-yellow-400 bg-yellow-50":e.status==="ok"?"border-green-400 bg-green-50":"border-gray-300"})()}`}),React.createElement("input",{type:"time",value:a.bpPreTNKTime,onChange:e=>l({...a,bpPreTNKTime:e.target.value}),className:"w-24 px-2 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),(()=>{let e=tt(a.bpPreTNK);return e.status==="unknown"?null:React.createElement("span",{className:`px-2 py-1 rounded text-xs font-bold border whitespace-nowrap ${e.badgeClass}`},e.icon," ",e.message)})()),(()=>{let e=tt(a.bpPreTNK);return e.needsLowering?React.createElement("div",{className:"mt-1 px-2 py-1 bg-red-100 border border-red-300 rounded text-xs text-red-800 font-medium"},"Need to lower by ",e.sbpToLower,"/",e.dbpToLower," mmHg to reach 185/110"):null})())),(a.tnkRecommended||a.dtnTnkAdministered)&&React.createElement("div",{className:"mt-2 px-3 py-2 bg-blue-50 border-l-4 border-blue-500 rounded-r text-sm"},React.createElement("span",{className:"font-bold text-blue-800"},"Post-TNK Target:"),React.createElement("span",{className:"text-blue-700 ml-2"},"<180/105 for 24 hours after thrombolysis")),React.createElement("div",{className:"grid grid-cols-3 gap-3"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Glucose"),React.createElement("div",{className:"flex items-center"},React.createElement("input",{type:"number",value:a.glucose,onChange:e=>l({...a,glucose:e.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0"}),React.createElement("span",{className:"ml-1 text-xs text-gray-500"},"mg/dL"))),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"INR"),React.createElement("input",{type:"number",value:a.inr,onChange:e=>l({...a,inr:e.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",step:"0.1",min:"0"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Platelets"),React.createElement("div",{className:"flex items-center"},React.createElement("input",{type:"number",value:a.plateletCount,onChange:e=>l({...a,plateletCount:e.target.value}),placeholder:"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0"}),React.createElement("span",{className:"ml-1 text-xs text-gray-500"},"/\u03BCL")))),React.createElement("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3"},React.createElement("h4",{className:"font-semibold text-yellow-800 mb-2"},"\u23F1\uFE0F Critical Timestamps"),React.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3"},React.createElement("div",null,React.createElement("div",{className:"flex items-center justify-between mb-1"},React.createElement("label",{className:"block text-xs font-medium text-gray-600"},"Door Time (ED Arrival)"),React.createElement("button",{type:"button",onClick:()=>l({...a,doorTime:new Date().toTimeString().slice(0,5)}),className:"text-[10px] font-semibold text-yellow-800 hover:text-yellow-900"},"Now")),React.createElement("input",{type:"time",value:a.doorTime||"",onChange:e=>l({...a,doorTime:e.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-yellow-500"})),React.createElement("div",null,React.createElement("div",{className:"flex items-center justify-between mb-1"},React.createElement("label",{className:"block text-xs font-medium text-gray-600"},"CT Time"),React.createElement("button",{type:"button",onClick:()=>l({...a,ctTime:new Date().toTimeString().slice(0,5)}),className:"text-[10px] font-semibold text-yellow-800 hover:text-yellow-900"},"Now")),React.createElement("input",{type:"time",value:a.ctTime||"",onChange:e=>l({...a,ctTime:e.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-yellow-500"})),React.createElement("div",null,React.createElement("div",{className:"flex items-center justify-between mb-1"},React.createElement("label",{className:"block text-xs font-medium text-gray-600"},"Needle Time (TNK)"),React.createElement("button",{type:"button",onClick:()=>l({...a,needleTime:new Date().toTimeString().slice(0,5)}),className:"text-[10px] font-semibold text-yellow-800 hover:text-yellow-900"},"Now")),React.createElement("input",{type:"time",value:a.needleTime||"",onChange:e=>l({...a,needleTime:e.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-yellow-500"})),React.createElement("div",null,React.createElement("div",{className:"flex items-center justify-between mb-1"},React.createElement("label",{className:"block text-xs font-medium text-gray-600"},"Puncture Time (EVT)"),React.createElement("button",{type:"button",onClick:()=>l({...a,punctureTime:new Date().toTimeString().slice(0,5)}),className:"text-[10px] font-semibold text-yellow-800 hover:text-yellow-900"},"Now")),React.createElement("input",{type:"time",value:a.punctureTime||"",onChange:e=>l({...a,punctureTime:e.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-yellow-500"}))),a.doorTime&&(a.needleTime||a.punctureTime)&&React.createElement("div",{className:"mt-3 grid grid-cols-2 gap-3"},a.needleTime&&(()=>{let[e,t]=a.doorTime.split(":").map(Number),[s,r]=a.needleTime.split(":").map(Number),i=s*60+r-(e*60+t);i<0&&(i+=1440);let o=i<=60;return React.createElement("div",{className:`p-2 rounded text-center ${o?"bg-green-100 border border-green-300":"bg-red-100 border border-red-300"}`},React.createElement("span",{className:"block text-xs text-gray-600"},"Door-to-Needle"),React.createElement("span",{className:`text-xl font-bold ${o?"text-green-800":"text-red-800"}`},i," min"),React.createElement("span",{className:"block text-xs text-gray-500"},o?"\u2713 Goal \u226460 min":"\u26A0 Goal \u226460 min"))})(),a.punctureTime&&(()=>{let[e,t]=a.doorTime.split(":").map(Number),[s,r]=a.punctureTime.split(":").map(Number),i=s*60+r-(e*60+t);i<0&&(i+=1440);let o=i<=90;return React.createElement("div",{className:`p-2 rounded text-center ${o?"bg-green-100 border border-green-300":"bg-red-100 border border-red-300"}`},React.createElement("span",{className:"block text-xs text-gray-600"},"Door-to-Puncture"),React.createElement("span",{className:`text-xl font-bold ${o?"text-green-800":"text-red-800"}`},i," min"),React.createElement("span",{className:"block text-xs text-gray-500"},o?"\u2713 Goal \u226490 min":"\u26A0 Goal \u226490 min"))})()),a.doorTime&&(()=>{let[e,t]=a.doorTime.split(":").map(Number),s=fe.getHours(),r=fe.getMinutes(),i=s*60+r-(e*60+t);i<0&&(i+=1440);let o=60-i,n=90-i;return React.createElement("div",{className:"mt-3 bg-white border border-yellow-200 rounded-lg p-3"},React.createElement("p",{className:"text-xs font-semibold text-yellow-800 mb-2"},"Live Timers (from door time)"),React.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-center"},React.createElement("div",{className:`p-2 rounded border ${o>=0?"bg-green-50 border-green-200 text-green-700":"bg-red-50 border-red-200 text-red-700"}`},React.createElement("p",{className:"text-xs font-medium"},"TNK goal (60 min)"),React.createElement("p",{className:"text-lg font-bold"},o>=0?`${o} min left`:`${Math.abs(o)} min over`)),React.createElement("div",{className:`p-2 rounded border ${n>=0?"bg-green-50 border-green-200 text-green-700":"bg-red-50 border-red-200 text-red-700"}`},React.createElement("p",{className:"text-xs font-medium"},"EVT goal (90 min)"),React.createElement("p",{className:"text-lg font-bold"},n>=0?`${n} min left`:`${Math.abs(n)} min over`))))})()))),React.createElement("div",{className:"bg-white border-2 border-indigo-300 rounded-lg p-4 shadow-md"},React.createElement("div",{className:"flex items-center justify-between mb-3"},React.createElement("h3",{className:"text-lg font-bold text-indigo-900"},"5. Imaging Review"),React.createElement("i",{"data-lucide":"image",className:"w-5 h-5 text-indigo-600"})),React.createElement("div",{className:"space-y-3"},React.createElement("div",{className:"bg-gray-50 p-3 rounded border"},React.createElement("h4",{className:"font-semibold text-gray-700 mb-2"},"Non-contrast Head CT"),React.createElement("div",{className:"grid grid-cols-2 gap-2 mb-2"},React.createElement("input",{type:"date",value:a.ctDate,onChange:e=>l({...a,ctDate:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),React.createElement("input",{type:"time",value:a.ctTime,onChange:e=>l({...a,ctTime:e.target.value}),placeholder:"Time reviewed",className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})),React.createElement("div",{className:"flex items-center justify-between mb-1"},React.createElement("span",{className:"text-xs font-medium text-gray-600"},"CT Results"),Nt("ctResults",e=>{l(t=>({...t,ctResults:t.ctResults?`${t.ctResults} ${e}`:e}))})),React.createElement("textarea",{value:a.ctResults,onChange:e=>l({...a,ctResults:e.target.value}),placeholder:"",rows:"2",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})),React.createElement("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3"},React.createElement("div",{className:"flex items-center justify-between mb-2"},React.createElement("label",{className:"text-sm font-medium text-blue-800"},"ASPECTS Score"),React.createElement("span",{className:"text-2xl font-bold text-blue-600"},N,"/10")),React.createElement("div",{className:"flex flex-wrap gap-2 mb-2"},[10,9,8,7,6,5,4,3,2,1,0].map(e=>React.createElement("button",{key:e,onClick:()=>{ze(e);let t=Ye.map((s,r)=>({...s,checked:r<e}));Mt(t)},className:`w-8 h-8 rounded-lg text-sm font-bold transition ${N===e?"ring-2 ring-offset-1 ring-blue-500":""} ${e>=7?"bg-green-100 hover:bg-green-200 text-green-800":e>=6?"bg-yellow-100 hover:bg-yellow-200 text-yellow-800":e>=3?"bg-orange-100 hover:bg-orange-200 text-orange-800":"bg-red-100 hover:bg-red-200 text-red-800"}`},e))),React.createElement("div",{className:`p-2 rounded-lg text-center text-xs font-medium ${N>=7?"bg-green-100 text-green-800":N>=6?"bg-yellow-100 text-yellow-800":N>=3?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`},N>=7?`ASPECTS ${N} = Favorable for EVT (most trials)`:N===6?"ASPECTS 6 = May qualify for late window EVT (SELECT2, RESCUE-Japan LIMIT)":N>=3?`ASPECTS ${N} = Large core, may consider EVT if SELECT2/RESCUE criteria met`:`ASPECTS ${N} = Very large core, poor EVT candidate`)),React.createElement("details",{className:"bg-blue-50 border border-blue-200 rounded-lg"},React.createElement("summary",{className:"cursor-pointer p-3 font-semibold text-blue-800 hover:bg-blue-100 rounded-lg"},"\u{1F9EE} Full ASPECTS Calculator (Click to expand)"),React.createElement("div",{className:"p-4"},React.createElement("div",{className:"text-center mb-3"},React.createElement("span",{className:"text-3xl font-bold text-blue-600"},"ASPECTS: ",N)),React.createElement("div",{className:"space-y-2"},Ye.map(e=>React.createElement("label",{key:e.id,className:"flex items-center gap-2 p-2 hover:bg-blue-50 rounded cursor-pointer"},React.createElement("input",{type:"checkbox",checked:e.checked,onChange:()=>{let t=Ye.map(s=>s.id===e.id?{...s,checked:!s.checked}:s);Mt(t),ze(t.filter(s=>s.checked).length)},className:"w-4 h-4"}),React.createElement("span",{className:"text-sm"},e.name)))))),React.createElement("details",{className:"bg-purple-50 border border-purple-200 rounded-lg"},React.createElement("summary",{className:"cursor-pointer p-3 font-semibold text-purple-800 hover:bg-purple-100 rounded-lg"},"\u{1F9EE} PC-ASPECTS Calculator (Posterior Circulation)"),React.createElement("div",{className:"p-4"},React.createElement("div",{className:"flex justify-between items-center mb-3"},React.createElement("p",{className:"text-sm text-gray-700"},"Start at 10 points, subtract points for affected regions:"),React.createElement("div",{className:"text-center"},React.createElement("span",{className:"text-3xl font-bold text-purple-600"},"PC-ASPECTS: ",Xr(Je)))),React.createElement("div",{className:"space-y-2"},Je.map((e,t)=>React.createElement("label",{key:e.id,className:"flex items-center gap-2 p-2 hover:bg-purple-50 rounded cursor-pointer"},React.createElement("input",{type:"checkbox",checked:e.checked,onChange:s=>{let r=[...Je];r[t].checked=s.target.checked,ta(r)},className:"w-4 h-4"}),React.createElement("span",{className:"text-sm flex-1"},e.name),React.createElement("span",{className:"text-xs font-semibold text-purple-700 bg-purple-100 px-2 py-1 rounded"},e.points," ",e.points===1?"point":"points")))))),React.createElement("div",{className:"bg-gray-50 p-3 rounded border"},React.createElement("h4",{className:"font-semibold text-gray-700 mb-2"},"CTA Head & Neck"),React.createElement("div",{className:"grid grid-cols-2 gap-2 mb-2"},React.createElement("input",{type:"date",value:a.ctaDate,onChange:e=>l({...a,ctaDate:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),React.createElement("input",{type:"time",value:a.ctaTime,onChange:e=>l({...a,ctaTime:e.target.value}),placeholder:"Time reviewed",className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})),React.createElement("div",{className:"flex items-center justify-between mb-1"},React.createElement("span",{className:"text-xs font-medium text-gray-600"},"CTA Results"),Nt("ctaResults",e=>{l(t=>({...t,ctaResults:t.ctaResults?`${t.ctaResults} ${e}`:e}))})),React.createElement("textarea",{value:a.ctaResults,onChange:e=>l({...a,ctaResults:e.target.value}),placeholder:"",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),React.createElement("div",{className:"mt-3 p-2 bg-blue-50 border border-blue-200 rounded-lg"},React.createElement("p",{className:"text-xs font-semibold text-blue-800 mb-2"},"\u{1F52C} Vessel Occlusion ",React.createElement("span",{className:"font-normal"},"(for trial screening)")),React.createElement("div",{className:"flex flex-wrap gap-2"},["ICA","M1","M2","M3","M4","A1","A2","A3","P1","P2","P3"].map(e=>React.createElement("label",{key:e,className:"flex items-center gap-1 cursor-pointer"},React.createElement("input",{type:"checkbox",checked:(a.vesselOcclusion||[]).includes(e),onChange:t=>{let s=a.vesselOcclusion||[],r=t.target.checked?[...s,e]:s.filter(i=>i!==e);l({...a,vesselOcclusion:r})},className:"w-3 h-3"}),React.createElement("span",{className:`text-xs px-2 py-0.5 rounded ${(a.vesselOcclusion||[]).includes(e)?"bg-blue-600 text-white font-semibold":"bg-gray-200 text-gray-700"}`},e))),(a.vesselOcclusion||[]).length===0&&React.createElement("span",{className:"text-xs text-gray-500 italic"},"None selected")))),React.createElement("div",{className:"bg-gray-50 p-3 rounded border"},React.createElement("h4",{className:"font-semibold text-gray-700 mb-2"},"CT Perfusion"),React.createElement("textarea",{value:a.ctpResults,onChange:e=>l({...a,ctpResults:e.target.value}),placeholder:"",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})))),React.createElement("div",{id:"treatment-decision",ref:$a,className:"bg-white border-2 border-orange-300 rounded-lg p-4 shadow-md"},React.createElement("div",{className:"flex items-center justify-between mb-3"},React.createElement("h3",{className:"text-lg font-bold text-orange-900"},"6. Treatment Decision"),React.createElement("i",{"data-lucide":"zap",className:"w-5 h-5 text-orange-600"})),(()=>{let e=he(),t=e?e.total:null,s=parseInt(a.nihss)||h||0,r=N,i=parseInt(a.age)||0,n=Us({telestrokeNote:a}).filter(v=>v.severity==="critical"),d={eligible:!1,reason:"",confidence:"low"},g={eligible:!1,reason:"",confidence:"low"};return n.length>0?d={eligible:!1,reason:"Absolute contraindication(s) present",confidence:"high"}:t?s<4&&!a.nihssDetails?d={eligible:!1,reason:`NIHSS ${s} - minor stroke, TNK not typically indicated`,confidence:"medium"}:t<=4.5?(s>=4||a.nihssDetails)&&(d={eligible:!0,reason:`Within 4.5h window, NIHSS ${s}`,confidence:"high"}):t>4.5&&t<=24?r>=6?d={eligible:!1,reason:"Consider SISTER trial (late window TNK research)",confidence:"medium"}:d={eligible:!1,reason:"Outside TNK window (>4.5h)",confidence:"high"}:t>24&&(d={eligible:!1,reason:"Outside all TNK windows (>24h)",confidence:"high"}):d={eligible:!1,reason:"Set LKW time to evaluate",confidence:"low"},t?s>=6&&t<=24?r>=7&&t<=6?g={eligible:!0,reason:`Early window, NIHSS ${s}, ASPECTS ${r}`,confidence:"high"}:r>=6&&t>6&&t<=24?g={eligible:!0,reason:"Late window eligible (DAWN/DEFUSE criteria likely met)",confidence:"medium"}:r>=3&&t<=24?g={eligible:!0,reason:"Large core - may qualify under SELECT2/RESCUE-Japan",confidence:"medium"}:r<3&&(g={eligible:!1,reason:`ASPECTS ${r} too low for EVT`,confidence:"high"}):s<6?g={eligible:!1,reason:`NIHSS ${s} - consider if LVO present (STEP trial)`,confidence:"medium"}:t>24&&(g={eligible:!1,reason:"Outside EVT window (>24h)",confidence:"high"}):g={eligible:!1,reason:"Set LKW time to evaluate",confidence:"low"},!i&&!s&&!t?null:React.createElement("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 border-2 border-blue-300 rounded-lg p-4 mb-4"},React.createElement("div",{className:"flex items-center gap-2 mb-3"},React.createElement("span",{className:"text-lg font-bold text-blue-900"},"Recommendation")),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",{className:`p-3 rounded-lg border-2 ${d.eligible?"bg-green-100 border-green-400":d.confidence==="low"?"bg-gray-100 border-gray-300":"bg-red-50 border-red-300"}`},React.createElement("div",{className:"flex items-center justify-between mb-2"},React.createElement("span",{className:"font-bold text-gray-800"},"TNK (Thrombolysis)"),d.eligible?React.createElement("span",{className:"px-2 py-1 bg-green-500 text-white text-xs font-bold rounded"},"CONSIDER"):d.confidence==="low"?React.createElement("span",{className:"px-2 py-1 bg-gray-400 text-white text-xs font-bold rounded"},"PENDING"):React.createElement("span",{className:"px-2 py-1 bg-red-500 text-white text-xs font-bold rounded"},"NOT INDICATED")),React.createElement("p",{className:"text-sm text-gray-700"},d.reason)),React.createElement("div",{className:`p-3 rounded-lg border-2 ${g.eligible?"bg-purple-100 border-purple-400":g.confidence==="low"?"bg-gray-100 border-gray-300":"bg-red-50 border-red-300"}`},React.createElement("div",{className:"flex items-center justify-between mb-2"},React.createElement("span",{className:"font-bold text-gray-800"},"EVT (Thrombectomy)"),g.eligible?React.createElement("span",{className:"px-2 py-1 bg-purple-500 text-white text-xs font-bold rounded"},"CONSIDER"):g.confidence==="low"?React.createElement("span",{className:"px-2 py-1 bg-gray-400 text-white text-xs font-bold rounded"},"PENDING"):React.createElement("span",{className:"px-2 py-1 bg-red-500 text-white text-xs font-bold rounded"},"NOT INDICATED")),React.createElement("p",{className:"text-sm text-gray-700"},g.reason))))})(),(()=>{let e=Us({telestrokeNote:a});if(e.length===0)return null;let t=e.filter(i=>i.severity==="critical"),s=e.filter(i=>i.severity==="warning"),r=e.filter(i=>i.severity==="info");return React.createElement("div",{className:"mb-3 space-y-2"},t.length>0&&React.createElement("div",{className:"bg-red-100 border-2 border-red-400 rounded-lg p-3"},React.createElement("div",{className:"flex items-center gap-2 mb-2"},React.createElement("span",{className:"text-red-700 font-bold"},"\u{1F6A8} CRITICAL CONTRAINDICATION",t.length>1?"S":"")),React.createElement("ul",{className:"space-y-1"},t.map((i,o)=>React.createElement("li",{key:o,className:"text-sm text-red-800 flex items-start gap-2"},React.createElement("span",{className:"text-red-500"},"\u2022"),React.createElement("span",null,React.createElement("strong",null,i.label,":")," ",i.message))))),s.length>0&&React.createElement("div",{className:"bg-amber-50 border-2 border-amber-400 rounded-lg p-3"},React.createElement("div",{className:"flex items-center gap-2 mb-2"},React.createElement("span",{className:"text-amber-700 font-bold"},"\u26A0\uFE0F CAUTION",s.length>1?"S":"")),React.createElement("ul",{className:"space-y-1"},s.map((i,o)=>React.createElement("li",{key:o,className:"text-sm text-amber-800 flex items-start gap-2"},React.createElement("span",{className:"text-amber-500"},"\u2022"),React.createElement("span",null,React.createElement("strong",null,i.label,":")," ",i.message))))),r.length>0&&React.createElement("div",{className:"bg-blue-50 border border-blue-300 rounded-lg p-2"},React.createElement("ul",{className:"space-y-1"},r.map((i,o)=>React.createElement("li",{key:o,className:"text-sm text-blue-800 flex items-start gap-2"},React.createElement("span",{className:"text-blue-500"},"\u2139\uFE0F"),React.createElement("span",null,i.message))))))})(),React.createElement("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-3"},React.createElement("div",{className:"flex items-center justify-between mb-2"},React.createElement("h4",{className:"text-sm font-semibold text-slate-700"},"Decision Log"),React.createElement("button",{type:"button",onClick:()=>{let e=prompt("Decision label (e.g., TNK held, transfer declined)");e&&at(e.trim())},className:"text-xs font-semibold text-blue-700 hover:text-blue-900"},"Add timestamp")),(a.decisionLog||[]).length>0?React.createElement("ul",{className:"space-y-1 text-xs text-slate-700"},a.decisionLog.slice(0,6).map(e=>React.createElement("li",{key:e.id,className:"flex items-center justify-between"},React.createElement("span",{className:"font-medium"},e.label,e.detail?` \u2014 ${e.detail}`:""),React.createElement("span",{className:"text-slate-500"},e.time)))):React.createElement("p",{className:"text-xs text-slate-500"},"No decisions logged yet.")),React.createElement("div",{className:"space-y-3"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Diagnosis"),React.createElement("div",{className:"flex flex-wrap gap-2 mb-2"},[{value:"ischemic",label:"Ischemic Stroke or TIA",color:"blue",icon:"activity"},{value:"ich",label:"Intracranial Hemorrhage",color:"red",icon:"alert-triangle"},{value:"mimic",label:"Stroke Mimic/Other",color:"amber",icon:"eye-off"}].map(e=>{let t=a.diagnosisCategory===e.value;return React.createElement("button",{key:e.value,type:"button",onClick:()=>{let s=e.value,r="";s==="ischemic"?r="Suspected acute ischemic stroke":s==="ich"?r="Intracerebral hemorrhage (ICH)":s==="mimic"&&(r="Stroke mimic"),l({...a,diagnosisCategory:s,diagnosis:r})},className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all border-2 ${t?e.color==="blue"?"bg-blue-500 text-white border-blue-500":e.color==="red"?"bg-red-500 text-white border-red-500":e.color==="amber"?"bg-amber-500 text-white border-amber-500":"bg-gray-500 text-white border-gray-500":"bg-white text-gray-700 border-gray-300 hover:border-gray-400"}`},React.createElement("i",{"data-lucide":e.icon,className:"w-4 h-4"}),e.label)})),a.diagnosisCategory==="other"&&React.createElement("input",{type:"text",value:a.diagnosis,onChange:e=>l({...a,diagnosis:e.target.value}),placeholder:"Specify diagnosis...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),a.diagnosisCategory&&a.diagnosisCategory!=="other"&&React.createElement("div",{className:`px-3 py-2 rounded-lg text-sm ${a.diagnosisCategory==="ischemic"?"bg-blue-50 text-blue-800 border border-blue-200":a.diagnosisCategory==="ich"?"bg-red-50 text-red-800 border border-red-200":a.diagnosisCategory==="mimic"?"bg-amber-50 text-amber-800 border border-amber-200":"bg-gray-50 text-gray-800 border border-gray-200"}`},React.createElement("strong",null,"Dx:")," ",a.diagnosis),le&&a.diagnosisCategory==="ischemic"&&React.createElement("div",{className:"mt-3 text-sm"},React.createElement("div",{className:"font-medium text-gray-700 mb-1"},"Active Ischemic Stroke Trials:"),React.createElement("ul",{className:"text-gray-600 space-y-0.5 ml-4"},React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"SISTER")," \u2013 Late thrombolysis (4.5-24h), no TNK/EVT"),React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"STEP-EVT")," \u2013 Mild LVO or medium/distal vessel occlusions"),React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"PICASSO")," \u2013 Tandem lesion (carotid + intracranial LVO)"),React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"TESTED")," \u2013 EVT in pre-existing disability (mRS 3-4)"),React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"VERIFY")," \u2013 TMS/MRI to predict motor recovery"),React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"DISCOVERY")," \u2013 Cognitive trajectories post-stroke"),React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"ESUS Imaging")," \u2013 Cardiac/vessel wall MRI for ESUS"),React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"MOCHA Imaging")," \u2013 Intracranial vessel-wall analysis for ICAD"))),le&&a.diagnosisCategory==="ich"&&React.createElement("div",{className:"mt-3 text-sm"},React.createElement("div",{className:"font-medium text-gray-700 mb-1"},"Active ICH Trials:"),React.createElement("ul",{className:"text-gray-600 space-y-0.5 ml-4"},React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"FASTEST")," \u2013 rFVIIa within 2h for hematoma expansion"),React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"SATURN")," \u2013 Statin continuation vs stop after lobar ICH"),React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"ASPIRE")," \u2013 Apixaban vs aspirin post-ICH with AF"),React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"cAPPricorn-1")," \u2013 Intrathecal mivelsiran for CAA"),React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"MIRROR Registry")," \u2013 Minimally invasive ICH evacuation"),React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"DISCOVERY")," \u2013 Cognitive trajectories post-ICH")))),le&&React.createElement("details",{className:"bg-green-50 border border-green-200 rounded-lg"},React.createElement("summary",{className:"cursor-pointer p-3 font-semibold text-green-800 hover:bg-green-100 rounded-lg"},"\u2713 Lytic Eligibility Criteria (Click to expand)"),React.createElement("div",{className:"p-4 space-y-3 text-sm"},React.createElement("div",null,React.createElement("h4",{className:"font-semibold text-green-700 mb-2"},"Inclusion Criteria:"),React.createElement("ul",{className:"space-y-1 ml-4"},React.createElement("li",null,"\u2022 Diagnosis of ischemic stroke causing measurable neurologic deficit"),React.createElement("li",null,"\u2022 Age \u226518 years"),React.createElement("li",null,"\u2022 Onset of symptoms <3 hours (or <4.5h with additional criteria)"))),React.createElement("div",null,React.createElement("h4",{className:"font-semibold text-amber-700 mb-2"},"3-4.5h Window Additional Criteria:"),React.createElement("ul",{className:"space-y-1 ml-4"},React.createElement("li",null,"\u2022 Age \u226480 years"),React.createElement("li",null,"\u2022 No history of both DM and prior stroke"),React.createElement("li",null,"\u2022 NIHSS \u226425"),React.createElement("li",null,"\u2022 No oral anticoagulant use"))),React.createElement("div",null,React.createElement("h4",{className:"font-semibold text-teal-700 mb-2"},"WAKE-UP:"),React.createElement("ul",{className:"space-y-1 ml-4"},React.createElement("li",null,"\u2022 LKN unclear (not awake/known to have had sx for 4.5 hours) + NO LVO"),React.createElement("li",null,"\u2022 MRI w/ DWI and T2/FLAIR"),React.createElement("li",null,"\u2022 Discuss \u2193 certainty in benefit and \u2191 hemorrhage risk w/ thrombolysis"))))),(()=>{let e=a.tnkContraindicationChecklist||{},t=[{id:"currentICH",label:"CT with evidence of hemorrhage",note:null},{id:"extensiveHypoattenuation",label:"CT with extensive regions of clear hypoattenuation",note:null},{id:"largeInfarct",label:"Ischemic injury >1/3 of MCA territory",note:null},{id:"intracranialTumor",label:"Intra-axial intracranial tumor",note:"extra-axial not absolute"},{id:"aorticDissection",label:"Aortic arch dissection",note:null},{id:"recentStroke",label:"Recent stroke",note:"<90 days"},{id:"recentHeadTrauma",label:"Recent severe head trauma",note:"<90 days"},{id:"recentIntracranialSurgery",label:"Recent intracranial/intraspinal surgery",note:"<60 days"},{id:"activeInternalBleeding",label:"Active internal bleeding",note:null},{id:"giMalignancy",label:"GI malignancy",note:null},{id:"sahPresentation",label:"Clinical presentation suggestive of SAH",note:"even if CT normal"},{id:"infectiveEndocarditis",label:"Presentation consistent with infective endocarditis",note:null},{id:"severeUncontrolledHTN",label:"SBP >185 or DBP >110 mmHg",note:"unresponsive to treatment"},{id:"lowPlatelets",label:"Platelet count <100,000",note:null},{id:"lowGlucose",label:"Blood glucose <50 mg/dL",note:null},{id:"warfarinElevatedINR",label:"Warfarin use with PT >15s, INR >1.7, or aPTT >40s",note:null},{id:"recentDOAC",label:"Recent DOAC use",note:"<48h"},{id:"recentHeparin",label:"Treatment-dose heparin/LMWH",note:"<24 hours"}],s=[{id:"priorICH",label:"Prior known non-traumatic intracranial hemorrhage",note:null},{id:"vascularMalformation",label:"Intracranial vascular malformation",note:"unless severe neuro sx"},{id:"intracranialAneurysm",label:"Intracranial aneurysm",note:null},{id:"knownBleedingDiathesis",label:"Known bleeding diathesis",note:null},{id:"pregnancy",label:"Pregnancy",note:"consult OB/GYN ASAP"},{id:"recentMajorSurgery",label:"Major extracranial surgery or trauma",note:"<14 days"},{id:"recentGIGUBleeding",label:"Recent GI/urinary tract hemorrhage",note:"<21 days"},{id:"recentMI",label:"Acute or recent MI",note:"<3 months, depends on type"},{id:"acutePericarditis",label:"Acute pericarditis",note:null},{id:"recentArterialPuncture",label:"Recent arterial puncture at non-compressible site",note:"<7 days"},{id:"recentLumbarPuncture",label:"Recent lumbar puncture",note:"<7 days"},{id:"seizureAtOnset",label:"Seizure at onset with postictal deficits",note:"consider stroke mimic"},{id:"abnormalCoagUnknown",label:"Abnormal aPTT, TT, or anti-Xa with unknown anticoagulant use",note:null},{id:"cerebralMicrobleeds",label:"Cerebral microbleeds >10 on prior MRI",note:"increased ICH risk"},{id:"lecanemab",label:"Lecanemab or other Alzheimer medications",note:"ARIA risk"},{id:"highGlucose",label:"Blood glucose >400 mg/dL",note:"correct before treatment"}],r={},i=parseFloat(a.glucose);!isNaN(i)&&i<50&&(r.lowGlucose=!0),!isNaN(i)&&i>400&&(r.highGlucose=!0);let o=parseFloat(a.inr);!isNaN(o)&&o>1.7&&(r.warfarinElevatedINR=!0);let n=parseFloat(a.ptt);!isNaN(n)&&n>40&&(r.warfarinElevatedINR=!0);let d=parseFloat(a.plateletCount);!isNaN(d)&&d<1e5&&(r.lowPlatelets=!0);let v=(a.presentingBP||"").match(/(\d+)\s*\/\s*(\d+)/);v&&(parseInt(v[1])>185||parseInt(v[2])>110)&&(r.severeUncontrolledHTN=!0),a.lastDOACType&&a.lastDOACType!==""&&a.lastDOACType!=="none"&&a.lastDOACType!=="warfarin"&&a.lastDOACType!=="heparin"&&(a.lastDOACDose?(new Date-new Date(a.lastDOACDose))/36e5<48&&(r.recentDOAC=!0):r.recentDOAC=!0),a.lastDOACType==="heparin"&&(a.lastDOACDose?(new Date-new Date(a.lastDOACDose))/36e5<24&&(r.recentHeparin=!0):r.recentHeparin=!0),a.lastDOACType==="warfarin"&&!isNaN(o)&&o>1.7&&(r.warfarinElevatedINR=!0);let C=t.filter(k=>e[k.id]||r[k.id]),K=s.filter(k=>e[k.id]||r[k.id]),P,E,U;C.length>0?(P="bg-red-500 text-white",E="Absolute CI ("+C.length+")",U="X"):K.length>0?(P="bg-amber-500 text-white",E=K.length+" relative",U="!"):a.tnkContraindicationReviewed?(P="bg-green-500 text-white",E="No contraindications",U="check"):(P="bg-gray-400 text-white",E="Not reviewed",U="?");let J=(k,Z)=>l({...a,tnkContraindicationChecklist:{...a.tnkContraindicationChecklist,[k]:Z}}),we=()=>{let k={};[...t,...s].forEach(Z=>{k[Z.id]=!1}),l({...a,tnkContraindicationChecklist:k,tnkContraindicationReviewed:!0,tnkContraindicationReviewTime:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),tnkRecommended:!0})};return React.createElement("details",{id:"tnk-contraindications",className:"bg-gradient-to-r from-orange-50 to-red-50 border-2 border-orange-300 rounded-lg"},React.createElement("summary",{className:"cursor-pointer p-3 font-semibold text-orange-900 hover:bg-orange-100 rounded-lg flex items-center justify-between"},React.createElement("span",null,"TNK Contraindications"),React.createElement("span",{className:"px-3 py-1 rounded-full text-xs font-bold "+P},U==="check"&&React.createElement("span",null,"\u2713 "),U==="!"&&React.createElement("span",null,"\u26A0 "),U==="X"&&React.createElement("span",null,"\u2717 "),E)),React.createElement("div",{className:"p-4 space-y-4"},C.length>0&&React.createElement("div",{className:"bg-red-50 border border-red-300 rounded-lg p-3 text-sm text-red-800"},React.createElement("strong",null,"Absolute contraindications detected.")," TNK should not be given unless these are ruled out or overridden."),a.tnkRecommended&&C.length>0&&React.createElement("div",{className:"bg-red-100 border border-red-300 rounded-lg p-3 text-sm text-red-800"},React.createElement("strong",null,"Warning:")," TNK is marked recommended while absolute contraindications are present."),React.createElement("div",{className:"flex flex-wrap items-center justify-between gap-2 bg-white border border-orange-200 rounded-lg px-3 py-2"},React.createElement("div",{className:"text-sm text-orange-800"},React.createElement("strong",null,"Review status:")," ",a.tnkContraindicationReviewed?`Reviewed at ${a.tnkContraindicationReviewTime||"\u2014"}`:"Not reviewed"),React.createElement("button",{type:"button",onClick:()=>l({...a,tnkContraindicationReviewed:!0,tnkContraindicationReviewTime:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}),className:"px-3 py-1.5 bg-orange-600 text-white rounded-lg text-xs font-semibold hover:bg-orange-700"},"Mark Reviewed")),React.createElement("div",{className:"bg-red-100 border border-red-300 rounded-lg p-3"},React.createElement("h4",{className:"font-bold text-red-800 mb-3 flex items-center gap-2"},React.createElement("span",{className:"bg-red-600 text-white px-2 py-0.5 rounded text-xs"},"ABSOLUTE"),"Contraindications - TNK is contraindicated if ANY checked"),React.createElement("div",{className:"space-y-2"},t.map(k=>{let Z=r[k.id],ke=e[k.id]||Z;return React.createElement("label",{key:k.id,className:"flex items-start gap-2 p-2 rounded cursor-pointer transition "+(ke?"bg-red-200":"hover:bg-red-50")},React.createElement("input",{type:"checkbox",checked:ke,onChange:wt=>J(k.id,wt.target.checked),className:"w-4 h-4 mt-0.5 accent-red-600"}),React.createElement("div",{className:"flex-1"},React.createElement("span",{className:"text-sm "+(ke?"text-red-900 font-semibold":"text-gray-800")},k.label),k.note&&React.createElement("span",{className:"text-xs text-red-600 ml-1"},"(",k.note,")"),Z&&React.createElement("span",{className:"ml-2 text-xs bg-red-500 text-white px-1.5 py-0.5 rounded"},"Auto-detected")))}))),React.createElement("div",{className:"bg-amber-50 border border-amber-300 rounded-lg p-3"},React.createElement("h4",{className:"font-bold text-amber-800 mb-3 flex items-center gap-2"},React.createElement("span",{className:"bg-amber-500 text-white px-2 py-0.5 rounded text-xs"},"RELATIVE"),"Contraindications - Use clinical judgment"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2"},s.map(k=>{let Z=r[k.id],ke=e[k.id]||Z;return React.createElement("label",{key:k.id,className:"flex items-start gap-2 p-2 rounded cursor-pointer transition "+(ke?"bg-amber-200":"hover:bg-amber-100")},React.createElement("input",{type:"checkbox",checked:ke,onChange:wt=>J(k.id,wt.target.checked),className:"w-4 h-4 mt-0.5 accent-amber-600"}),React.createElement("div",{className:"flex-1"},React.createElement("span",{className:"text-sm "+(ke?"text-amber-900 font-semibold":"text-gray-800")},k.label),k.note&&React.createElement("span",{className:"text-xs text-amber-600 block"},"(",k.note,")"),Z&&React.createElement("span",{className:"ml-2 text-xs bg-amber-500 text-white px-1.5 py-0.5 rounded"},"Auto-detected")))}))),React.createElement("div",{className:"flex items-center justify-between pt-2 border-t border-orange-200"},React.createElement("div",{className:"text-sm text-gray-600"},a.tnkContraindicationReviewed&&React.createElement("span",{className:"text-green-700"},"Reviewed at ",a.tnkContraindicationReviewTime)),React.createElement("div",{className:"flex gap-2"},C.length===0&&React.createElement("button",{onClick:we,className:"px-4 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition flex items-center gap-2"},React.createElement("span",null,"\u2713")," All reviewed - Proceed with TNK"),C.length>0&&React.createElement("div",{className:"px-4 py-2 bg-red-100 text-red-800 rounded-lg font-semibold border border-red-300"},"\u2717 TNK Contraindicated - ",C.length," absolute CI",C.length>1?"s":"")))))})(),React.createElement("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700"},React.createElement("input",{type:"checkbox",checked:a.tnkRecommended,onChange:e=>l({...a,tnkRecommended:e.target.checked}),className:"w-4 h-4"}),"TNK Recommended"),a.tnkRecommended&&React.createElement("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 space-y-3"},React.createElement("div",{className:"bg-white border border-green-300 rounded-lg p-3 space-y-2"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("span",{className:"text-sm font-semibold text-green-800"},"\u{1F489} TNK Dosing Calculator"),React.createElement("span",{className:"text-xs text-gray-500"},"0.25 mg/kg, max 25 mg")),React.createElement("div",{className:"flex items-center gap-3"},React.createElement("label",{className:"text-sm text-gray-700"},"Weight:"),React.createElement("input",{type:"number",value:a.weight,onChange:e=>l({...a,weight:e.target.value}),placeholder:"kg",className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm",min:"0",step:"0.1"}),React.createElement("span",{className:"text-xs text-gray-500"},"kg")),(()=>{let e=Ge(a.weight);if(!e)return React.createElement("div",{className:"text-sm text-amber-600 bg-amber-50 px-3 py-2 rounded-lg border border-amber-200"},"\u26A0\uFE0F Enter patient weight to calculate TNK dose");let t=(parseFloat(e.calculatedDose)/5).toFixed(1);return React.createElement("div",{className:`rounded-xl shadow-lg overflow-hidden ${e.isMaxDose?"ring-2 ring-amber-400":"ring-2 ring-green-400"}`},React.createElement("div",{className:`px-4 py-2 ${e.isMaxDose?"bg-gradient-to-r from-amber-500 to-amber-600":"bg-gradient-to-r from-green-500 to-emerald-600"}`},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("span",{className:"text-white font-bold text-lg flex items-center gap-2"},React.createElement("span",{className:"text-2xl"},"\u{1F489}"),"TNK DOSING"),e.isMaxDose&&React.createElement("span",{className:"bg-white/20 text-white px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide"},"MAX DOSE"))),React.createElement("div",{className:`px-4 py-4 ${e.isMaxDose?"bg-gradient-to-br from-amber-50 to-amber-100":"bg-gradient-to-br from-green-50 to-emerald-100"}`},React.createElement("div",{className:"grid grid-cols-3 gap-3 text-center"},React.createElement("div",{className:`p-3 rounded-lg ${e.isMaxDose?"bg-amber-200/50":"bg-green-200/50"}`},React.createElement("div",{className:"text-3xl font-black text-gray-900"},e.calculatedDose),React.createElement("div",{className:"text-sm font-medium text-gray-600"},"mg")),React.createElement("div",{className:`p-3 rounded-lg ${e.isMaxDose?"bg-amber-200/50":"bg-green-200/50"}`},React.createElement("div",{className:"text-3xl font-black text-gray-900"},t),React.createElement("div",{className:"text-sm font-medium text-gray-600"},"mL")),React.createElement("div",{className:`p-3 rounded-lg ${e.isMaxDose?"bg-amber-200/50":"bg-green-200/50"}`},React.createElement("div",{className:"text-3xl font-black text-gray-900"},e.weightKg),React.createElement("div",{className:"text-sm font-medium text-gray-600"},"kg"))),React.createElement("div",{className:"text-xs text-gray-500 text-center mt-2"},e.weightKg," kg \xD7 0.25 mg/kg = ",(e.weightKg*.25).toFixed(1)," mg",e.isMaxDose&&" \u2192 capped at 25 mg max"),React.createElement("div",{className:"text-xs text-gray-400 text-center mt-1"},"Reconstitute: 50mg vial + 10mL sterile water = 5 mg/mL")))})()),React.createElement("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700"},React.createElement("input",{type:"checkbox",checked:a.tnkConsentDiscussed,onChange:e=>l({...a,tnkConsentDiscussed:e.target.checked}),className:"w-4 h-4"}),"Risks/benefits discussed with patient and family"),a.tnkConsentDiscussed&&React.createElement("div",{className:"bg-white border border-purple-200 rounded-lg p-3 space-y-2"},React.createElement("p",{className:"text-sm text-gray-700"},`We recommend a medication called Tenecteplase (TNK), which is a "clot-buster" drug. TNK reduces the risk of being disabled; people who get TNK have an improved chance of recovering without disability than people who don't get the medication. All medications have risks \u2013 the main risk is bleeding, up to 4% of people develop bleeding in the brain that leads to new symptoms. Very rarely, people have an allergic reaction. The potential benefits are thought to be higher than the potential risks and we recommend TNK is administered. Time is very important here - the sooner the treatment is started, the higher the likelihood of benefit.`),React.createElement("div",{className:"mt-3 space-y-2"},React.createElement("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700"},React.createElement("input",{type:"checkbox",checked:a.patientFamilyConsent,onChange:e=>l({...a,patientFamilyConsent:e.target.checked}),className:"w-4 h-4"}),"Patient/family provides consent"),React.createElement("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700"},React.createElement("input",{type:"checkbox",checked:a.presumedConsent,onChange:e=>l({...a,presumedConsent:e.target.checked}),className:"w-4 h-4"}),"Presumed consent"),React.createElement("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700"},React.createElement("input",{type:"checkbox",checked:a.preTNKSafetyPause,onChange:e=>l({...a,preTNKSafetyPause:e.target.checked}),className:"w-4 h-4"}),"Pre-TNK safety pause completed"))),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"TNK Administration Time"),React.createElement("input",{type:"time",value:a.tnkAdminTime,onChange:e=>l({...a,tnkAdminTime:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}))),React.createElement("details",{id:"time-metrics-section",className:"bg-purple-50 border-2 border-purple-300 rounded-lg",open:a.tnkRecommended},React.createElement("summary",{className:"cursor-pointer p-3 font-semibold text-purple-800 hover:bg-purple-100 rounded-lg flex items-center justify-between"},React.createElement("span",{className:"flex items-center gap-2"},React.createElement("i",{"data-lucide":"timer",className:"w-4 h-4"}),"Time Metrics (DTN Tracker)"),(()=>{let e=Ba();if(e.doorToNeedle!==null){let t=ja(e.doorToNeedle);return React.createElement("span",{className:`px-2 py-1 rounded text-xs font-bold ${t.color==="green"?"bg-green-500 text-white":t.color==="yellow"?"bg-yellow-500 text-white":"bg-red-500 text-white"}`},"DTN: ",e.doorToNeedle," min")}return null})()),React.createElement("div",{className:"p-4 space-y-4"},React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3"},React.createElement("div",{className:"bg-white p-3 rounded-lg border border-purple-200"},React.createElement("div",{className:"flex items-center justify-between mb-2"},React.createElement("label",{className:"text-sm font-medium text-gray-700"},"ED Arrival (Door)"),React.createElement("button",{type:"button",onClick:()=>l({...a,dtnEdArrival:new Date().toISOString().slice(0,16)}),className:"px-2 py-1 bg-purple-600 text-white text-xs rounded hover:bg-purple-700 transition-colors"},"Now")),React.createElement("input",{type:"datetime-local",value:a.dtnEdArrival||"",onChange:e=>l({...a,dtnEdArrival:e.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-purple-500"})),React.createElement("div",{className:"bg-white p-3 rounded-lg border border-purple-200"},React.createElement("div",{className:"flex items-center justify-between mb-2"},React.createElement("label",{className:"text-sm font-medium text-gray-700"},"Stroke Alert Called"),React.createElement("button",{type:"button",onClick:()=>l({...a,dtnStrokeAlert:new Date().toISOString().slice(0,16)}),className:"px-2 py-1 bg-purple-600 text-white text-xs rounded hover:bg-purple-700 transition-colors"},"Now")),React.createElement("input",{type:"datetime-local",value:a.dtnStrokeAlert||"",onChange:e=>l({...a,dtnStrokeAlert:e.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-purple-500"})),React.createElement("div",{className:"bg-white p-3 rounded-lg border border-purple-200"},React.createElement("div",{className:"flex items-center justify-between mb-2"},React.createElement("label",{className:"text-sm font-medium text-gray-700"},"CT Scan Started"),React.createElement("button",{type:"button",onClick:()=>l({...a,dtnCtStarted:new Date().toISOString().slice(0,16)}),className:"px-2 py-1 bg-purple-600 text-white text-xs rounded hover:bg-purple-700 transition-colors"},"Now")),React.createElement("input",{type:"datetime-local",value:a.dtnCtStarted||"",onChange:e=>l({...a,dtnCtStarted:e.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-purple-500"})),React.createElement("div",{className:"bg-white p-3 rounded-lg border border-purple-200"},React.createElement("div",{className:"flex items-center justify-between mb-2"},React.createElement("label",{className:"text-sm font-medium text-gray-700"},"CT Read/Cleared for TNK"),React.createElement("button",{type:"button",onClick:()=>l({...a,dtnCtRead:new Date().toISOString().slice(0,16)}),className:"px-2 py-1 bg-purple-600 text-white text-xs rounded hover:bg-purple-700 transition-colors"},"Now")),React.createElement("input",{type:"datetime-local",value:a.dtnCtRead||"",onChange:e=>l({...a,dtnCtRead:e.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-purple-500"})),React.createElement("div",{className:"bg-white p-3 rounded-lg border border-purple-200"},React.createElement("div",{className:"flex items-center justify-between mb-2"},React.createElement("label",{className:"text-sm font-medium text-gray-700"},"TNK Ordered"),React.createElement("button",{type:"button",onClick:()=>l({...a,dtnTnkOrdered:new Date().toISOString().slice(0,16)}),className:"px-2 py-1 bg-purple-600 text-white text-xs rounded hover:bg-purple-700 transition-colors"},"Now")),React.createElement("input",{type:"datetime-local",value:a.dtnTnkOrdered||"",onChange:e=>l({...a,dtnTnkOrdered:e.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-purple-500"})),React.createElement("div",{className:"bg-white p-3 rounded-lg border-2 border-green-400"},React.createElement("div",{className:"flex items-center justify-between mb-2"},React.createElement("label",{className:"text-sm font-bold text-green-700"},"TNK Administered (Needle)"),React.createElement("button",{type:"button",onClick:()=>l({...a,dtnTnkAdministered:new Date().toISOString().slice(0,16)}),className:"px-2 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700 transition-colors"},"Now")),React.createElement("input",{type:"datetime-local",value:a.dtnTnkAdministered||"",onChange:e=>l({...a,dtnTnkAdministered:e.target.value}),className:"w-full px-2 py-1 border border-green-300 rounded text-sm focus:ring-2 focus:ring-green-500"}))),(()=>{let e=Ba();return e.doorToCT!==null||e.doorToNeedle!==null||e.ctToNeedle!==null?React.createElement("div",{className:"bg-gradient-to-r from-purple-100 to-blue-100 rounded-lg p-4 border-2 border-purple-300"},React.createElement("h5",{className:"font-bold text-purple-900 mb-3 flex items-center gap-2"},React.createElement("i",{"data-lucide":"bar-chart-2",className:"w-4 h-4"}),"Calculated Intervals"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3"},React.createElement("div",{className:"bg-white p-3 rounded-lg border border-blue-200 text-center"},React.createElement("p",{className:"text-xs text-gray-600 mb-1"},"Door-to-CT"),React.createElement("p",{className:"text-2xl font-bold text-blue-600"},e.doorToCT!==null?`${e.doorToCT} min`:"--"),React.createElement("p",{className:"text-xs text-gray-500"},"Target: <25 min")),e.doorToNeedle!==null&&(()=>{let s=ja(e.doorToNeedle);return React.createElement("div",{className:`p-3 rounded-lg border-2 text-center ${s.color==="green"?"bg-green-100 border-green-500":s.color==="yellow"?"bg-yellow-100 border-yellow-500":"bg-red-100 border-red-500"}`},React.createElement("p",{className:"text-xs text-gray-700 mb-1 font-semibold"},"Door-to-Needle (DTN)"),React.createElement("p",{className:`text-3xl font-bold ${s.color==="green"?"text-green-700":s.color==="yellow"?"text-yellow-700":"text-red-700"}`},e.doorToNeedle," min"),React.createElement("p",{className:`text-sm font-semibold ${s.color==="green"?"text-green-600":s.color==="yellow"?"text-yellow-600":"text-red-600"}`},s.label),s.delta!==0&&React.createElement("p",{className:"text-xs text-gray-600 mt-1"},s.delta>0?`+${s.delta} min over ${s.target} min target`:`${Math.abs(s.delta)} min under target`))})(),e.doorToNeedle===null&&React.createElement("div",{className:"bg-white p-3 rounded-lg border border-gray-200 text-center"},React.createElement("p",{className:"text-xs text-gray-600 mb-1"},"Door-to-Needle (DTN)"),React.createElement("p",{className:"text-2xl font-bold text-gray-400"},"--"),React.createElement("p",{className:"text-xs text-gray-500"},"Target: <45 min")),React.createElement("div",{className:"bg-white p-3 rounded-lg border border-blue-200 text-center"},React.createElement("p",{className:"text-xs text-gray-600 mb-1"},"CT-to-Needle"),React.createElement("p",{className:"text-2xl font-bold text-blue-600"},e.ctToNeedle!==null?`${e.ctToNeedle} min`:"--"),React.createElement("p",{className:"text-xs text-gray-500"},"Target: <20 min"))),React.createElement("div",{className:"mt-3 pt-3 border-t border-purple-200"},React.createElement("p",{className:"text-xs text-gray-600 text-center"},"DTN Benchmarks:",React.createElement("span",{className:"ml-2 px-2 py-0.5 bg-green-500 text-white rounded"},"\u226445 min = Excellent"),React.createElement("span",{className:"ml-1 px-2 py-0.5 bg-yellow-500 text-white rounded"},"46-60 min = Good"),React.createElement("span",{className:"ml-1 px-2 py-0.5 bg-red-500 text-white rounded"},">60 min = Needs Improvement")))):React.createElement("div",{className:"text-center text-gray-500 text-sm py-2"},"Enter timestamps above to calculate time metrics")})())),React.createElement("details",{className:"bg-blue-50 border border-blue-200 rounded-lg"},React.createElement("summary",{className:"cursor-pointer p-3 font-semibold text-blue-800 hover:bg-blue-100 rounded-lg"},"\u{1F527} EVT Eligibility Criteria (Click to expand)"),React.createElement("div",{className:"p-4 space-y-3 text-sm"},React.createElement("div",null,React.createElement("h4",{className:"font-semibold text-blue-700 mb-2"},"Basilar Artery Occlusion:"),React.createElement("ul",{className:"space-y-1 ml-4"},React.createElement("li",null,"\u2022 Last known well \u226424 hours"),React.createElement("li",null,"\u2022 NIHSS score \u226510"),React.createElement("li",null,"\u2022 pc-ASPECTS \u22656"))),React.createElement("div",null,React.createElement("h4",{className:"font-semibold text-green-700 mb-2"},"Anterior Circulation Large Vessel Occlusion:"),React.createElement("p",{className:"text-xs text-gray-600 mb-2"},"Trial evidence principally supports efficacy among adults \u226560 years of age, baseline mRS 0-1, NIHSS\u22656 with disabling symptoms"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-2"},React.createElement("div",{className:"bg-white p-2 rounded border"},React.createElement("p",{className:"font-semibold text-green-700 text-xs mb-1"},"Early Window (0-6h):"),React.createElement("ul",{className:"space-y-1 ml-2 text-xs"},React.createElement("li",null,"\u2022 ASPECTS 3-10: Generally eligible for EVT"),React.createElement("li",null,"\u2022 ASPECTS 0-2: Consider in very select cases; Consider CTP to evaluate if estimated core volume is <70-100cc"))),React.createElement("div",{className:"bg-white p-2 rounded border"},React.createElement("p",{className:"font-semibold text-purple-700 text-xs mb-1"},"Late Window (6-24h):"),React.createElement("ul",{className:"space-y-1 ml-2 text-xs"},React.createElement("li",null,"\u2022 ASPECTS 6-10: Generally eligible for EVT"),React.createElement("li",null,"\u2022 ASPECTS 3-5: Generally eligible; Consider CTP to evaluate if estimated core volume is \u2264100cc + mismatch is present"),React.createElement("li",null,"\u2022 ASPECTS 0-2: EVT benefit is unclear"))))),React.createElement("div",null,React.createElement("h4",{className:"font-semibold text-orange-700 mb-2"},"Medium Vessel Occlusion:"),React.createElement("ul",{className:"space-y-1 ml-4"},React.createElement("li",null,"\u2022 Consider in select cases of proximal or dominant M2 segment MCA occlusion within \u22641cm of bifurcation in horizontal segment when there is evidence of salvageable tissue + last known well is \u226424 hours"),React.createElement("li",null,"\u2022 Not recommended for M2-M4 MCA, ACA, and PCA occlusions"))))),React.createElement("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700"},React.createElement("input",{type:"checkbox",checked:a.evtRecommended,onChange:e=>l({...a,evtRecommended:e.target.checked}),className:"w-4 h-4"}),"EVT Recommended"),React.createElement("div",null,React.createElement("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-1"},React.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Rationale for Recommendation"),Nt("rationale",e=>{l(t=>({...t,rationale:t.rationale?`${t.rationale} ${e}`:e}))})),React.createElement("textarea",{value:a.rationale,onChange:e=>l({...a,rationale:e.target.value}),placeholder:"",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})))),React.createElement("div",{id:"recommendations-section",className:"bg-white border-2 border-teal-300 rounded-lg p-4 shadow-md"},React.createElement("div",{className:"flex items-center justify-between mb-3"},React.createElement("h3",{className:"text-lg font-bold text-teal-900"},"7. Recommendations"),React.createElement("i",{"data-lucide":"clipboard-check",className:"w-5 h-5 text-teal-600"})),React.createElement("div",null,React.createElement("div",{className:"flex items-center justify-between mb-1"},React.createElement("span",{className:"text-sm font-medium text-gray-700"},"Recommendation Summary"),Nt("recommendationsText",e=>{l(t=>({...t,recommendationsText:t.recommendationsText?`${t.recommendationsText} ${e}`:e}))})),React.createElement("textarea",{value:a.recommendationsText,onChange:e=>l({...a,recommendationsText:e.target.value}),placeholder:"",rows:"6",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}))),React.createElement("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-3 mt-4"},React.createElement("div",{className:"flex items-center justify-between mb-2"},React.createElement("span",{className:"font-semibold text-indigo-800 text-sm"},"Pulsara Summary"),React.createElement("button",{onClick:()=>{let e=a.age||"[Age]",t=a.sex,s=t==="M"?"male":t==="F"?"female":"[sex]",r=a.pmh||"no PMH",i=a.symptoms||"[symptoms]",o=p?p.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"[time]",n=p?p.toLocaleDateString("en-US"):"[date]",d=a.nihss||h||"[score]",g=a.nihssDetails?` (${a.nihssDetails})`:"",v=a.ctResults||"[CT findings]",C=a.ctaResults||"[CTA findings]",K=a.ctpResults||"N/A",P=N?` ASPECTS: ${N}.`:"",E=a.tnkRecommended?"Recommended":"Not Recommended",U=a.evtRecommended?"Recommended":"Not Recommended",J=a.rationale||"[rationale]",we=`${e} year old ${s} with ${r} who presents with ${i}. Last known well is ${o} ${n}. NIHSS score: ${d}${g}. Head CT: ${v}.${P} CTA Head/Neck: ${C}. CTP: ${K}. TNK Treatment: ${E}. EVT: ${U}. Rationale for Treatment Recommendation: ${J}.`;navigator.clipboard.writeText(we),D("tel-pulsara"),setTimeout(()=>D(""),2e3)},className:"flex items-center gap-2 px-3 py-1.5 bg-indigo-600 text-white text-sm rounded-lg hover:bg-indigo-700 transition-colors"},React.createElement("i",{"data-lucide":te==="tel-pulsara"?"check":"copy",className:"w-4 h-4"}),te==="tel-pulsara"?"Copied!":"Copy Pulsara")),React.createElement("p",{className:"text-xs text-gray-600 whitespace-pre-wrap"},(()=>{let e=a.age||"[Age]",t=a.sex,s=t==="M"?"male":t==="F"?"female":"[sex]",r=a.pmh||"no PMH",i=a.symptoms||"[symptoms]",o=p?p.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"[time]",n=p?p.toLocaleDateString("en-US"):"[date]",d=a.nihss||h||"[score]",g=a.nihssDetails?` (${a.nihssDetails})`:"",v=a.ctResults||"[CT findings]",C=a.ctaResults||"[CTA findings]",K=a.ctpResults||"N/A",P=N?` ASPECTS: ${N}.`:"",E=a.tnkRecommended?"Recommended":"Not Recommended",U=a.evtRecommended?"Recommended":"Not Recommended",J=a.rationale||"[rationale]";return`${e} year old ${s} with ${r} who presents with ${i}. Last known well is ${o} ${n}. NIHSS score: ${d}${g}. Head CT: ${v}.${P} CTA Head/Neck: ${C}. CTP: ${K}. TNK Treatment: ${E}. EVT: ${U}. Rationale: ${J}.`})())),React.createElement("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-4 mt-4"},React.createElement("h3",{className:"text-lg font-semibold text-gray-800 mb-4"},"Telestroke"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},React.createElement("div",{className:"bg-white p-3 rounded border"},React.createElement("h4",{className:"font-semibold text-gray-700 mb-2"},"Transfer"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3"},React.createElement("div",null,React.createElement("label",{className:"block text-xs font-medium text-gray-600 mb-1"},"Transport mode"),React.createElement("select",{value:a.transportMode||"",onChange:e=>l({...a,transportMode:e.target.value}),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500"},React.createElement("option",{value:""},"-- Select --"),React.createElement("option",{value:"Ground"},"Ground"),React.createElement("option",{value:"Air"},"Air"),React.createElement("option",{value:"Private"},"Private"),React.createElement("option",{value:"Pending"},"Pending"))),React.createElement("div",null,React.createElement("label",{className:"block text-xs font-medium text-gray-600 mb-1"},"ETA (time)"),React.createElement("input",{type:"datetime-local",value:a.transportEta||"",onChange:e=>l({...a,transportEta:e.target.value}),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500"}))),React.createElement("div",{className:"mt-3"},React.createElement("label",{className:"block text-xs font-medium text-gray-600 mb-1"},"Transport notes"),React.createElement("textarea",{value:a.transportNotes||"",onChange:e=>l({...a,transportNotes:e.target.value}),rows:"2",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"Air/ground contact, staging, or special considerations"})),React.createElement("div",{className:"mt-3"},React.createElement("label",{className:"block text-xs font-medium text-gray-600 mb-1"},"Transfer decision note"),React.createElement("textarea",{value:a.transferRationale||"",onChange:e=>l({...a,transferRationale:e.target.value}),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"Auto-generate or type the transfer decision note..."})),React.createElement("div",{className:"mt-2 flex flex-wrap gap-2"},React.createElement("button",{type:"button",onClick:()=>{let e=prompt("Reason for accepting transfer (optional)"),t=Ys("accept",e||"");l({...a,transferAccepted:!0,transferRationale:t}),navigator.clipboard.writeText(t),D("transfer-accept"),setTimeout(()=>D(""),2e3)},className:"px-3 py-2 bg-green-600 text-white rounded-lg text-xs font-semibold hover:bg-green-700"},te==="transfer-accept"?"Copied!":"Accept + copy"),React.createElement("button",{type:"button",onClick:()=>{let e=prompt("Reason for declining transfer");if(!e)return;let t=Ys("decline",e);l({...a,transferAccepted:!1,transferRationale:t}),navigator.clipboard.writeText(t),D("transfer-decline"),setTimeout(()=>D(""),2e3)},className:"px-3 py-2 bg-red-600 text-white rounded-lg text-xs font-semibold hover:bg-red-700"},te==="transfer-decline"?"Copied!":"Decline + copy"))),React.createElement("div",{className:"bg-white p-3 rounded border"},React.createElement("h4",{className:"font-semibold text-gray-700 mb-2"},"TNK risk/benefit discussion documentation:"),React.createElement("p",{className:"text-sm"},"After ensuring that there were no evident contraindications, TNK administration was recommended. Potential benefits, potential risks (including a potential risk of sx ICH of up to 4%), and alternatives to treatment were discussed with the OSH provider and patient/family prior to initiating treatment."))),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",{className:"bg-white p-3 rounded border"},React.createElement("h4",{className:"font-semibold text-gray-700 mb-2"},"Post-IV TNK/tPA recommendations:"),React.createElement("ul",{className:"text-sm space-y-1"},React.createElement("li",null,"\u2022 Admit to ICU"),React.createElement("li",null,"\u2022 q1hour neurochecks and VS monitoring"),React.createElement("li",null,"\u2022 NO antithrombotics/anticoagulants for 24 hour after IV-tPA"),React.createElement("li",null,"\u2022 Maintain BP<180/105 for 24 hours after IV-tPA"),React.createElement("li",null,"\u2022 HCT 24 hours post-tPA administration"),React.createElement("li",null,"\u2022 MRI Brain with diffusion weighted imaging"),React.createElement("li",null,"\u2022 EKG/telemetry"),React.createElement("li",null,"\u2022 Transthoracic echocardiogram"),React.createElement("li",null,"\u2022 Fasting lipid panel, HgA1c"),React.createElement("li",null,"\u2022 PT/OT/SLP evaluations"),React.createElement("li",null,"\u2022 SCDs for DVT ppx"),React.createElement("li",null,"\u2022 Inpatient neurology consultation for further diagnostic evaluation and management"))),React.createElement("div",{className:"bg-white p-3 rounded border"},React.createElement("h4",{className:"font-semibold text-gray-700 mb-2"},"MT risk/benefit discussion:"),React.createElement("p",{className:"text-sm"},"Given the presence of a large vascular occlusion, disabling neurological symptoms, and no evident contraindications - the patient will be transferred to HMC for mechanical thrombectomy consideration. Potential benefits, potential risks, and alternatives to treatment were discussed with the OSH provider and patient/family; the neuro-IR team at HMC will obtain informed consent from the patient/family.")))),React.createElement("div",{className:"bg-gray-50 border-2 border-gray-300 rounded-lg p-4 shadow-md mt-4"},React.createElement("div",{className:"flex items-center justify-between mb-3"},React.createElement("h4",{className:"font-bold text-gray-800 flex items-center gap-2"},React.createElement("i",{"data-lucide":"file-text",className:"w-5 h-5"}),"Telestroke Note - Epic"),React.createElement("div",{className:"flex gap-2 flex-wrap"},React.createElement("button",{onClick:()=>ks(!Bt),className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors"},React.createElement("i",{"data-lucide":Bt?"eye-off":"edit",className:"w-4 h-4"}),Bt?"Hide Editor":"Edit Template"),React.createElement("button",{onClick:()=>{let e=tr();navigator.clipboard.writeText(e),D("encounter-note"),setTimeout(()=>D(""),2e3)},className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors"},React.createElement("i",{"data-lucide":te==="encounter-note"?"check":"copy",className:"w-4 h-4"}),te==="encounter-note"?"Copied!":"Copy Note"))),Bt&&React.createElement("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-4 mb-4"},React.createElement("div",{className:"flex items-center justify-between mb-2"},React.createElement("h5",{className:"font-semibold text-yellow-900"},"Edit Template"),React.createElement("button",{onClick:()=>{confirm("Reset to default template? This will lose any customizations.")&&ya(`Chief complaint: {chiefComplaint}
Last known well (date/time): {lkwDate} {lkwTime}
HPI: {age} year old {sex} p/w {symptoms} at {lkwTime}
Relevant PMH: {pmh}
Medications: {medications}

Objective:
Vitals:
Presenting BP {presentingBP}
Blood pressure: BP prior to TNK administration: {bpPreTNK} at {bpPreTNKTime}
Labs: Glucose {glucose}
Exam: Scores: NIHSS {nihss} - {nihssDetails}

Imaging: I personally reviewed imaging
Date/time Non-contrast Head CT reviewed: {ctTime}; Non-contrast Head CT Results: {ctResults}
Date/time CTA reviewed: {ctaDate} {ctaTime}; CTA Results: {ctaResults}
Telemetry/EKG: {ekgResults}

Assessment and Plan:
Suspected Diagnosis: {diagnosis}
After ensuring that there were no evident contraindications, TNK administration was recommended at {tnkAdminTime}. Potential benefits, potential risks (including a potential risk of sx ICH of up to 4%), and alternatives to treatment were discussed with the patient, patient's wife, and OSH provider. Both the patient and his wife expressed agreement with the recommendation.
TNK was administered at {tnkAdminTime} after a brief time-out.

Recommendations:
{recommendationsText}

Clinician Name`)},className:"text-xs px-2 py-1 bg-yellow-600 text-white rounded hover:bg-yellow-700"},"Reset to Default")),React.createElement("p",{className:"text-xs text-yellow-800 mb-2"},"Use placeholders like ","{chiefComplaint}",", ","{age}",", ","{sex}",", etc. Changes save automatically."),React.createElement("textarea",{value:jt,onChange:e=>ya(e.target.value),className:"w-full h-96 px-3 py-2 border border-yellow-300 rounded-lg font-mono text-xs focus:ring-2 focus:ring-yellow-500 focus:outline-none",spellCheck:"false"})),React.createElement("div",{className:"bg-white p-3 rounded border border-gray-200 max-h-96 overflow-y-auto"},React.createElement("pre",{className:"whitespace-pre-wrap text-xs text-gray-800 font-mono"},tr())))),React.createElement("div",{className:`${ts?"md:col-span-1":"lg:col-span-1"} space-y-4`},(()=>{let e=he();if(!e)return null;let t=e.total,s=t*60,r=4.5-t,i=r*60,o=6-t,n=24-t,d=Math.floor(wa/3600),g=Math.floor(wa%3600/60),v=wa%60,C=()=>t<3?"from-green-500 to-green-600":t<4?"from-yellow-500 to-yellow-600":t<4.5?"from-orange-500 to-orange-600":"from-red-600 to-red-700",K=()=>t<3?"text-green-100":t<4?"text-yellow-100":t<4.5?"text-orange-100":"text-red-100";return React.createElement("div",{className:`bg-white rounded-lg shadow-lg border-2 ${Hr?"border-red-500 alert-flash":"border-blue-400"} lg:sticky lg:top-40 z-30 transition-all duration-300 ${Ae?"p-2":"p-4"}`},React.createElement("div",{className:`flex items-center justify-between ${Ae?"":"mb-3"}`},React.createElement("button",{onClick:()=>Ms(!Ae),className:"font-bold text-lg text-blue-900 flex items-center gap-2 hover:text-blue-700 transition-colors",title:Ae?"Expand timer":"Collapse timer"},React.createElement("i",{"data-lucide":Ae?"chevron-right":"chevron-down",className:"w-4 h-4"}),React.createElement("i",{"data-lucide":"clock",className:"w-5 h-5"}),Ae?React.createElement("span",{className:"text-sm font-mono"},d,"h ",g.toString().padStart(2,"0"),"m"):React.createElement("span",null,"Treatment Windows")),React.createElement("div",{className:"flex items-center gap-1"},React.createElement("button",{onClick:Pi,className:`p-2 rounded-full transition-colors ${Ke?"bg-gray-200 text-gray-500 hover:bg-gray-300":"bg-blue-100 text-blue-600 hover:bg-blue-200"}`,title:Ke?"Unmute alerts":"Mute alerts"},Ke?React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"m11 5-6 6h-4v6h4l6 6v-18z"}),React.createElement("line",{x1:"23",y1:"9",x2:"17",y2:"15"}),React.createElement("line",{x1:"17",y1:"9",x2:"23",y2:"15"})):React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),React.createElement("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"}),React.createElement("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14"}))))),!Ae&&React.createElement(React.Fragment,null,React.createElement("div",{className:`bg-gradient-to-r ${C()} rounded-xl p-4 mb-4 text-white shadow-md ${t>=4&&t<4.5?"urgent-pulse":""}`},React.createElement("div",{className:"text-center"},(()=>{let P=(e==null?void 0:e.label)||"LKW",E=ar(),U=a.lkwUnknown?E?E.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"--:--":p?new Date(p).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"--:--";return React.createElement(React.Fragment,null,React.createElement("p",{className:`text-xs font-medium ${K()} opacity-90 uppercase tracking-wide`},"Time Elapsed from ",P),React.createElement("div",{className:"text-4xl font-mono font-bold mt-1 tracking-tight"},d,"h ",g.toString().padStart(2,"0"),"m ",v.toString().padStart(2,"0"),"s"),React.createElement("p",{className:`text-xs mt-1 ${K()} opacity-75`},P,": ",U))})()),r>0&&React.createElement("div",{className:`mt-3 pt-3 border-t border-white/30 text-center ${i<=30?"urgent-pulse":""}`},React.createElement("p",{className:"text-xs opacity-80 uppercase tracking-wide"},"TNK Window Closes In"),React.createElement("div",{className:`text-2xl font-bold ${i<=15?"text-yellow-200":"text-white"}`},Math.floor(i/60),"h ",Math.floor(i%60),"m"),i<=30&&React.createElement("p",{className:"text-xs text-yellow-200 font-semibold mt-1 animate-pulse"},i<=15?"CRITICAL - Less than 15 min remaining!":"Less than 30 min remaining")),r<=0&&React.createElement("div",{className:"mt-3 pt-3 border-t border-white/30 text-center"},React.createElement("p",{className:"text-lg font-bold text-white/90"},"TNK Window Closed"),React.createElement("p",{className:"text-xs text-white/70"},Math.abs(Math.floor(i/60)),"h ",Math.abs(Math.floor(i%60)),"m ago"))),React.createElement("div",{className:"space-y-3"},React.createElement("div",{className:`p-3 rounded-lg border-2 ${r>1?"bg-green-50 border-green-500":r>0?"bg-yellow-50 border-yellow-500":"bg-gray-50 border-gray-400"} ${r>0&&r<.5?"animate-pulse":""}`},React.createElement("div",{className:"flex items-center justify-between mb-2"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement("span",{className:"font-semibold text-sm"},r>0?"TNK (Thrombolysis)":"TNK Closed")),r>0&&React.createElement("span",{className:`font-bold text-lg ${r<.5?"text-red-600":r<1?"text-yellow-600":"text-green-600"}`},Math.floor(r),"h ",Math.floor(r%1*60),"m left"),r<=0&&React.createElement("span",{className:"text-gray-600 text-xs font-semibold"},"-",Math.floor(Math.abs(r)),"h ",Math.floor(Math.abs(r)%1*60),"m")),React.createElement("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden"},React.createElement("div",{className:`h-2 rounded-full transition-all ${r>1?"bg-green-500":r>0?"bg-yellow-500":"bg-gray-400"}`,style:{width:`${Math.max(0,Math.min(100,t/4.5*100))}%`}})),React.createElement("p",{className:"text-xs mt-1 text-gray-600"},"0-4.5h from LKW")),React.createElement("div",{className:`p-3 rounded-lg border-2 ${o>1?"bg-blue-50 border-blue-500":o>0?"bg-yellow-50 border-yellow-500":"bg-gray-50 border-gray-400"} ${o>0&&o<.5?"animate-pulse":""}`},React.createElement("div",{className:"flex items-center justify-between mb-2"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement("span",{className:"font-semibold text-sm"},o>0?"EVT (Early Window)":"Early EVT Closed")),o>0&&React.createElement("span",{className:`font-bold text-lg ${o<.5?"text-red-600":o<1?"text-yellow-600":"text-blue-600"}`},Math.floor(o),"h ",Math.floor(o%1*60),"m left"),o<=0&&React.createElement("span",{className:"text-gray-600 text-xs font-semibold"},"-",Math.floor(Math.abs(o)),"h ",Math.floor(Math.abs(o)%1*60),"m")),React.createElement("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden"},React.createElement("div",{className:`h-2 rounded-full transition-all ${o>1?"bg-blue-500":o>0?"bg-yellow-500":"bg-gray-400"}`,style:{width:`${Math.max(0,Math.min(100,t/6*100))}%`}})),React.createElement("p",{className:"text-xs mt-1 text-gray-600"},"0-6h from LKW")),t>=6&&React.createElement("div",{className:`p-3 rounded-lg border-2 ${n>0?"bg-purple-50 border-purple-500":"bg-gray-50 border-gray-400"}`},React.createElement("div",{className:"flex items-center justify-between mb-2"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement("span",{className:"font-semibold text-sm"},n>0?"EVT (Extended Window)":"All Windows Closed")),n>0&&React.createElement("span",{className:"font-bold text-lg text-purple-600"},Math.floor(n),"h ",Math.floor(n%1*60),"m left"),n<=0&&React.createElement("span",{className:"text-gray-600 text-xs font-semibold"},"All closed")),React.createElement("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden"},React.createElement("div",{className:`h-2 rounded-full transition-all ${n>0?"bg-purple-500":"bg-gray-400"}`,style:{width:`${Math.max(0,Math.min(100,t/24*100))}%`}})),React.createElement("p",{className:"text-xs mt-1 text-gray-600"},"6-24h (perfusion imaging required)"))),React.createElement("div",{className:"mt-3 pt-3 border-t border-gray-200 flex items-center justify-between text-xs text-gray-500"},React.createElement("span",null,"Alerts: ",Ke?"Muted":"Active",!Ke&&r>0&&r<.5&&" (30m, 15m, 0m)"),At&&React.createElement("span",{className:"text-orange-600 font-medium"},"Last: ",At==="warning-30"?"30m warning":At==="warning-15"?"15m warning":"Window closed"))))})(),xe==="videoTelestroke"&&a.diagnosisCategory&&React.createElement("details",{className:"bg-white border-2 border-indigo-200 rounded-lg shadow-md overflow-hidden"},React.createElement("summary",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 text-white p-3 cursor-pointer hover:from-indigo-600 hover:to-purple-600 transition-colors"},React.createElement("span",{className:"font-bold text-sm flex items-center gap-2"},"\u{1F52C} Clinical Trial Details",React.createElement("span",{className:"text-xs opacity-75"},"(click to expand full descriptions)"))),React.createElement("div",{className:"p-4 space-y-4 max-h-96 overflow-y-auto"},a.diagnosisCategory==="ischemic"&&React.createElement("div",{className:"space-y-3"},React.createElement("h4",{className:"font-bold text-indigo-800 border-b pb-2"},"Active Ischemic Stroke Trials"),React.createElement("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200"},React.createElement("p",{className:"font-semibold text-blue-800"},"SISTER Trial (NCT05948566)"),React.createElement("p",{className:"text-sm text-gray-700"},"TS23 (monoclonal antibody to \u03B12-antiplasmin) for late thrombolysis in acute ischemic stroke patients presenting 4.5-24 hours from last known well. Anterior circulation, NIHSS \u22654, favorable perfusion imaging (mismatch ratio >1.2, core <70cc). No IV thrombolysis or EVT with clot engagement.")),React.createElement("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200"},React.createElement("p",{className:"font-semibold text-blue-800"},"STEP-EVT Trial (NCT06289985)"),React.createElement("p",{className:"text-sm text-gray-700"},"NIH StrokeNet adaptive platform trial optimizing endovascular therapy for mild stroke (NIHSS 0-5 with LVO) and medium/distal vessel occlusions (M2, M3, A1-A3, P1-P3). Within 24 hours, pre-stroke mRS \u22642.")),React.createElement("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200"},React.createElement("p",{className:"font-semibold text-blue-800"},"PICASSO Trial (NCT05611242)"),React.createElement("p",{className:"text-sm text-gray-700"},"Mechanical thrombectomy with vs without acute carotid stenting for tandem lesions. Age 18-79, tandem lesion (carotid stenosis 70-100% + intracranial LVO), within 16 hours, NIHSS \u22654, ASPECTS \u22657.")),React.createElement("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200"},React.createElement("p",{className:"font-semibold text-blue-800"},"TESTED Trial (NCT05911568)"),React.createElement("p",{className:"text-sm text-gray-700"},"EVT vs medical therapy in LVO patients with pre-existing disability (mRS 3-4 for \u22653 months). Within 24 hours, NIHSS \u22656, ASPECTS \u22653. Includes ICA terminus, M1, dominant M2.")),React.createElement("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200"},React.createElement("p",{className:"font-semibold text-green-800"},"VERIFY Study (NCT05338697) - Observational"),React.createElement("p",{className:"text-sm text-gray-700"},"Early TMS/MRI/clinical measures to predict upper extremity motor recovery. Acute ischemic stroke within 7 days with upper extremity weakness. Pre-stroke mRS \u22642. Inpatient enrollment opportunity.")),React.createElement("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200"},React.createElement("p",{className:"font-semibold text-green-800"},"DISCOVERY Study (NCT04916210) - Observational"),React.createElement("p",{className:"text-sm text-gray-700"},"Cognitive trajectories and biomarkers after stroke (includes AIS/ICH/SAH). Baseline visit within 6 weeks, fluent in English/Spanish, needs study partner with regular contact.")),React.createElement("div",{className:"bg-purple-50 p-3 rounded-lg border border-purple-200"},React.createElement("p",{className:"font-semibold text-purple-800"},"ESUS Imaging Study (NCT03820375) - Observational"),React.createElement("p",{className:"text-sm text-gray-700"},"Cardiac and intracranial vessel wall MRI to reclassify ESUS. Within 30 days of index stroke, age \u226518, ESUS diagnosis. Helps identify occult cardioembolic or atherosclerotic sources.")),React.createElement("div",{className:"bg-purple-50 p-3 rounded-lg border border-purple-200"},React.createElement("p",{className:"font-semibold text-purple-800"},"MOCHA Imaging (PMC8821414) - Observational"),React.createElement("p",{className:"text-sm text-gray-700"},"Automated intracranial vessel-wall analysis for non-stenotic ICAD detection. Patients with atherosclerotic risk factors (age >50/60, HTN, DM, hyperlipidemia, obesity, smoking). High-resolution MRI vessel wall imaging required."))),a.diagnosisCategory==="ich"&&React.createElement("div",{className:"space-y-3"},React.createElement("h4",{className:"font-bold text-red-800 border-b pb-2"},"Active ICH Trials"),React.createElement("div",{className:"bg-red-50 p-3 rounded-lg border border-red-200"},React.createElement("p",{className:"font-semibold text-red-800"},"FASTEST Trial (NCT03496883)"),React.createElement("p",{className:"text-sm text-gray-700"},"Recombinant Factor VIIa (rFVIIa) for acute ICH within 2 HOURS of symptom onset to prevent hematoma expansion. Age 18-80, hematoma volume 2-60 mL, IVH score \u22647, GCS \u22658, not on anticoagulation. Very narrow time window.")),React.createElement("div",{className:"bg-red-50 p-3 rounded-lg border border-red-200"},React.createElement("p",{className:"font-semibold text-red-800"},"SATURN Trial (NCT03936361)"),React.createElement("p",{className:"text-sm text-gray-700"},"Statin continuation vs discontinuation after LOBAR ICH. Age \u226550, must already be on statin therapy at ICH onset. Randomization within 7 days. Excludes deep/basal ganglia ICH, recent MI.")),React.createElement("div",{className:"bg-red-50 p-3 rounded-lg border border-red-200"},React.createElement("p",{className:"font-semibold text-red-800"},"ASPIRE Trial (NCT03907046)"),React.createElement("p",{className:"text-sm text-gray-700"},"Apixaban vs aspirin for stroke prevention after ICH in patients with atrial fibrillation. Randomization 14-180 days post-ICH, CHA2DS2-VASc \u22652, mRS \u22644. Excludes mechanical valves, recent DVT/PE.")),React.createElement("div",{className:"bg-orange-50 p-3 rounded-lg border border-orange-200"},React.createElement("p",{className:"font-semibold text-orange-800"},"cAPPricorn-1 Trial (NCT06393712)"),React.createElement("p",{className:"text-sm text-gray-700"},"Intrathecal ALN-APP (mivelsiran) for cerebral amyloid angiopathy. Sporadic CAA (age \u226550, Boston Criteria v2.0) or Dutch-type hereditary CAA (age \u226530, E693Q APP variant). Prior symptomatic lobar ICH \u226590 days ago. Requires lumbar punctures.")),React.createElement("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200"},React.createElement("p",{className:"font-semibold text-green-800"},"MIRROR Registry (NCT04494295) - Observational"),React.createElement("p",{className:"text-sm text-gray-700"},"Minimally invasive endoscopic ICH evacuation using Aurora Surgiscope System. Spontaneous supratentorial ICH \u226520mL, surgery within 24 hours, NIHSS >5, baseline mRS \u22642, GCS \u22655.")),React.createElement("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200"},React.createElement("p",{className:"font-semibold text-green-800"},"DISCOVERY Study - ICH Cohort (NCT04916210) - Observational"),React.createElement("p",{className:"text-sm text-gray-700"},"Cognitive trajectories and biomarkers after ICH. Baseline visit within 6 weeks, fluent in English/Spanish, needs study partner with regular contact. Expected survival \u22651 year.")))),React.createElement("div",{className:"bg-indigo-50 p-2 text-center border-t border-indigo-200"},React.createElement("p",{className:"text-xs text-indigo-700"},"For full eligibility criteria, visit the Trials tab or ClinicalTrials.gov"))),Wr&&React.createElement("details",{className:"bg-white border-2 border-teal-200 rounded-lg shadow-md overflow-hidden"},React.createElement("summary",{className:"bg-gradient-to-r from-teal-500 to-cyan-500 text-white p-3 cursor-pointer hover:from-teal-600 hover:to-cyan-600 transition-colors"},React.createElement("span",{className:"font-bold text-sm flex items-center gap-2"},"\u{1F4CB} Smart Phrases",React.createElement("span",{className:"text-xs opacity-75"},"(click to expand)"))),React.createElement("div",{className:"p-3 space-y-2 max-h-80 overflow-y-auto"},React.createElement("div",{className:"space-y-2 mb-3"},React.createElement("p",{className:"text-xs font-semibold text-gray-600 uppercase"},"From Current Patient"),React.createElement("button",{onClick:()=>{let e=Ei();navigator.clipboard.writeText(e),D("HPI copied!"),setTimeout(()=>D(""),2e3)},className:"w-full p-2 bg-teal-50 hover:bg-teal-100 border border-teal-200 rounded text-left text-xs transition-colors"},React.createElement("span",{className:"font-medium text-teal-700"},"HPI + Assessment"),React.createElement("p",{className:"text-gray-500 truncate"},"Auto-generated from form data")),React.createElement("button",{onClick:()=>{let e=Mi();navigator.clipboard.writeText(e),D("Orders copied!"),setTimeout(()=>D(""),2e3)},className:"w-full p-2 bg-teal-50 hover:bg-teal-100 border border-teal-200 rounded text-left text-xs transition-colors"},React.createElement("span",{className:"font-medium text-teal-700"},"Admission Orders"),React.createElement("p",{className:"text-gray-500 truncate"},"Standard stroke admission order set"))),React.createElement("div",{className:"space-y-2 border-t pt-3"},React.createElement("p",{className:"text-xs font-semibold text-gray-600 uppercase"},"Common Phrases"),[{label:"TNK Eligible",text:"Patient meets criteria for IV thrombolysis. Risks and benefits discussed including ~3% risk of symptomatic ICH, ~40% chance of significant improvement. Patient/family agree to proceed."},{label:"TNK Not Indicated",text:"IV thrombolysis not indicated: [outside window / NIHSS minor and non-disabling / anticoagulation / contraindication]. Will proceed with supportive care and secondary prevention."},{label:"EVT Recommendation",text:"Large vessel occlusion identified. Patient is a candidate for mechanical thrombectomy. Transferred to comprehensive stroke center for endovascular evaluation."},{label:"Stroke Mimic",text:"Clinical presentation initially concerning for acute stroke, however imaging and clinical evaluation more consistent with stroke mimic. Consider: [seizure with Todd paralysis / complex migraine / functional neurological disorder / peripheral etiology]."},{label:"TIA Workup",text:"Transient ischemic attack with complete symptom resolution. ABCD2 score: __. Plan: MRI brain with DWI, vessel imaging, cardiac monitoring, lipid panel, HbA1c. Start dual antiplatelet therapy (aspirin + clopidogrel) for 21 days if no contraindication."},{label:"Wake-up Stroke",text:"Patient with wake-up stroke, symptoms discovered at __ upon awakening. Last known well: __ (prior evening). Will obtain MRI with DWI to assess for DWI-FLAIR mismatch. If favorable mismatch, may be candidate for thrombolysis per WAKE-UP trial criteria."},{label:"Late Window",text:"Patient presenting in extended window (>6 hours). CTP demonstrates favorable perfusion profile with small core and significant penumbra. Meets criteria for EVT consideration per DAWN/DEFUSE-3 extended window protocols."},{label:"Swallow Precautions",text:"NPO until formal swallow evaluation completed by speech therapy. Risk of aspiration pneumonia in acute stroke patients. Will reassess diet orders after evaluation."},{label:"BP Management Post-TNK",text:"Post-thrombolysis BP management: Maintain SBP <180 and DBP <105 for 24 hours. If persistent hypertension, initiate IV labetalol or nicardipine drip. Avoid SBP <100 to maintain cerebral perfusion."},{label:"Secondary Prevention",text:"Secondary stroke prevention initiated: High-intensity statin (atorvastatin 80mg), antiplatelet therapy (aspirin 81mg daily after 24h if received tPA), BP goal optimization, glucose control, smoking cessation counseling, lifestyle modifications discussed."}].map((e,t)=>React.createElement("button",{key:t,onClick:()=>{navigator.clipboard.writeText(e.text),D(`${e.label} copied!`),setTimeout(()=>D(""),2e3)},className:"w-full p-2 bg-gray-50 hover:bg-gray-100 border border-gray-200 rounded text-left text-xs transition-colors"},React.createElement("span",{className:"font-medium text-gray-700"},e.label),React.createElement("p",{className:"text-gray-500 truncate"},e.text.substring(0,60),"..."))))),React.createElement("div",{className:"bg-teal-50 p-2 text-center border-t border-teal-200"},React.createElement("p",{className:"text-xs text-teal-700"},"Click any phrase to copy")))))),React.createElement("div",{id:"handoff-section",className:"bg-white border-2 border-slate-200 rounded-lg p-4 shadow-sm"},React.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-3"},React.createElement("div",null,React.createElement("p",{className:"text-xs uppercase tracking-wide text-slate-500 font-semibold"},"Handoff Summary")),React.createElement("button",{type:"button",onClick:()=>{let e=Zs();navigator.clipboard.writeText(e),D("handoff-summary"),setTimeout(()=>D(""),2e3)},className:"px-3 py-2 bg-slate-900 text-white rounded-lg text-xs font-semibold hover:bg-slate-800"},te==="handoff-summary"?"Copied!":"Copy handoff")),(()=>{let e=Js(),t=[{label:"Dx",value:e.diagnosis},{label:"Age/Sex",value:`${e.age} ${e.sex}`.trim()},{label:e.onsetLabel,value:`${e.onsetTime}${e.elapsed&&e.elapsed!=="Unknown"?` (${e.elapsed})`:""}`},{label:"NIHSS",value:`${e.nihss}${e.nihssDetails?` (${e.nihssDetails})`:""}`},{label:"Imaging",value:e.imagingSummary},{label:"Plan",value:`${e.tnkStatus}; ${e.evtStatus}`}];if(e.disposition&&t.push({label:"Disposition",value:e.disposition}),e.transferStatus||e.transportDetails){let s=[e.transferStatus,e.transportDetails?`Transport: ${e.transportDetails}`:""].filter(Boolean).join(" | ");t.push({label:"Transfer",value:s})}return e.imagingShare&&t.push({label:"Imaging share",value:e.imagingShare}),React.createElement(React.Fragment,null,React.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3"},t.map(s=>React.createElement("div",{key:s.label,className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2"},React.createElement("p",{className:"text-[11px] uppercase tracking-wide text-slate-500"},s.label),React.createElement("p",{className:"text-sm font-semibold text-slate-900"},s.value||"--")))),React.createElement("details",{className:"mt-3 bg-slate-50 border border-slate-200 rounded-lg"},React.createElement("summary",{className:"cursor-pointer px-3 py-2 text-xs font-semibold text-slate-700"},"Full handoff text"),React.createElement("div",{className:"px-3 pb-3"},React.createElement("pre",{className:"whitespace-pre-wrap text-xs text-slate-700"},Zs()))))})()),React.createElement("details",{id:"safety-section",className:"bg-white border border-slate-200 rounded-lg"},React.createElement("summary",{className:"cursor-pointer p-4 font-semibold text-slate-800 hover:bg-slate-50 rounded-lg flex items-center justify-between"},React.createElement("span",null,"Safety checks"),React.createElement("span",{className:"text-xs text-slate-500"},Ki,"/",as.length," complete")),React.createElement("div",{className:"p-4 space-y-4"},React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2"},as.map(e=>React.createElement("div",{key:e.id,className:`flex items-center gap-2 p-2 rounded-lg border ${e.complete?"bg-green-50 border-green-200 text-green-800":"bg-amber-50 border-amber-200 text-amber-800"}`},React.createElement("span",{className:"text-xs font-bold"},e.complete?"\u2713":"!"),React.createElement("span",{className:"text-sm"},e.label)))))),(le||a.diagnosisCategory==="mimic")&&React.createElement("details",{className:"bg-white border border-slate-200 rounded-lg"},React.createElement("summary",{className:"cursor-pointer p-4 font-semibold text-slate-800 hover:bg-slate-50 rounded-lg flex items-center justify-between"},React.createElement("span",null,"Stroke mimic FAQ"),React.createElement("span",{className:"text-xs text-slate-500"},"Quick differentiators")),React.createElement("div",{className:"p-4 space-y-3 text-sm text-slate-700"},[{q:"When should I suspect a mimic?",a:"Rapidly resolving deficits, inconsistent exam, or normal imaging despite severe symptoms."},{q:"Seizure vs stroke?",a:"Consider Todd paralysis if witnessed seizure, postictal confusion, or EEG support."},{q:"Migraine vs stroke?",a:"Positive visual/aura symptoms and headache history favor migraine; deficits often march."},{q:"Metabolic causes?",a:"Check glucose, electrolytes, and intoxication if symptoms are diffuse or fluctuating."},{q:"Functional symptoms?",a:"Look for incongruent weakness patterns, Hoover sign, or variability with distraction."}].map(e=>React.createElement("div",{key:e.q,className:"border border-slate-200 rounded-lg p-3 bg-slate-50"},React.createElement("p",{className:"font-semibold text-slate-800"},e.q),React.createElement("p",{className:"mt-1"},e.a))))),React.createElement("details",{id:"case-log-section",className:"bg-white border border-slate-200 rounded-lg"},React.createElement("summary",{className:"cursor-pointer p-4 font-semibold text-slate-800 hover:bg-slate-50 rounded-lg flex items-center justify-between"},React.createElement("span",null,"Case log & performance"),React.createElement("span",{className:"text-xs text-slate-500"},Ie.length," logged")),React.createElement("div",{className:"p-4 space-y-4"},React.createElement("div",{className:"flex flex-wrap gap-2"},React.createElement("button",{type:"button",onClick:li,className:"px-3 py-2 bg-blue-600 text-white rounded-lg text-xs font-semibold hover:bg-blue-700"},"Save current case"),React.createElement("button",{type:"button",onClick:ci,className:"px-3 py-2 border border-slate-300 rounded-lg text-xs font-semibold text-slate-700 hover:bg-slate-100"},"Export CSV"),React.createElement("button",{type:"button",onClick:()=>di("subset"),className:"px-3 py-2 border border-slate-300 rounded-lg text-xs font-semibold text-slate-700 hover:bg-slate-100"},"Export JSON")),React.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3"},React.createElement("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-3"},React.createElement("p",{className:"text-xs uppercase tracking-wide text-slate-500"},"Total cases"),React.createElement("p",{className:"text-2xl font-bold text-slate-900"},Ie.length)),React.createElement("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-3"},React.createElement("p",{className:"text-xs uppercase tracking-wide text-slate-500"},"Median door-to-CT"),React.createElement("p",{className:"text-2xl font-bold text-slate-900"},st.medians.doorToCT!==null?`${st.medians.doorToCT} min`:"--")),React.createElement("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-3"},React.createElement("p",{className:"text-xs uppercase tracking-wide text-slate-500"},"Median door-to-needle"),React.createElement("p",{className:"text-2xl font-bold text-slate-900"},st.medians.doorToNeedle!==null?`${st.medians.doorToNeedle} min`:"--"))),React.createElement("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-3"},React.createElement("p",{className:"text-xs uppercase tracking-wide text-slate-500 font-semibold mb-2"},"Monthly trend"),(()=>{let e=Object.keys(st.byMonth||{}).sort();if(!e.length)return React.createElement("p",{className:"text-sm text-slate-500"},"No case log data yet.");let t=Math.max(...e.map(s=>st.byMonth[s].total),1);return React.createElement("div",{className:"space-y-2"},e.map(s=>{let r=st.byMonth[s],i=Math.round(r.total/t*100);return React.createElement("div",{key:s,className:"flex items-center gap-2 text-xs text-slate-600"},React.createElement("span",{className:"w-16"},s),React.createElement("div",{className:"flex-1 h-2 bg-slate-200 rounded-full overflow-hidden"},React.createElement("div",{className:"h-2 bg-blue-500 rounded-full",style:{width:`${i}%`}})),React.createElement("span",{className:"w-10 text-right"},r.total))}))})()),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3"},React.createElement("div",{className:"bg-white border border-slate-200 rounded-lg p-3"},React.createElement("p",{className:"text-xs uppercase tracking-wide text-slate-500 font-semibold mb-2"},"Recent cases"),Ie.length===0?React.createElement("p",{className:"text-sm text-slate-500"},"No cases logged yet."):React.createElement("ul",{className:"space-y-2 text-sm text-slate-700"},Ie.slice(0,5).map(e=>React.createElement("li",{key:e.id,className:"flex items-center justify-between gap-2"},React.createElement("span",{className:"font-medium"},e.caseType||"Case"," \u2022 NIHSS ",e.nihss||"--"),React.createElement("span",{className:"text-xs text-slate-500"},e.createdAt?e.createdAt.slice(0,10):""))))),React.createElement("div",{className:"bg-white border border-slate-200 rounded-lg p-3"},React.createElement("p",{className:"text-xs uppercase tracking-wide text-slate-500 font-semibold mb-2"},"Quick add"),React.createElement("div",{className:"space-y-2"},React.createElement("div",{className:"grid grid-cols-2 gap-2"},React.createElement("select",{value:B.caseType,onChange:e=>Xe({...B,caseType:e.target.value}),className:"w-full px-2 py-1.5 border border-slate-300 rounded-lg text-sm"},React.createElement("option",{value:"AIS"},"AIS"),React.createElement("option",{value:"ICH"},"ICH"),React.createElement("option",{value:"TIA"},"TIA"),React.createElement("option",{value:"other"},"Other")),React.createElement("input",{type:"number",value:B.nihss,onChange:e=>Xe({...B,nihss:e.target.value}),placeholder:"NIHSS",className:"w-full px-2 py-1.5 border border-slate-300 rounded-lg text-sm"})),React.createElement("div",{className:"grid grid-cols-2 gap-2"},React.createElement("select",{value:B.thrombolysis,onChange:e=>Xe({...B,thrombolysis:e.target.value}),className:"w-full px-2 py-1.5 border border-slate-300 rounded-lg text-sm"},React.createElement("option",{value:"none"},"No lytics"),React.createElement("option",{value:"TNK"},"TNK"),React.createElement("option",{value:"tPA"},"tPA")),React.createElement("select",{value:B.evt,onChange:e=>Xe({...B,evt:e.target.value}),className:"w-full px-2 py-1.5 border border-slate-300 rounded-lg text-sm"},React.createElement("option",{value:"no"},"EVT: no"),React.createElement("option",{value:"yes"},"EVT: yes"))),React.createElement("input",{type:"text",value:B.tagsText,onChange:e=>Xe({...B,tagsText:e.target.value}),placeholder:"Tags (optional)",className:"w-full px-2 py-1.5 border border-slate-300 rounded-lg text-sm"}),React.createElement("button",{type:"button",onClick:ni,className:"w-full px-3 py-2 bg-slate-900 text-white rounded-lg text-xs font-semibold hover:bg-slate-800"},"Add to case log"))))))),_==="management"&&React.createElement("div",{className:"space-y-6"},React.createElement("div",{className:"bg-white border border-gray-200 rounded-xl p-2 flex flex-wrap gap-2"},[{id:"ich",label:"ICH",icon:"alert-triangle"},{id:"ischemic",label:"Ischemic Stroke",icon:"activity"},{id:"calculators",label:"Calculators",icon:"calculator"},{id:"references",label:"References",icon:"book-open"}].map(e=>{let t=re===e.id;return React.createElement("button",{key:e.id,onClick:()=>ft(e.id),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${t?"bg-blue-600 text-white":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`},React.createElement("i",{"data-lucide":e.icon,className:"w-4 h-4"}),React.createElement("span",null,e.label))})),re==="ich"&&React.createElement("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4"},React.createElement("h2",{className:"text-xl font-semibold text-red-800 mb-4"},"ICH Management"),React.createElement("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6"},React.createElement("h3",{className:"text-lg font-semibold text-blue-800 mb-3"},"Minimally Invasive Evacuation (MIE)"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},React.createElement("div",{className:"bg-white p-3 rounded border"},React.createElement("h4",{className:"font-semibold text-green-600 mb-2"},"ENRICH Trial Inclusion (NCT02880878)"),React.createElement("ul",{className:"text-sm space-y-1"},React.createElement("li",null,"\u2022 Spontaneous supratentorial lobar or basal ganglia ICH"),React.createElement("li",null,"\u2022 ICH onset \u226424 hours"),React.createElement("li",null,"\u2022 Age 18-80 years"),React.createElement("li",null,"\u2022 GCS 5-14 and NIHSS \u22656"),React.createElement("li",null,"\u2022 ICH volume 30-80 cc"),React.createElement("li",null,"\u2022 Pre-morbid mRS 0-1"))),React.createElement("div",{className:"bg-white p-3 rounded border"},React.createElement("h4",{className:"font-semibold text-red-600 mb-2"},"ENRICH Trial Exclusion"),React.createElement("ul",{className:"text-sm space-y-1"},React.createElement("li",null,"\u2022 Coagulopathy"),React.createElement("li",null,"\u2022 IVH >50% either lateral ventricle"),React.createElement("li",null,"\u2022 Thalamic/infratentorial ICH")))),React.createElement("div",{className:"bg-gray-100 p-3 rounded"},React.createElement("p",{className:"text-sm font-semibold mb-2"},"ICH Volume Calculation:"),React.createElement("p",{className:"text-sm"},React.createElement("strong",null,"ABC/2 Method:")),React.createElement("ul",{className:"text-sm ml-4"},React.createElement("li",null,"A = largest ICH diameter (cm)"),React.createElement("li",null,"B = largest diameter 90 degrees to A on same slice (cm)"),React.createElement("li",null,"C = (# CT slices with ICH) x (slice thickness)")),React.createElement("p",{className:"text-sm mt-2 font-semibold"},"Volume = A x B x C / 2"))),React.createElement("div",{className:"mb-6"},React.createElement("h3",{className:"text-lg font-semibold text-red-700 mb-4"},"Anticoagulation Reversal"),React.createElement("div",{className:"bg-white p-4 rounded border mb-4"},React.createElement("h4",{className:"font-semibold text-blue-700 mb-3"},"Warfarin"),React.createElement("ul",{className:"text-sm space-y-1"},React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"Vitamin K:")," 10 mg IV over 20 min"),React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"PCC (KCentra):")," 2000 U IV"))),React.createElement("div",{className:"bg-white p-4 rounded border mb-4"},React.createElement("h4",{className:"font-semibold text-purple-700 mb-3"},"Direct Oral Anticoagulants (DOACs)"),React.createElement("div",{className:"mb-3"},React.createElement("p",{className:"text-sm font-semibold text-gray-700"},"Direct Factor Xa Inhibitors:"),React.createElement("p",{className:"text-sm text-gray-600 mb-2"},"Apixaban, Rivaroxaban, Edoxaban"),React.createElement("ul",{className:"text-sm space-y-1"},React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"PCC (KCentra):")," 50 IU/kg (max 5000 IU)"))),React.createElement("div",null,React.createElement("p",{className:"text-sm font-semibold text-gray-700"},"Direct Thrombin Inhibitor:"),React.createElement("p",{className:"text-sm text-gray-600 mb-2"},"Dabigatran"),React.createElement("ul",{className:"text-sm space-y-1"},React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"Idarucizumab (Praxbind):")," 5g IV (2 x 2.5g)"),React.createElement("li",null,"\u2022 ",React.createElement("strong",null,"If unavailable:")," PCC (KCentra)")))),React.createElement("div",{className:"bg-white p-4 rounded border mb-4"},React.createElement("h4",{className:"font-semibold text-gray-700 mb-3"},"Relative contraindications to PCC/FFP:"),React.createElement("ul",{className:"text-sm space-y-1"},React.createElement("li",null,"\u2022 History of major thrombosis/thromboembolism \u22646 weeks"),React.createElement("li",null,"\u2022 Major surgery \u22646 weeks"),React.createElement("li",null,"\u2022 Known prothrombotic disorder"),React.createElement("li",null,"\u2022 IPH not considered survivable"))))),re==="ischemic"&&React.createElement("div",{className:"space-y-6"},React.createElement("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4"},React.createElement("h3",{className:"text-lg font-semibold text-blue-800 mb-3"},"Blood Pressure Management"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},React.createElement("div",{className:"bg-white p-3 rounded border"},React.createElement("h4",{className:"font-semibold text-green-700 mb-2"},"BP Goals"),React.createElement("ul",{className:"text-sm space-y-1"},React.createElement("li",null,React.createElement("strong",null,"Ischemic stroke:")," SBP <220, DBP <120"),React.createElement("li",null,React.createElement("strong",null,"Before lytics:")," SBP <185, DBP <110"),React.createElement("li",null,React.createElement("strong",null,"After lytics:")," SBP <180, DBP <105"),React.createElement("li",null,React.createElement("strong",null,"After thrombectomy:")," SBP <180, DBP <105"),React.createElement("li",null,React.createElement("strong",null,"ICH:")," SBP <160, DBP <105"))),React.createElement("div",{className:"bg-white p-3 rounded border"},React.createElement("h4",{className:"font-semibold text-blue-700 mb-2"},"Acute Treatment"),React.createElement("ul",{className:"text-sm space-y-1"},React.createElement("li",null,React.createElement("strong",null,"Labetalol:")," 10 mg IV q15min"),React.createElement("li",null,"Increase to 20mg, then 40mg, then 60mg"),React.createElement("li",null,"Max total dose: 300mg in 2 hours"),React.createElement("li",null,React.createElement("strong",null,"Alternative:")," Nicardipine 5 mg/hr IV"),React.createElement("li",null,"Titrate by 2.5 mg/hr q15min"))))),React.createElement("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4"},React.createElement("h3",{className:"text-lg font-semibold text-red-800 mb-3"},"Post-Lytic ICH Protocol"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",{className:"bg-white p-3 rounded border"},React.createElement("h4",{className:"font-semibold mb-2"},"Immediate Actions"),React.createElement("ol",{className:"text-sm space-y-1 list-decimal list-inside"},React.createElement("li",null,"STAT non-contrast CT head"),React.createElement("li",null,"Emergency hemorrhage panel"),React.createElement("li",null,"Type & cross"),React.createElement("li",null,"Notify patient's family"))),React.createElement("div",{className:"bg-white p-3 rounded border"},React.createElement("h4",{className:"font-semibold mb-2"},"Reversal"),React.createElement("ul",{className:"text-sm space-y-1"},React.createElement("li",null,React.createElement("strong",null,"Cryoprecipitate:")," 10 units IV"),React.createElement("li",null,React.createElement("strong",null,"Platelets:")," 6 units IV"),React.createElement("li",null,React.createElement("strong",null,"TXA:")," 1g IV over 10 min"))))),React.createElement("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-4"},React.createElement("h3",{className:"text-lg font-semibold text-yellow-800 mb-3"},"Orolingual Angioedema Protocol"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",{className:"bg-white p-3 rounded border"},React.createElement("h4",{className:"font-semibold text-yellow-700 mb-2"},"Risk Factors"),React.createElement("ul",{className:"text-sm space-y-1"},React.createElement("li",null,"\u2022 ACE inhibitor use"),React.createElement("li",null,"\u2022 Insular cortex involvement"),React.createElement("li",null,"\u2022 Frontal operculum stroke"))),React.createElement("div",{className:"bg-white p-3 rounded border"},React.createElement("h4",{className:"font-semibold text-yellow-700 mb-2"},"Treatment"),React.createElement("ul",{className:"text-sm space-y-1"},React.createElement("li",null,React.createElement("strong",null,"Stop tPA infusion")," if running"),React.createElement("li",null,React.createElement("strong",null,"Methylprednisolone:")," 125 mg IV"),React.createElement("li",null,React.createElement("strong",null,"Diphenhydramine:")," 50 mg IV"),React.createElement("li",null,React.createElement("strong",null,"Ranitidine:")," 50 mg IV"),React.createElement("li",null,React.createElement("strong",null,"Epinephrine:")," 0.1% if severe"),React.createElement("li",null,React.createElement("strong",null,"Consider Berinert:")," 20 IU/kg (C1 esterase inhibitor)"),React.createElement("li",null,React.createElement("strong",null,"Supportive Care"))))))),re==="calculators"&&React.createElement("div",{className:"space-y-4"},(h||a.age)&&React.createElement("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 border-2 border-purple-300 rounded-lg p-4 shadow-md"},React.createElement("div",{className:"flex items-center justify-between mb-2"},React.createElement("h2",{className:"text-lg font-bold text-purple-900 flex items-center gap-2"},"\u{1F52C} Score \u2192 Trial Implications"),a.age&&React.createElement("span",{className:"text-sm text-purple-700"},"Current: ",a.age,a.sex||"?"," | NIHSS ",h||"?")),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm"},h!=null&&React.createElement("div",{className:"bg-white rounded p-3 border"},React.createElement("h3",{className:"font-semibold text-purple-800 mb-2"},"NIHSS = ",h),React.createElement("ul",{className:"space-y-1 text-xs text-gray-700"},h>=6&&React.createElement("li",{className:"text-green-700"},"\u{1F7E2} ",React.createElement("strong",null,"SISTER eligible"),": NIHSS \u22656 threshold met"),h<=5&&React.createElement("li",{className:"text-yellow-700"},"\u{1F7E1} ",React.createElement("strong",null,"STEP mild arm"),": Check for LVO (ICA/M1/basilar)"),h>8&&React.createElement("li",{className:"text-blue-700"},"\u{1F535} ",React.createElement("strong",null,"STEP MeVO arm"),": Check for M2/M3 occlusion"),h<6&&React.createElement("li",{className:"text-gray-600"},"\u26AA SISTER: NIHSS \u22656 required (current: ",h,")"))),(()=>{let e=Ht(y);return e===0?null:React.createElement("div",{className:"bg-white rounded p-3 border"},React.createElement("h3",{className:"font-semibold text-purple-800 mb-2"},"GCS = ",e),React.createElement("ul",{className:"space-y-1 text-xs text-gray-700"},e>=5&&e<=14&&React.createElement("li",{className:"text-blue-700"},"\u{1F535} ",React.createElement("strong",null,"ENRICH range"),": GCS 5-14 for MIE consideration"),e>14&&React.createElement("li",{className:"text-gray-600"},"\u26AA ENRICH: GCS 5-14 required (current: ",e,")"),e<5&&React.createElement("li",{className:"text-gray-600"},"\u26AA GCS too low for most trial eligibility")))})()),React.createElement("p",{className:"text-xs text-purple-600 mt-2 italic"},"\u{1F4A1} These are quick prompts only. Full eligibility requires complete patient assessment.")),React.createElement("details",{className:"bg-gray-50 border border-gray-200 rounded-lg"},React.createElement("summary",{className:"cursor-pointer p-3 font-semibold text-gray-800 hover:bg-gray-100 rounded-lg flex items-center justify-between"},React.createElement("span",null,"Glasgow Coma Scale (GCS)"),React.createElement("span",{className:"text-sm font-normal text-gray-600"},"Score: ",Ht(y))),React.createElement("div",{className:"p-4"},React.createElement("div",{className:"flex justify-end items-center gap-2 mb-3"},React.createElement("div",{className:"text-right"},React.createElement("span",{className:"text-xl font-bold text-gray-600"},"Score: ",Ht(y)),React.createElement("div",{className:"text-xs text-gray-500"},"Range: 3-15")),React.createElement("button",{onClick:()=>ye(`GCS: ${Ht(y)}`,"GCS Score"),className:"p-1.5 hover:bg-gray-100 rounded transition-colors","aria-label":"Copy GCS score to clipboard",title:"Copy to clipboard"},React.createElement("i",{"data-lucide":"copy",className:"w-4 h-4 text-gray-600"}))),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-2"},React.createElement("div",{className:"space-y-2"},React.createElement("h4",{className:"font-semibold"},"Eye Opening"),React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"radio",name:"gcs_eye",value:"4",className:"text-gray-600",checked:y.eye==="4",onChange:e=>q({...y,eye:e.target.value})}),React.createElement("span",{className:"text-sm"},"4 - Spontaneous")),React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"radio",name:"gcs_eye",value:"3",className:"text-gray-600",checked:y.eye==="3",onChange:e=>q({...y,eye:e.target.value})}),React.createElement("span",{className:"text-sm"},"3 - To sound")),React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"radio",name:"gcs_eye",value:"2",className:"text-gray-600",checked:y.eye==="2",onChange:e=>q({...y,eye:e.target.value})}),React.createElement("span",{className:"text-sm"},"2 - To pain")),React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"radio",name:"gcs_eye",value:"1",className:"text-gray-600",checked:y.eye==="1",onChange:e=>q({...y,eye:e.target.value})}),React.createElement("span",{className:"text-sm"},"1 - None"))),React.createElement("div",{className:"space-y-2"},React.createElement("h4",{className:"font-semibold"},"Verbal Response"),React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"radio",name:"gcs_verbal",value:"5",className:"text-gray-600",checked:y.verbal==="5",onChange:e=>q({...y,verbal:e.target.value})}),React.createElement("span",{className:"text-sm"},"5 - Oriented")),React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"radio",name:"gcs_verbal",value:"4",className:"text-gray-600",checked:y.verbal==="4",onChange:e=>q({...y,verbal:e.target.value})}),React.createElement("span",{className:"text-sm"},"4 - Confused")),React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"radio",name:"gcs_verbal",value:"3",className:"text-gray-600",checked:y.verbal==="3",onChange:e=>q({...y,verbal:e.target.value})}),React.createElement("span",{className:"text-sm"},"3 - Inappropriate")),React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"radio",name:"gcs_verbal",value:"2",className:"text-gray-600",checked:y.verbal==="2",onChange:e=>q({...y,verbal:e.target.value})}),React.createElement("span",{className:"text-sm"},"2 - Incomprehensible")),React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"radio",name:"gcs_verbal",value:"1",className:"text-gray-600",checked:y.verbal==="1",onChange:e=>q({...y,verbal:e.target.value})}),React.createElement("span",{className:"text-sm"},"1 - None"))),React.createElement("div",{className:"space-y-2"},React.createElement("h4",{className:"font-semibold"},"Motor Response"),React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"radio",name:"gcs_motor",value:"6",className:"text-gray-600",checked:y.motor==="6",onChange:e=>q({...y,motor:e.target.value})}),React.createElement("span",{className:"text-sm"},"6 - Obeying")),React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"radio",name:"gcs_motor",value:"5",className:"text-gray-600",checked:y.motor==="5",onChange:e=>q({...y,motor:e.target.value})}),React.createElement("span",{className:"text-sm"},"5 - Localizing")),React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"radio",name:"gcs_motor",value:"4",className:"text-gray-600",checked:y.motor==="4",onChange:e=>q({...y,motor:e.target.value})}),React.createElement("span",{className:"text-sm"},"4 - Flexing")),React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"radio",name:"gcs_motor",value:"3",className:"text-gray-600",checked:y.motor==="3",onChange:e=>q({...y,motor:e.target.value})}),React.createElement("span",{className:"text-sm"},"3 - Abnormal flexion")),React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"radio",name:"gcs_motor",value:"2",className:"text-gray-600",checked:y.motor==="2",onChange:e=>q({...y,motor:e.target.value})}),React.createElement("span",{className:"text-sm"},"2 - Extending")),React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"radio",name:"gcs_motor",value:"1",className:"text-gray-600",checked:y.motor==="1",onChange:e=>q({...y,motor:e.target.value})}),React.createElement("span",{className:"text-sm"},"1 - None")))))),React.createElement("details",{className:"bg-red-50 border border-red-200 rounded-lg"},React.createElement("summary",{className:"cursor-pointer p-3 font-semibold text-red-800 hover:bg-red-100 rounded-lg flex items-center justify-between"},React.createElement("span",null,"ICH Score"),React.createElement("span",{className:"text-sm font-normal text-red-600"},"Score: ",sa(T))),React.createElement("div",{className:"p-4"},React.createElement("div",{className:"flex justify-end items-center gap-2 mb-3"},React.createElement("span",{className:"text-xl font-bold text-red-600"},"Score: ",sa(T)),React.createElement("button",{onClick:()=>ye(`ICH Score: ${sa(T)}`,"ICH Score"),className:"p-1.5 hover:bg-red-100 rounded transition-colors","aria-label":"Copy ICH score to clipboard",title:"Copy to clipboard"},React.createElement("i",{"data-lucide":"copy",className:"w-4 h-4 text-red-600"}))),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-2"},React.createElement("div",{className:"space-y-2"},React.createElement("p",{className:"font-semibold text-sm mb-2"},"Glasgow Coma Scale:"),React.createElement("label",{className:"flex items-center space-x-2 cursor-pointer"},React.createElement("input",{type:"radio",name:"ich_gcs",className:"text-red-600",checked:T.gcs==="gcs34",onChange:()=>ue({...T,gcs:"gcs34"})}),React.createElement("span",{className:"text-sm"},"GCS 3-4 (+2 points)")),React.createElement("label",{className:"flex items-center space-x-2 cursor-pointer"},React.createElement("input",{type:"radio",name:"ich_gcs",className:"text-red-600",checked:T.gcs==="gcs512",onChange:()=>ue({...T,gcs:"gcs512"})}),React.createElement("span",{className:"text-sm"},"GCS 5-12 (+1 point)")),React.createElement("label",{className:"flex items-center space-x-2 cursor-pointer"},React.createElement("input",{type:"radio",name:"ich_gcs",className:"text-red-600",checked:T.gcs==="",onChange:()=>ue({...T,gcs:""})}),React.createElement("span",{className:"text-sm"},"GCS 13-15 (0 points)")),React.createElement("hr",{className:"my-3"}),React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"checkbox",className:"text-red-600",checked:T.age80,onChange:e=>ue({...T,age80:e.target.checked})}),React.createElement("span",{className:"text-sm"},"Age \u226580 (+1)"))),React.createElement("div",{className:"space-y-4"},React.createElement("div",{className:"bg-gradient-to-br from-white to-gray-50 p-4 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group"},React.createElement("div",{className:"absolute top-0 right-0 p-2 opacity-10 group-hover:opacity-20 transition-opacity pointer-events-none"},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-blue-500"},React.createElement("path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 4.44-4A2.5 2.5 0 0 1 9.5 2Z"}),React.createElement("path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-4.44-4A2.5 2.5 0 0 0 14.5 2Z"}))),React.createElement("div",{className:"mb-4 relative z-10"},React.createElement("h4",{className:"text-sm font-bold text-gray-700 flex items-center gap-2"},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-blue-500"},React.createElement("rect",{width:"16",height:"20",x:"4",y:"2",rx:"2"}),React.createElement("line",{x1:"8",x2:"16",y1:"6",y2:"6"}),React.createElement("path",{d:"M16 14v4"}),React.createElement("path",{d:"M16 10h.01"}),React.createElement("path",{d:"M12 10h.01"}),React.createElement("path",{d:"M8 10h.01"}),React.createElement("path",{d:"M12 14h.01"}),React.createElement("path",{d:"M8 14h.01"}),React.createElement("path",{d:"M12 18h.01"}),React.createElement("path",{d:"M8 18h.01"})),"ICH Volume Calculator (ABC/2)"),React.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Calculate hematoma volume from CT measurements.")),React.createElement("div",{className:"grid grid-cols-2 gap-4 mb-4 relative z-10"},React.createElement("div",{className:"space-y-1"},React.createElement("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider"},"A: Length"),React.createElement("div",{className:"relative"},React.createElement("input",{type:"number",className:"w-full pl-3 pr-8 py-2 text-sm bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all shadow-sm",placeholder:"0.0",value:$.a,onChange:e=>ea({...$,a:e.target.value})}),React.createElement("span",{className:"absolute right-3 top-2 text-xs text-gray-400 font-medium"},"cm"))),React.createElement("div",{className:"space-y-1"},React.createElement("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider"},"B: Width"),React.createElement("div",{className:"relative"},React.createElement("input",{type:"number",className:"w-full pl-3 pr-8 py-2 text-sm bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all shadow-sm",placeholder:"0.0",value:$.b,onChange:e=>ea({...$,b:e.target.value})}),React.createElement("span",{className:"absolute right-3 top-2 text-xs text-gray-400 font-medium"},"cm")))),React.createElement("div",{className:"grid grid-cols-2 gap-4 mb-4 relative z-10"},React.createElement("div",{className:"space-y-1"},React.createElement("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Slice Thickness"),React.createElement("div",{className:"relative"},React.createElement("input",{type:"number",className:"w-full pl-3 pr-8 py-2 text-sm bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all shadow-sm",placeholder:"e.g. 5",value:$.thicknessMm,onChange:e=>ea({...$,thicknessMm:e.target.value})}),React.createElement("span",{className:"absolute right-3 top-2 text-xs text-gray-400 font-medium"},"mm"))),React.createElement("div",{className:"space-y-1"},React.createElement("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider"},"# Slices"),React.createElement("div",{className:"relative"},React.createElement("input",{type:"number",className:"w-full pl-3 pr-8 py-2 text-sm bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all shadow-sm",placeholder:"0",value:$.numSlices,onChange:e=>ea({...$,numSlices:e.target.value})}),React.createElement("span",{className:"absolute right-3 top-2 text-xs text-gray-400 font-medium"},"#")))),React.createElement("div",{className:`mt-4 pt-3 border-t border-dashed border-gray-200 flex justify-between items-center transition-all duration-300 ${$.a&&$.b&&$.thicknessMm&&$.numSlices?"opacity-100":"opacity-50"}`},React.createElement("span",{className:"text-xs font-medium text-gray-500"},"Calculated Volume"),React.createElement("div",{className:"flex items-baseline gap-1"},React.createElement("span",{className:"text-2xl font-bold text-blue-600"},$.a&&$.b&&$.thicknessMm&&$.numSlices?(parseFloat($.a)*parseFloat($.b)*(parseFloat($.thicknessMm)/10*parseFloat($.numSlices))/2).toFixed(1):"0.0"),React.createElement("span",{className:"text-sm font-medium text-blue-400"},"cc")))),React.createElement("div",{className:"space-y-3 pl-1"},React.createElement("label",{className:"flex items-center space-x-3 cursor-pointer group"},React.createElement("div",{className:`w-5 h-5 rounded border flex items-center justify-center transition-colors ${T.volume30?"bg-red-500 border-red-500":"bg-white border-gray-300 group-hover:border-red-400"}`},T.volume30&&React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-white"},React.createElement("polyline",{points:"20 6 9 17 4 12"}))),React.createElement("input",{type:"checkbox",className:"sr-only",checked:T.volume30,onChange:e=>ue({...T,volume30:e.target.checked})}),React.createElement("span",{className:`text-sm ${T.volume30?"font-medium text-gray-900":"text-gray-600"}`},"ICH volume \u226530 cc (+1)")),React.createElement("label",{className:"flex items-center space-x-3 cursor-pointer group"},React.createElement("div",{className:`w-5 h-5 rounded border flex items-center justify-center transition-colors ${T.ivh?"bg-red-500 border-red-500":"bg-white border-gray-300 group-hover:border-red-400"}`},T.ivh&&React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-white"},React.createElement("polyline",{points:"20 6 9 17 4 12"}))),React.createElement("input",{type:"checkbox",className:"sr-only",checked:T.ivh,onChange:e=>ue({...T,ivh:e.target.checked})}),React.createElement("span",{className:`text-sm ${T.ivh?"font-medium text-gray-900":"text-gray-600"}`},"Intraventricular hemorrhage (+1)")),React.createElement("label",{className:"flex items-center space-x-3 cursor-pointer group"},React.createElement("div",{className:`w-5 h-5 rounded border flex items-center justify-center transition-colors ${T.infratentorial?"bg-red-500 border-red-500":"bg-white border-gray-300 group-hover:border-red-400"}`},T.infratentorial&&React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-white"},React.createElement("polyline",{points:"20 6 9 17 4 12"}))),React.createElement("input",{type:"checkbox",className:"sr-only",checked:T.infratentorial,onChange:e=>ue({...T,infratentorial:e.target.checked})}),React.createElement("span",{className:`text-sm ${T.infratentorial?"font-medium text-gray-900":"text-gray-600"}`},"Infratentorial origin (+1)"))))))),React.createElement("details",{className:"bg-gray-50 border border-gray-200 rounded-lg"},React.createElement("summary",{className:"cursor-pointer p-3 font-semibold text-gray-800 hover:bg-gray-100 rounded-lg flex items-center justify-between"},React.createElement("span",null,"Modified Rankin Scale (mRS)"),React.createElement("span",{className:"text-sm font-normal text-gray-600"},"Score: ",R||"Not Selected")),React.createElement("div",{className:"p-4"},React.createElement("div",{className:"flex justify-end items-center gap-2 mb-3"},React.createElement("div",{className:"text-right"},React.createElement("span",{className:"text-xl font-bold text-gray-600"},"Score: ",R||"Not Selected"),React.createElement("div",{className:"text-xs text-gray-500"},"Range: 0-6")),R&&React.createElement("button",{onClick:()=>ye(`mRS: ${R}`,"mRS Score"),className:"p-1.5 hover:bg-gray-100 rounded transition-colors","aria-label":"Copy mRS score to clipboard",title:"Copy to clipboard"},React.createElement("i",{"data-lucide":"copy",className:"w-4 h-4 text-gray-600"}))),React.createElement("div",{className:"space-y-2"},React.createElement("label",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-gray-200 hover:bg-gray-50 cursor-pointer"},React.createElement("input",{type:"radio",name:"mrs",value:"0",checked:R==="0",onChange:e=>me(e.target.value),className:"mt-1 text-blue-600"}),React.createElement("div",{className:"flex-1"},React.createElement("div",{className:"font-semibold text-gray-900"},"0 - No symptoms"),React.createElement("div",{className:"text-sm text-gray-600"},"Completely recovered; no residual symptoms"))),React.createElement("label",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-gray-200 hover:bg-gray-50 cursor-pointer"},React.createElement("input",{type:"radio",name:"mrs",value:"1",checked:R==="1",onChange:e=>me(e.target.value),className:"mt-1 text-blue-600"}),React.createElement("div",{className:"flex-1"},React.createElement("div",{className:"font-semibold text-gray-900"},"1 - No significant disability"),React.createElement("div",{className:"text-sm text-gray-600"},"Able to carry out all usual duties and activities despite some symptoms"))),React.createElement("label",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-gray-200 hover:bg-gray-50 cursor-pointer"},React.createElement("input",{type:"radio",name:"mrs",value:"2",checked:R==="2",onChange:e=>me(e.target.value),className:"mt-1 text-blue-600"}),React.createElement("div",{className:"flex-1"},React.createElement("div",{className:"font-semibold text-gray-900"},"2 - Slight disability"),React.createElement("div",{className:"text-sm text-gray-600"},"Unable to carry out all previous activities but able to look after own affairs without assistance"))),React.createElement("label",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-gray-200 hover:bg-gray-50 cursor-pointer"},React.createElement("input",{type:"radio",name:"mrs",value:"3",checked:R==="3",onChange:e=>me(e.target.value),className:"mt-1 text-blue-600"}),React.createElement("div",{className:"flex-1"},React.createElement("div",{className:"font-semibold text-gray-900"},"3 - Moderate disability"),React.createElement("div",{className:"text-sm text-gray-600"},"Requires some help, but able to walk without assistance"))),React.createElement("label",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-gray-200 hover:bg-gray-50 cursor-pointer"},React.createElement("input",{type:"radio",name:"mrs",value:"4",checked:R==="4",onChange:e=>me(e.target.value),className:"mt-1 text-blue-600"}),React.createElement("div",{className:"flex-1"},React.createElement("div",{className:"font-semibold text-gray-900"},"4 - Moderately severe disability"),React.createElement("div",{className:"text-sm text-gray-600"},"Unable to walk without assistance and unable to attend to own bodily needs without assistance"))),React.createElement("label",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-gray-200 hover:bg-gray-50 cursor-pointer"},React.createElement("input",{type:"radio",name:"mrs",value:"5",checked:R==="5",onChange:e=>me(e.target.value),className:"mt-1 text-blue-600"}),React.createElement("div",{className:"flex-1"},React.createElement("div",{className:"font-semibold text-gray-900"},"5 - Severe disability"),React.createElement("div",{className:"text-sm text-gray-600"},"Bedridden, incontinent, and requires constant nursing care and attention"))),React.createElement("label",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-gray-200 hover:bg-gray-50 cursor-pointer"},React.createElement("input",{type:"radio",name:"mrs",value:"6",checked:R==="6",onChange:e=>me(e.target.value),className:"mt-1 text-blue-600"}),React.createElement("div",{className:"flex-1"},React.createElement("div",{className:"font-semibold text-gray-900"},"6 - Dead")))),R&&React.createElement("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200"},React.createElement("p",{className:"text-sm font-semibold text-blue-900 mb-1"},"Clinical Interpretation:"),React.createElement("p",{className:"text-sm text-blue-800"},R==="0"&&"Excellent outcome - Complete recovery with no residual deficits",R==="1"&&"Good outcome - Minor symptoms that do not interfere with lifestyle",R==="2"&&"Fair outcome - Some restriction in lifestyle but retains capacity for independent living",R==="3"&&"Moderate outcome - Significant lifestyle restriction; requires some assistance",R==="4"&&"Moderately severe outcome - Clearly dependent; requires assistance with basic activities",R==="5"&&"Severe outcome - Totally dependent; requires constant care",R==="6"&&"Death")))),React.createElement("details",{className:"bg-orange-50 border border-orange-200 rounded-lg"},React.createElement("summary",{className:"cursor-pointer p-3 font-semibold text-orange-800 hover:bg-orange-100 rounded-lg flex items-center justify-between"},React.createElement("span",null,"ABCD\xB2 Score"),React.createElement("span",{className:"text-sm font-normal text-orange-600"},"Score: ",Ua(V))),React.createElement("div",{className:"p-4"},React.createElement("div",{className:"flex justify-end items-center gap-2 mb-3"},React.createElement("span",{className:"text-xl font-bold text-orange-600"},"Score: ",Ua(V)),React.createElement("button",{onClick:()=>ye(`ABCD\xB2 Score: ${Ua(V)}`,"ABCD\xB2 Score"),className:"p-1.5 hover:bg-orange-100 rounded transition-colors","aria-label":"Copy ABCD\xB2 score to clipboard",title:"Copy to clipboard"},React.createElement("i",{"data-lucide":"copy",className:"w-4 h-4 text-orange-600"}))),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-2"},React.createElement("div",{className:"space-y-2"},React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"checkbox",className:"text-orange-600",checked:V.age60,onChange:e=>pe({...V,age60:e.target.checked})}),React.createElement("span",{className:"text-sm"},"Age \u226560 (+1)")),React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"checkbox",className:"text-orange-600",checked:V.bp,onChange:e=>pe({...V,bp:e.target.checked})}),React.createElement("span",{className:"text-sm"},"BP: SBP\u2265140 or DBP\u226590 (+1)")),React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"checkbox",className:"text-orange-600",checked:V.unilateralWeakness,onChange:e=>pe({...V,unilateralWeakness:e.target.checked})}),React.createElement("span",{className:"text-sm"},"Unilateral weakness (+2)"))),React.createElement("div",{className:"space-y-2"},React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"checkbox",className:"text-orange-600",checked:V.speechDisturbance,onChange:e=>pe({...V,speechDisturbance:e.target.checked})}),React.createElement("span",{className:"text-sm"},"Speech disturbance w/o weakness (+1)")),React.createElement("p",{className:"font-semibold text-sm mt-3 mb-2"},"Symptom Duration:"),React.createElement("label",{className:"flex items-center space-x-2 cursor-pointer"},React.createElement("input",{type:"radio",name:"abcd2_duration",className:"text-orange-600",checked:V.duration==="duration60",onChange:()=>pe({...V,duration:"duration60"})}),React.createElement("span",{className:"text-sm"},"\u226560 minutes (+2 points)")),React.createElement("label",{className:"flex items-center space-x-2 cursor-pointer"},React.createElement("input",{type:"radio",name:"abcd2_duration",className:"text-orange-600",checked:V.duration==="duration10",onChange:()=>pe({...V,duration:"duration10"})}),React.createElement("span",{className:"text-sm"},"10-59 minutes (+1 point)")),React.createElement("label",{className:"flex items-center space-x-2 cursor-pointer"},React.createElement("input",{type:"radio",name:"abcd2_duration",className:"text-orange-600",checked:V.duration==="",onChange:()=>pe({...V,duration:""})}),React.createElement("span",{className:"text-sm"},"<10 minutes (0 points)")),React.createElement("hr",{className:"my-3"}),React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"checkbox",className:"text-orange-600",checked:V.diabetes,onChange:e=>pe({...V,diabetes:e.target.checked})}),React.createElement("span",{className:"text-sm"},"Diabetes mellitus (+1)")))),React.createElement("div",{className:"bg-white p-3 rounded border"},React.createElement("h4",{className:"font-semibold mb-2"},"2-Day, 7-Day, and 90-Day Stroke Risk"),React.createElement("div",{className:"grid grid-cols-3 gap-4 text-sm"},React.createElement("div",null,React.createElement("p",null,React.createElement("strong",null,"0-3:")),React.createElement("p",null,"2-day: 1%"),React.createElement("p",null,"7-day: 1.2%"),React.createElement("p",null,"90-day: 3.1%")),React.createElement("div",null,React.createElement("p",null,React.createElement("strong",null,"4-5:")),React.createElement("p",null,"2-day: 4.1%"),React.createElement("p",null,"7-day: 5.9%"),React.createElement("p",null,"90-day: 9.8%")),React.createElement("div",null,React.createElement("p",null,React.createElement("strong",null,"6-7:")),React.createElement("p",null,"2-day: 8.1%"),React.createElement("p",null,"7-day: 11.7%"),React.createElement("p",null,"90-day: 17.8%")))))),React.createElement("details",{className:"bg-purple-50 border border-purple-200 rounded-lg"},React.createElement("summary",{className:"cursor-pointer p-3 font-semibold text-purple-800 hover:bg-purple-100 rounded-lg flex items-center justify-between"},React.createElement("span",null,"CHA\u2082DS\u2082-VASc Score"),React.createElement("span",{className:"text-sm font-normal text-purple-600"},"Score: ",Wa(F))),React.createElement("div",{className:"p-4"},React.createElement("div",{className:"flex justify-end items-center gap-2 mb-3"},React.createElement("span",{className:"text-xl font-bold text-purple-600"},"Score: ",Wa(F)),React.createElement("button",{onClick:()=>ye(`CHADS\u2082-VASc: ${Wa(F)}`,"CHADS\u2082-VASc Score"),className:"p-1.5 hover:bg-purple-100 rounded transition-colors","aria-label":"Copy CHADS\u2082-VASc score to clipboard",title:"Copy to clipboard"},React.createElement("i",{"data-lucide":"copy",className:"w-4 h-4 text-purple-600"}))),React.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-2"},React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"checkbox",className:"text-purple-600",checked:F.age65,onChange:e=>ge({...F,age65:e.target.checked})}),React.createElement("span",{className:"text-sm"},"Age 65-74 (+1)")),React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"checkbox",className:"text-purple-600",checked:F.age75,onChange:e=>ge({...F,age75:e.target.checked})}),React.createElement("span",{className:"text-sm"},"Age \u226575 (+2)")),React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"checkbox",className:"text-purple-600",checked:F.chf,onChange:e=>ge({...F,chf:e.target.checked})}),React.createElement("span",{className:"text-sm"},"CHF (+1)")),React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"checkbox",className:"text-purple-600",checked:F.hypertension,onChange:e=>ge({...F,hypertension:e.target.checked})}),React.createElement("span",{className:"text-sm"},"Hypertension (+1)")),React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"checkbox",className:"text-purple-600",checked:F.diabetes,onChange:e=>ge({...F,diabetes:e.target.checked})}),React.createElement("span",{className:"text-sm"},"Diabetes (+1)")),React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"checkbox",className:"text-purple-600",checked:F.strokeTia,onChange:e=>ge({...F,strokeTia:e.target.checked})}),React.createElement("span",{className:"text-sm"},"Stroke/TIA (+2)")),React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"checkbox",className:"text-purple-600",checked:F.vascular,onChange:e=>ge({...F,vascular:e.target.checked})}),React.createElement("span",{className:"text-sm"},"Vascular disease (+1)")),React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"checkbox",className:"text-purple-600",checked:F.female,onChange:e=>ge({...F,female:e.target.checked})}),React.createElement("span",{className:"text-sm"},"Female sex (+1)"))),React.createElement("div",{className:"bg-white p-3 rounded border"},React.createElement("h4",{className:"font-semibold mb-2"},"Annual Stroke and Thromboembolism Risk"),React.createElement("div",{className:"grid grid-cols-3 gap-4 text-sm"},React.createElement("div",null,React.createElement("p",null,React.createElement("strong",null,"Score 0:")," 0.8%"),React.createElement("p",null,React.createElement("strong",null,"Score 1:")," 2.0%"),React.createElement("p",null,React.createElement("strong",null,"Score 2:")," 3.7%")),React.createElement("div",null,React.createElement("p",null,React.createElement("strong",null,"Score 3:")," 5.9%"),React.createElement("p",null,React.createElement("strong",null,"Score 4:")," 9.3%"),React.createElement("p",null,React.createElement("strong",null,"Score 5:")," 15.3%")),React.createElement("div",null,React.createElement("p",null,React.createElement("strong",null,"Score 6:")," 19.7%"),React.createElement("p",null,React.createElement("strong",null,"Score 7:")," 21.5%"),React.createElement("p",null,React.createElement("strong",null,"Score 8:")," 22.4%"),React.createElement("p",null,React.createElement("strong",null,"Score 9:")," 23.6%")))))),React.createElement("details",{className:"bg-pink-50 border border-pink-200 rounded-lg"},React.createElement("summary",{className:"cursor-pointer p-3 font-semibold text-pink-800 hover:bg-pink-100 rounded-lg flex items-center justify-between"},React.createElement("span",null,"HAS-BLED Score"),React.createElement("span",{className:"text-sm font-normal text-pink-600"},"Score: ",Ze(I))),React.createElement("div",{className:"p-4"},React.createElement("div",{className:"flex justify-end items-center gap-2 mb-3"},React.createElement("span",{className:"text-xl font-bold text-pink-600"},"Score: ",Ze(I)),React.createElement("button",{onClick:()=>ye(`HAS-BLED: ${Ze(I)}`,"HAS-BLED Score"),className:"p-1.5 hover:bg-pink-100 rounded transition-colors","aria-label":"Copy HAS-BLED score to clipboard",title:"Copy to clipboard"},React.createElement("i",{"data-lucide":"copy",className:"w-4 h-4 text-pink-600"}))),React.createElement("div",{className:"space-y-2 mb-4"},React.createElement("label",{className:"flex items-center space-x-2 p-2 hover:bg-pink-50 rounded cursor-pointer"},React.createElement("input",{type:"checkbox",className:"text-pink-600",checked:I.hypertension,onChange:e=>ie({...I,hypertension:e.target.checked})}),React.createElement("span",{className:"text-sm"},React.createElement("strong",null,"H"),"ypertension (uncontrolled SBP >160) (+1)")),React.createElement("label",{className:"flex items-center space-x-2 p-2 hover:bg-pink-50 rounded cursor-pointer"},React.createElement("input",{type:"checkbox",className:"text-pink-600",checked:I.renalDisease,onChange:e=>ie({...I,renalDisease:e.target.checked})}),React.createElement("span",{className:"text-sm"},React.createElement("strong",null,"A"),"bnormal renal function (dialysis, transplant, Cr >2.6) (+1)")),React.createElement("label",{className:"flex items-center space-x-2 p-2 hover:bg-pink-50 rounded cursor-pointer"},React.createElement("input",{type:"checkbox",className:"text-pink-600",checked:I.liverDisease,onChange:e=>ie({...I,liverDisease:e.target.checked})}),React.createElement("span",{className:"text-sm"},React.createElement("strong",null,"A"),"bnormal liver function (cirrhosis, bilirubin >2x, AST/ALT >3x) (+1)")),React.createElement("label",{className:"flex items-center space-x-2 p-2 hover:bg-pink-50 rounded cursor-pointer"},React.createElement("input",{type:"checkbox",className:"text-pink-600",checked:I.stroke,onChange:e=>ie({...I,stroke:e.target.checked})}),React.createElement("span",{className:"text-sm"},React.createElement("strong",null,"S"),"troke history (+1)")),React.createElement("label",{className:"flex items-center space-x-2 p-2 hover:bg-pink-50 rounded cursor-pointer"},React.createElement("input",{type:"checkbox",className:"text-pink-600",checked:I.bleeding,onChange:e=>ie({...I,bleeding:e.target.checked})}),React.createElement("span",{className:"text-sm"},React.createElement("strong",null,"B"),"leeding history or predisposition (+1)")),React.createElement("label",{className:"flex items-center space-x-2 p-2 hover:bg-pink-50 rounded cursor-pointer"},React.createElement("input",{type:"checkbox",className:"text-pink-600",checked:I.labileINR,onChange:e=>ie({...I,labileINR:e.target.checked})}),React.createElement("span",{className:"text-sm"},React.createElement("strong",null,"L"),"abile INR (TTR <60%) (+1)")),React.createElement("label",{className:"flex items-center space-x-2 p-2 hover:bg-pink-50 rounded cursor-pointer"},React.createElement("input",{type:"checkbox",className:"text-pink-600",checked:I.elderly,onChange:e=>ie({...I,elderly:e.target.checked})}),React.createElement("span",{className:"text-sm"},React.createElement("strong",null,"E"),"lderly (age >65) (+1)")),React.createElement("label",{className:"flex items-center space-x-2 p-2 hover:bg-pink-50 rounded cursor-pointer"},React.createElement("input",{type:"checkbox",className:"text-pink-600",checked:I.drugs,onChange:e=>ie({...I,drugs:e.target.checked})}),React.createElement("span",{className:"text-sm"},React.createElement("strong",null,"D"),"rugs (antiplatelet agents, NSAIDs) (+1)")),React.createElement("label",{className:"flex items-center space-x-2 p-2 hover:bg-pink-50 rounded cursor-pointer"},React.createElement("input",{type:"checkbox",className:"text-pink-600",checked:I.alcohol,onChange:e=>ie({...I,alcohol:e.target.checked})}),React.createElement("span",{className:"text-sm"},React.createElement("strong",null,"D")," (cont.) Alcohol use (\u22658 drinks/week) (+1)"))),React.createElement("div",{className:"bg-white p-3 rounded border"},React.createElement("h4",{className:"font-semibold text-pink-700 mb-2"},"Annual Bleeding Risk"),React.createElement("div",{className:"text-sm space-y-1"},React.createElement("p",{className:Ze(I)===0?"font-bold text-pink-600":""},React.createElement("strong",null,"Score 0:")," 1.13% per year"),React.createElement("p",{className:Ze(I)===1?"font-bold text-pink-600":""},React.createElement("strong",null,"Score 1:")," 1.02% per year"),React.createElement("p",{className:Ze(I)===2?"font-bold text-pink-600":""},React.createElement("strong",null,"Score 2:")," 1.88% per year"),React.createElement("p",{className:Ze(I)>=3?"font-bold text-pink-600":""},React.createElement("strong",null,"Score \u22653:")," 3.74% per year (high risk)")),React.createElement("p",{className:"text-xs text-gray-600 mt-2 italic"},"High risk (\u22653) indicates need for more frequent monitoring and caution with anticoagulation, but should not automatically exclude from treatment.")))),React.createElement("details",{className:"bg-teal-50 border border-teal-200 rounded-lg"},React.createElement("summary",{className:"cursor-pointer p-3 font-semibold text-teal-800 hover:bg-teal-100 rounded-lg flex items-center justify-between"},React.createElement("span",null,"ROPE Score and PASCAL Classification"),React.createElement("span",{className:"text-sm font-normal text-teal-600"},"Score: ",Q(S))),React.createElement("div",{className:"p-4"},React.createElement("div",{className:"flex justify-end items-center gap-2 mb-3"},React.createElement("span",{className:"text-xl font-bold text-teal-600"},"Score: ",Q(S)),React.createElement("button",{onClick:()=>ye(`ROPE Score: ${Q(S)}`,"ROPE Score"),className:"p-1.5 hover:bg-teal-100 rounded transition-colors","aria-label":"Copy ROPE score to clipboard",title:"Copy to clipboard"},React.createElement("i",{"data-lucide":"copy",className:"w-4 h-4 text-teal-600"}))),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-2"},React.createElement("div",{className:"space-y-2"},React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"checkbox",className:"text-teal-600",checked:S.noHypertension,onChange:e=>De({...S,noHypertension:e.target.checked})}),React.createElement("span",{className:"text-sm"},"No history of hypertension (+1)")),React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"checkbox",className:"text-teal-600",checked:S.noDiabetes,onChange:e=>De({...S,noDiabetes:e.target.checked})}),React.createElement("span",{className:"text-sm"},"No history of diabetes (+1)")),React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"checkbox",className:"text-teal-600",checked:S.noStrokeTia,onChange:e=>De({...S,noStrokeTia:e.target.checked})}),React.createElement("span",{className:"text-sm"},"No history of stroke or TIA (+1)"))),React.createElement("div",{className:"space-y-2"},React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"checkbox",className:"text-teal-600",checked:S.nonsmoker,onChange:e=>De({...S,nonsmoker:e.target.checked})}),React.createElement("span",{className:"text-sm"},"Nonsmoker (+1)")),React.createElement("label",{className:"flex items-center space-x-2"},React.createElement("input",{type:"checkbox",className:"text-teal-600",checked:S.cortical,onChange:e=>De({...S,cortical:e.target.checked})}),React.createElement("span",{className:"text-sm"},"Cortical infarct (+1)")),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Age (years)"),React.createElement("input",{type:"number",className:"w-full px-3 py-1 border border-gray-300 rounded-md text-sm",value:S.age,onChange:e=>De({...S,age:e.target.value}),placeholder:"Enter age",min:"18",max:"100"}),React.createElement("div",{className:"text-xs text-gray-500 mt-1"},"18-29: +5, 30-39: +4, 40-49: +3, 50-59: +2, 60-69: +1, \u226570: 0")))),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",{className:"bg-white p-3 rounded border"},React.createElement("h4",{className:"font-semibold mb-2"},"PFO-attributable fraction"),React.createElement("div",{className:"text-sm"},React.createElement("p",{className:Q(S)<=3?"font-bold text-teal-600":""},React.createElement("strong",null,"Score 0-3:")," 0-23%"),React.createElement("p",{className:Q(S)===4?"font-bold text-teal-600":""},React.createElement("strong",null,"Score 4:")," 38%"),React.createElement("p",{className:Q(S)===5?"font-bold text-teal-600":""},React.createElement("strong",null,"Score 5:")," 34%"),React.createElement("p",{className:Q(S)===6?"font-bold text-teal-600":""},React.createElement("strong",null,"Score 6:")," 62%"),React.createElement("p",{className:Q(S)===7?"font-bold text-teal-600":""},React.createElement("strong",null,"Score 7:")," 72%"),React.createElement("p",{className:Q(S)===8?"font-bold text-teal-600":""},React.createElement("strong",null,"Score 8:")," 84%"),React.createElement("p",{className:Q(S)>=9?"font-bold text-teal-600":""},React.createElement("strong",null,"Score 9-10:")," 88%"))),React.createElement("div",{className:"bg-white p-3 rounded border"},React.createElement("h4",{className:"font-semibold mb-2"},"2-Year Recurrent Stroke/TIA Risk"),React.createElement("div",{className:"text-sm"},React.createElement("p",{className:Q(S)<=3?"font-bold text-teal-600":""},React.createElement("strong",null,"Score 0-3:")," 20%"),React.createElement("p",{className:Q(S)===4?"font-bold text-teal-600":""},React.createElement("strong",null,"Score 4:")," 12%"),React.createElement("p",{className:Q(S)===5?"font-bold text-teal-600":""},React.createElement("strong",null,"Score 5:")," 15%"),React.createElement("p",{className:Q(S)===6?"font-bold text-teal-600":""},React.createElement("strong",null,"Score 6:")," 8%"),React.createElement("p",{className:Q(S)===7?"font-bold text-teal-600":""},React.createElement("strong",null,"Score 7:")," 6%"),React.createElement("p",{className:Q(S)===8?"font-bold text-teal-600":""},React.createElement("strong",null,"Score 8:")," 6%"),React.createElement("p",{className:Q(S)>=9?"font-bold text-teal-600":""},React.createElement("strong",null,"Score 9-10:")," 2%"))))),React.createElement("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4"},React.createElement("h3",{className:"text-lg font-semibold text-indigo-800 mb-3"},"PASCAL Classification"),React.createElement("div",{className:"space-y-4"},React.createElement("div",{className:"bg-white p-3 rounded border"},React.createElement("h4",{className:"font-semibold text-green-700 mb-2"},"Probable PFO-related stroke:"),React.createElement("p",{className:"text-sm"},"RoPE \u22657 + high-grade shunt / ASA")),React.createElement("div",{className:"bg-white p-3 rounded border"},React.createElement("h4",{className:"font-semibold text-amber-700 mb-2"},"Possible PFO-related stroke:"),React.createElement("ul",{className:"text-sm space-y-1"},React.createElement("li",null,"\u2022 RoPE <7 + high-grade shunt / ASA"),React.createElement("li",null,"\u2022 RoPE \u22657 but no high-grade shunt / ASA"))),React.createElement("div",{className:"bg-white p-3 rounded border"},React.createElement("h4",{className:"font-semibold text-red-700 mb-2"},"Unlikely PFO-related stroke:"),React.createElement("p",{className:"text-sm"},"RoPE <7, no high-grade shunt / ASA"))))),React.createElement("details",{className:"bg-cyan-50 border border-cyan-200 rounded-lg"},React.createElement("summary",{className:"cursor-pointer p-3 font-semibold text-cyan-800 hover:bg-cyan-100 rounded-lg flex items-center justify-between"},React.createElement("span",null,"RCVS\xB2 Score"),React.createElement("span",{className:"text-sm font-normal text-cyan-600"},"Score: ",et(G))),React.createElement("div",{className:"p-4"},React.createElement("div",{className:"flex justify-end items-center gap-2 mb-3"},React.createElement("span",{className:"text-xl font-bold text-cyan-600"},"Score: ",et(G)),React.createElement("button",{onClick:()=>ye(`RCVS\xB2 Score: ${et(G)}`,"RCVS\xB2 Score"),className:"p-1.5 hover:bg-cyan-100 rounded transition-colors","aria-label":"Copy RCVS\xB2 score to clipboard",title:"Copy to clipboard"},React.createElement("i",{"data-lucide":"copy",className:"w-4 h-4 text-cyan-600"}))),React.createElement("div",{className:"space-y-2 mb-4"},React.createElement("label",{className:"flex items-center space-x-2 p-2 hover:bg-cyan-50 rounded cursor-pointer"},React.createElement("input",{type:"checkbox",className:"text-cyan-600",checked:G.recurrentTCH,onChange:e=>_e({...G,recurrentTCH:e.target.checked})}),React.createElement("span",{className:"text-sm"},"Recurrent thunderclap headaches (+5)")),React.createElement("label",{className:"flex items-center space-x-2 p-2 hover:bg-cyan-50 rounded cursor-pointer"},React.createElement("input",{type:"checkbox",className:"text-cyan-600",checked:G.carotidInvolvement,onChange:e=>_e({...G,carotidInvolvement:e.target.checked})}),React.createElement("span",{className:"text-sm"},"Intracranial carotid artery involvement (+3)")),React.createElement("label",{className:"flex items-center space-x-2 p-2 hover:bg-cyan-50 rounded cursor-pointer"},React.createElement("input",{type:"checkbox",className:"text-cyan-600",checked:G.vasoconstrictiveTrigger,onChange:e=>_e({...G,vasoconstrictiveTrigger:e.target.checked})}),React.createElement("span",{className:"text-sm"},"Vasoconstrictive trigger exposure (+2)")),React.createElement("label",{className:"flex items-center space-x-2 p-2 hover:bg-cyan-50 rounded cursor-pointer"},React.createElement("input",{type:"checkbox",className:"text-cyan-600",checked:G.female,onChange:e=>_e({...G,female:e.target.checked})}),React.createElement("span",{className:"text-sm"},"Female sex (+1)")),React.createElement("label",{className:"flex items-center space-x-2 p-2 hover:bg-cyan-50 rounded cursor-pointer"},React.createElement("input",{type:"checkbox",className:"text-cyan-600",checked:G.sah,onChange:e=>_e({...G,sah:e.target.checked})}),React.createElement("span",{className:"text-sm"},"Subarachnoid hemorrhage on imaging (-2)"))),React.createElement("div",{className:"bg-white p-3 rounded border"},React.createElement("h4",{className:"font-semibold text-cyan-700 mb-2"},"RCVS Probability"),React.createElement("div",{className:"text-sm space-y-1"},React.createElement("p",{className:et(G)<2?"font-bold text-cyan-600":""},React.createElement("strong",null,"Score <2:")," Low probability of RCVS"),React.createElement("p",{className:et(G)>=2&&et(G)<=4?"font-bold text-cyan-600":""},React.createElement("strong",null,"Score 2-4:")," Intermediate probability"),React.createElement("p",{className:et(G)>=5?"font-bold text-cyan-600":""},React.createElement("strong",null,"Score \u22655:")," High probability of RCVS")),React.createElement("p",{className:"text-xs text-gray-600 mt-2 italic"},"RCVS\xB2 score helps distinguish RCVS from other causes of thunderclap headache. Consider vascular imaging and repeat imaging in 2-4 weeks if high suspicion.")))),React.createElement("details",{className:"bg-amber-50 border border-amber-200 rounded-lg"},React.createElement("summary",{className:"cursor-pointer p-3 font-semibold text-amber-800 hover:bg-amber-100 rounded-lg flex items-center justify-between"},React.createElement("span",null,"Hunt and Hess / WFNS Scale (SAH Grading)"),React.createElement("span",{className:"text-sm font-normal text-amber-600"},"H&H: ",Re||"Not Selected"," | WFNS: ",Pe||"Not Selected")),React.createElement("div",{className:"p-4"},React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",{className:"space-y-3"},React.createElement("h4",{className:"text-base font-semibold text-amber-800 mb-2"},"Hunt and Hess Scale"),React.createElement("div",{className:"space-y-2"},React.createElement("label",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-amber-200 hover:bg-amber-50 cursor-pointer"},React.createElement("input",{type:"radio",name:"huntHess",value:"1",checked:Re==="1",onChange:e=>Be(e.target.value),className:"mt-1 text-amber-600"}),React.createElement("div",{className:"flex-1"},React.createElement("div",{className:"font-semibold text-gray-900"},"Grade 1"),React.createElement("div",{className:"text-sm text-gray-600"},"Asymptomatic or mild headache"))),React.createElement("label",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-amber-200 hover:bg-amber-50 cursor-pointer"},React.createElement("input",{type:"radio",name:"huntHess",value:"2",checked:Re==="2",onChange:e=>Be(e.target.value),className:"mt-1 text-amber-600"}),React.createElement("div",{className:"flex-1"},React.createElement("div",{className:"font-semibold text-gray-900"},"Grade 2"),React.createElement("div",{className:"text-sm text-gray-600"},"Moderate-severe headache, nuchal rigidity, no deficit (except CN palsy)"))),React.createElement("label",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-amber-200 hover:bg-amber-50 cursor-pointer"},React.createElement("input",{type:"radio",name:"huntHess",value:"3",checked:Re==="3",onChange:e=>Be(e.target.value),className:"mt-1 text-amber-600"}),React.createElement("div",{className:"flex-1"},React.createElement("div",{className:"font-semibold text-gray-900"},"Grade 3"),React.createElement("div",{className:"text-sm text-gray-600"},"Drowsiness, confusion, or mild focal deficit"))),React.createElement("label",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-amber-200 hover:bg-amber-50 cursor-pointer"},React.createElement("input",{type:"radio",name:"huntHess",value:"4",checked:Re==="4",onChange:e=>Be(e.target.value),className:"mt-1 text-amber-600"}),React.createElement("div",{className:"flex-1"},React.createElement("div",{className:"font-semibold text-gray-900"},"Grade 4"),React.createElement("div",{className:"text-sm text-gray-600"},"Stupor, moderate-severe hemiparesis"))),React.createElement("label",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-amber-200 hover:bg-amber-50 cursor-pointer"},React.createElement("input",{type:"radio",name:"huntHess",value:"5",checked:Re==="5",onChange:e=>Be(e.target.value),className:"mt-1 text-amber-600"}),React.createElement("div",{className:"flex-1"},React.createElement("div",{className:"font-semibold text-gray-900"},"Grade 5"),React.createElement("div",{className:"text-sm text-gray-600"},"Deep coma, decerebrate rigidity, moribund"))))),React.createElement("div",{className:"space-y-3"},React.createElement("h4",{className:"text-base font-semibold text-amber-800 mb-2"},"WFNS Scale"),React.createElement("div",{className:"space-y-2"},React.createElement("label",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-amber-200 hover:bg-amber-50 cursor-pointer"},React.createElement("input",{type:"radio",name:"wfns",value:"1",checked:Pe==="1",onChange:e=>je(e.target.value),className:"mt-1 text-amber-600"}),React.createElement("div",{className:"flex-1"},React.createElement("div",{className:"font-semibold text-gray-900"},"Grade 1"),React.createElement("div",{className:"text-sm text-gray-600"},"GCS 15, no motor deficit"))),React.createElement("label",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-amber-200 hover:bg-amber-50 cursor-pointer"},React.createElement("input",{type:"radio",name:"wfns",value:"2",checked:Pe==="2",onChange:e=>je(e.target.value),className:"mt-1 text-amber-600"}),React.createElement("div",{className:"flex-1"},React.createElement("div",{className:"font-semibold text-gray-900"},"Grade 2"),React.createElement("div",{className:"text-sm text-gray-600"},"GCS 13-14, no motor deficit"))),React.createElement("label",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-amber-200 hover:bg-amber-50 cursor-pointer"},React.createElement("input",{type:"radio",name:"wfns",value:"3",checked:Pe==="3",onChange:e=>je(e.target.value),className:"mt-1 text-amber-600"}),React.createElement("div",{className:"flex-1"},React.createElement("div",{className:"font-semibold text-gray-900"},"Grade 3"),React.createElement("div",{className:"text-sm text-gray-600"},"GCS 13-14, with motor deficit"))),React.createElement("label",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-amber-200 hover:bg-amber-50 cursor-pointer"},React.createElement("input",{type:"radio",name:"wfns",value:"4",checked:Pe==="4",onChange:e=>je(e.target.value),className:"mt-1 text-amber-600"}),React.createElement("div",{className:"flex-1"},React.createElement("div",{className:"font-semibold text-gray-900"},"Grade 4"),React.createElement("div",{className:"text-sm text-gray-600"},"GCS 7-12, with or without motor deficit"))),React.createElement("label",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-amber-200 hover:bg-amber-50 cursor-pointer"},React.createElement("input",{type:"radio",name:"wfns",value:"5",checked:Pe==="5",onChange:e=>je(e.target.value),className:"mt-1 text-amber-600"}),React.createElement("div",{className:"flex-1"},React.createElement("div",{className:"font-semibold text-gray-900"},"Grade 5"),React.createElement("div",{className:"text-sm text-gray-600"},"GCS 3-6, with or without motor deficit")))))))),React.createElement("details",{className:"bg-rose-50 border border-rose-200 rounded-lg"},React.createElement("summary",{className:"cursor-pointer p-3 font-semibold text-rose-800 hover:bg-rose-100 rounded-lg"},"PREVENT 10-year ASCVD Risk Estimate"),React.createElement("div",{className:"p-4"},React.createElement("div",{className:"bg-white p-4 rounded border"},React.createElement("a",{href:"https://professional.heart.org/en/guidelines-and-statements/prevent-calculator",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-rose-600 text-white rounded-md hover:bg-rose-700 transition-colors text-sm font-medium"},"Open PREVENT Calculator \u2192"))))),re==="references"&&React.createElement("div",{className:"space-y-6"},React.createElement("div",{className:"bg-white border border-gray-200 rounded-lg p-4"},React.createElement("div",{className:"relative"},React.createElement("input",{type:"text",placeholder:"Filter evidence documents...",value:gt,onChange:e=>Sa(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Filter evidence documents"}),React.createElement("i",{"data-lucide":"search",className:"w-5 h-5 absolute left-3 top-2.5 text-gray-400"}),gt&&React.createElement("button",{onClick:()=>Sa(""),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600","aria-label":"Clear filter"},React.createElement("i",{"data-lucide":"x",className:"w-5 h-5"}))),gt&&React.createElement("p",{className:"text-sm text-gray-600 mt-2"},"Filtering by: ",React.createElement("span",{className:"font-semibold"},gt))),React.createElement("div",{className:"flex flex-col sm:flex-row gap-3"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement("a",{href:"https://www.openevidence.com",target:"_blank",rel:"noopener noreferrer",className:"flex flex-1 items-center gap-2 px-4 py-3 bg-white border border-blue-300 rounded-lg hover:bg-blue-100 transition-colors text-blue-700 font-medium"},React.createElement("i",{"data-lucide":"external-link",className:"w-5 h-5"}),React.createElement("span",null,"OpenEvidence"))),React.createElement("div",{className:"flex items-center gap-2"},React.createElement("a",{href:"https://www.uptodate.com",target:"_blank",rel:"noopener noreferrer",className:"flex flex-1 items-center gap-2 px-4 py-3 bg-white border border-blue-300 rounded-lg hover:bg-blue-100 transition-colors text-blue-700 font-medium"},React.createElement("i",{"data-lucide":"external-link",className:"w-5 h-5"}),React.createElement("span",null,"UpToDate"))),React.createElement("div",{className:"flex items-center gap-2"},React.createElement("a",{href:"https://asta.allen.ai/chat",target:"_blank",rel:"noopener noreferrer",className:"flex flex-1 items-center gap-2 px-4 py-3 bg-white border border-blue-300 rounded-lg hover:bg-blue-100 transition-colors text-blue-700 font-medium"},React.createElement("i",{"data-lucide":"external-link",className:"w-5 h-5"}),React.createElement("span",null,"Asta (Ai2)")))),Le("Aneurysms & Vascular Malformations",["Unruptured Cerebral Aneurysms"])&&React.createElement("details",{className:"bg-white border border-gray-200 rounded-lg"},React.createElement("summary",{className:"cursor-pointer p-4 font-semibold text-gray-800 hover:bg-gray-50 rounded-lg flex items-center justify-between text-lg"},React.createElement("span",null,"Aneurysms & Vascular Malformations"),React.createElement("i",{"data-lucide":"chevron-down",className:"w-5 h-5"})),React.createElement("div",{className:"space-y-3 p-4 pt-0"},React.createElement("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors"},React.createElement("div",{className:"flex items-center gap-3 flex-1"},React.createElement("i",{"data-lucide":"file-text",className:"w-6 h-6 text-red-600"}),React.createElement("div",{className:"flex-1"},React.createElement("h4",{className:"text-sm font-medium text-gray-900"},"Unruptured Cerebral Aneurysms"),React.createElement("p",{className:"text-xs text-gray-500"},"PDF Document"))),React.createElement("div",{className:"flex flex-wrap gap-2"},React.createElement("a",{href:"documents/aneurysms/Unruptured Cerebral Aneurysms.pdf",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-blue-600 text-white rounded-lg text-xs font-medium hover:bg-blue-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"eye",className:"w-4 h-4"}),"View"),React.createElement("a",{href:"documents/aneurysms/Unruptured Cerebral Aneurysms.pdf",download:!0,className:"px-3 py-2 bg-gray-600 text-white rounded-lg text-xs font-medium hover:bg-gray-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"download",className:"w-4 h-4"}),"Download"),React.createElement("button",{onClick:()=>Y("Unruptured Cerebral Aneurysms","documents/aneurysms/Unruptured Cerebral Aneurysms.pdf"),className:"px-3 py-2 bg-orange-600 text-white rounded-lg text-xs font-medium hover:bg-orange-700 transition-colors flex items-center gap-1",title:"Email this document"},React.createElement("i",{"data-lucide":"mail",className:"w-4 h-4"}),"Email"))))),Le("Antiplatelet Therapy",["DAPT Minor Stroke-TIA Trials","DAPT After Ischemic Stroke-TIA"])&&React.createElement("details",{className:"bg-white border border-gray-200 rounded-lg"},React.createElement("summary",{className:"cursor-pointer p-4 font-semibold text-gray-800 hover:bg-gray-50 rounded-lg flex items-center justify-between text-lg"},React.createElement("span",null,"Antiplatelet Therapy"),React.createElement("i",{"data-lucide":"chevron-down",className:"w-5 h-5"})),React.createElement("div",{className:"space-y-3 p-4 pt-0"},React.createElement("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors"},React.createElement("div",{className:"flex items-center gap-3 flex-1"},React.createElement("i",{"data-lucide":"file-text",className:"w-6 h-6 text-red-600"}),React.createElement("div",{className:"flex-1"},React.createElement("h4",{className:"text-sm font-medium text-gray-900"},"DAPT Minor Stroke-TIA Trials"),React.createElement("p",{className:"text-xs text-gray-500"},"PDF Document"))),React.createElement("div",{className:"flex flex-wrap gap-2"},React.createElement("a",{href:"documents/antiplatelet/DAPT Minor Stroke-TIA Trials.pdf",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-blue-600 text-white rounded-lg text-xs font-medium hover:bg-blue-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"eye",className:"w-4 h-4"}),"View"),React.createElement("a",{href:"documents/antiplatelet/DAPT Minor Stroke-TIA Trials.pdf",download:!0,className:"px-3 py-2 bg-gray-600 text-white rounded-lg text-xs font-medium hover:bg-gray-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"download",className:"w-4 h-4"}),"Download"),React.createElement("button",{onClick:()=>Y("DAPT Minor Stroke-TIA Trials","documents/antiplatelet/DAPT Minor Stroke-TIA Trials.pdf"),className:"px-3 py-2 bg-orange-600 text-white rounded-lg text-xs font-medium hover:bg-orange-700 transition-colors flex items-center gap-1",title:"Email this document"},React.createElement("i",{"data-lucide":"mail",className:"w-4 h-4"}),"Email"))),React.createElement("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors"},React.createElement("div",{className:"flex items-center gap-3 flex-1"},React.createElement("i",{"data-lucide":"image",className:"w-6 h-6 text-green-600"}),React.createElement("div",{className:"flex-1"},React.createElement("h4",{className:"text-sm font-medium text-gray-900"},"DAPT After Ischemic Stroke-TIA"),React.createElement("p",{className:"text-xs text-gray-500"},"Infographic - Match Patient to Trial"))),React.createElement("div",{className:"flex flex-wrap gap-2"},React.createElement("a",{href:"documents/antiplatelet/DAPT After Ischemic Stroke-TIA.jpeg",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-blue-600 text-white rounded-lg text-xs font-medium hover:bg-blue-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"eye",className:"w-4 h-4"}),"View"),React.createElement("a",{href:"documents/antiplatelet/DAPT After Ischemic Stroke-TIA.jpeg",download:!0,className:"px-3 py-2 bg-gray-600 text-white rounded-lg text-xs font-medium hover:bg-gray-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"download",className:"w-4 h-4"}),"Download"),React.createElement("button",{onClick:()=>Y("DAPT After Ischemic Stroke-TIA","documents/antiplatelet/DAPT After Ischemic Stroke-TIA.jpeg"),className:"px-3 py-2 bg-orange-600 text-white rounded-lg text-xs font-medium hover:bg-orange-700 transition-colors flex items-center gap-1",title:"Email this document"},React.createElement("i",{"data-lucide":"mail",className:"w-4 h-4"}),"Email"))))),Le("Cerebral Small Vessel Disease",["Lacunar Stroke"])&&React.createElement("details",{className:"bg-white border border-gray-200 rounded-lg"},React.createElement("summary",{className:"cursor-pointer p-4 font-semibold text-gray-800 hover:bg-gray-50 rounded-lg flex items-center justify-between text-lg"},React.createElement("span",null,"Cerebral Small Vessel Disease"),React.createElement("i",{"data-lucide":"chevron-down",className:"w-5 h-5"})),React.createElement("div",{className:"space-y-3 p-4 pt-0"},React.createElement("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors"},React.createElement("div",{className:"flex items-center gap-3 flex-1"},React.createElement("i",{"data-lucide":"file-text",className:"w-6 h-6 text-red-600"}),React.createElement("div",{className:"flex-1"},React.createElement("h4",{className:"text-sm font-medium text-gray-900"},"Lacunar Stroke"),React.createElement("p",{className:"text-xs text-gray-500"},"PDF Document"))),React.createElement("div",{className:"flex flex-wrap gap-2"},React.createElement("a",{href:"documents/csvd/Lacunar Stroke 7.13.22.pdf",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-blue-600 text-white rounded-lg text-xs font-medium hover:bg-blue-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"eye",className:"w-4 h-4"}),"View"),React.createElement("a",{href:"documents/csvd/Lacunar Stroke 7.13.22.pdf",download:!0,className:"px-3 py-2 bg-gray-600 text-white rounded-lg text-xs font-medium hover:bg-gray-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"download",className:"w-4 h-4"}),"Download"),React.createElement("button",{onClick:()=>Y("Lacunar Stroke","documents/csvd/Lacunar Stroke 7.13.22.pdf"),className:"px-3 py-2 bg-orange-600 text-white rounded-lg text-xs font-medium hover:bg-orange-700 transition-colors flex items-center gap-1",title:"Email this document"},React.createElement("i",{"data-lucide":"mail",className:"w-4 h-4"}),"Email"))))),Le("EBM",["Interpretation of Clinical Trials","CEBM Oxford Resources"])&&React.createElement("details",{className:"bg-white border border-gray-200 rounded-lg"},React.createElement("summary",{className:"cursor-pointer p-4 font-semibold text-gray-800 hover:bg-gray-50 rounded-lg flex items-center justify-between text-lg"},React.createElement("span",null,"Critical Appraisal"),React.createElement("i",{"data-lucide":"chevron-down",className:"w-5 h-5"})),React.createElement("div",{className:"space-y-3 p-4 pt-0"},React.createElement("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors"},React.createElement("div",{className:"flex items-center gap-3 flex-1"},React.createElement("i",{"data-lucide":"file-text",className:"w-6 h-6 text-red-600"}),React.createElement("div",{className:"flex-1"},React.createElement("h4",{className:"text-sm font-medium text-gray-900"},"Interpretation of Clinical Trials"),React.createElement("p",{className:"text-xs text-gray-500"},"PDF Document"))),React.createElement("div",{className:"flex flex-wrap gap-2"},React.createElement("a",{href:"documents/ebm/Interpretation of Clinical Trials.pdf",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-blue-600 text-white rounded-lg text-xs font-medium hover:bg-blue-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"eye",className:"w-4 h-4"}),"View"),React.createElement("a",{href:"documents/ebm/Interpretation of Clinical Trials.pdf",download:!0,className:"px-3 py-2 bg-gray-600 text-white rounded-lg text-xs font-medium hover:bg-gray-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"download",className:"w-4 h-4"}),"Download"),React.createElement("button",{onClick:()=>Y("Interpretation of Clinical Trials","documents/ebm/Interpretation of Clinical Trials.pdf"),className:"px-3 py-2 bg-orange-600 text-white rounded-lg text-xs font-medium hover:bg-orange-700 transition-colors flex items-center gap-1",title:"Email this document"},React.createElement("i",{"data-lucide":"mail",className:"w-4 h-4"}),"Email"))),React.createElement("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors"},React.createElement("div",{className:"flex items-center gap-3 flex-1"},React.createElement("i",{"data-lucide":"external-link",className:"w-6 h-6 text-blue-600"}),React.createElement("div",{className:"flex-1"},React.createElement("h4",{className:"text-sm font-medium text-gray-900"},"CEBM Oxford Resources"),React.createElement("p",{className:"text-xs text-gray-500"},"Centre for Evidence-Based Medicine - University of Oxford"))),React.createElement("div",{className:"flex flex-wrap gap-2"},React.createElement("a",{href:"https://www.cebm.ox.ac.uk/resources",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-blue-600 text-white rounded-lg text-xs font-medium hover:bg-blue-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"external-link",className:"w-4 h-4"}),"Visit"))))),Le("EVT",["Large Core Anterior Circulation LVO EVT Trials","Basilar Artery Occlusion EVT Trials","MeVO & Distal Vessel Occlusion EVT Trials"])&&React.createElement("details",{className:"bg-white border border-gray-200 rounded-lg"},React.createElement("summary",{className:"cursor-pointer p-4 font-semibold text-gray-800 hover:bg-gray-50 rounded-lg flex items-center justify-between text-lg"},React.createElement("span",null,"Endovascular Therapy"),React.createElement("i",{"data-lucide":"chevron-down",className:"w-5 h-5"})),React.createElement("div",{className:"space-y-3 p-4 pt-0"},React.createElement("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors"},React.createElement("div",{className:"flex items-center gap-3 flex-1"},React.createElement("i",{"data-lucide":"file-text",className:"w-6 h-6 text-red-600"}),React.createElement("div",{className:"flex-1"},React.createElement("h4",{className:"text-sm font-medium text-gray-900"},"Large Core Anterior Circulation LVO EVT Trials"),React.createElement("p",{className:"text-xs text-gray-500"},"PDF Document"))),React.createElement("div",{className:"flex flex-wrap gap-2"},React.createElement("a",{href:"documents/evt/Large Core Anterior Circulation LVO EVT Trials.pdf",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-blue-600 text-white rounded-lg text-xs font-medium hover:bg-blue-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"eye",className:"w-4 h-4"}),"View"),React.createElement("a",{href:"documents/evt/Large Core Anterior Circulation LVO EVT Trials.pdf",download:!0,className:"px-3 py-2 bg-gray-600 text-white rounded-lg text-xs font-medium hover:bg-gray-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"download",className:"w-4 h-4"}),"Download"),React.createElement("button",{onClick:()=>Y("Large Core Anterior Circulation LVO EVT Trials","documents/evt/Large Core Anterior Circulation LVO EVT Trials.pdf"),className:"px-3 py-2 bg-orange-600 text-white rounded-lg text-xs font-medium hover:bg-orange-700 transition-colors flex items-center gap-1",title:"Email this document"},React.createElement("i",{"data-lucide":"mail",className:"w-4 h-4"}),"Email"))),React.createElement("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors"},React.createElement("div",{className:"flex items-center gap-3 flex-1"},React.createElement("i",{"data-lucide":"file-text",className:"w-6 h-6 text-red-600"}),React.createElement("div",{className:"flex-1"},React.createElement("h4",{className:"text-sm font-medium text-gray-900"},"Basilar Artery Occlusion EVT Trials"),React.createElement("p",{className:"text-xs text-gray-500"},"PDF Document"))),React.createElement("div",{className:"flex flex-wrap gap-2"},React.createElement("a",{href:"documents/evt/Basilar Artery Occlusion EVT Trials.pdf",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-blue-600 text-white rounded-lg text-xs font-medium hover:bg-blue-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"eye",className:"w-4 h-4"}),"View"),React.createElement("a",{href:"documents/evt/Basilar Artery Occlusion EVT Trials.pdf",download:!0,className:"px-3 py-2 bg-gray-600 text-white rounded-lg text-xs font-medium hover:bg-gray-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"download",className:"w-4 h-4"}),"Download"),React.createElement("button",{onClick:()=>Y("Basilar Artery Occlusion EVT Trials","documents/evt/Basilar Artery Occlusion EVT Trials.pdf"),className:"px-3 py-2 bg-orange-600 text-white rounded-lg text-xs font-medium hover:bg-orange-700 transition-colors flex items-center gap-1",title:"Email this document"},React.createElement("i",{"data-lucide":"mail",className:"w-4 h-4"}),"Email"))),React.createElement("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors"},React.createElement("div",{className:"flex items-center gap-3 flex-1"},React.createElement("i",{"data-lucide":"file-text",className:"w-6 h-6 text-red-600"}),React.createElement("div",{className:"flex-1"},React.createElement("h4",{className:"text-sm font-medium text-gray-900"},"MeVO & Distal Vessel Occlusion EVT Trials"),React.createElement("p",{className:"text-xs text-gray-500"},"PDF Document"))),React.createElement("div",{className:"flex flex-wrap gap-2"},React.createElement("a",{href:"documents/evt/MeVO & Distal Vessel Occlusion EVT Trials.pdf",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-blue-600 text-white rounded-lg text-xs font-medium hover:bg-blue-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"eye",className:"w-4 h-4"}),"View"),React.createElement("a",{href:"documents/evt/MeVO & Distal Vessel Occlusion EVT Trials.pdf",download:!0,className:"px-3 py-2 bg-gray-600 text-white rounded-lg text-xs font-medium hover:bg-gray-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"download",className:"w-4 h-4"}),"Download"),React.createElement("button",{onClick:()=>Y("MeVO & Distal Vessel Occlusion EVT Trials","documents/evt/MeVO & Distal Vessel Occlusion EVT Trials.pdf"),className:"px-3 py-2 bg-orange-600 text-white rounded-lg text-xs font-medium hover:bg-orange-700 transition-colors flex items-center gap-1",title:"Email this document"},React.createElement("i",{"data-lucide":"mail",className:"w-4 h-4"}),"Email"))))),Le("Risk Factors",["Timing of Anticoagulation after AF-Related Stroke","Atrial Fibrillation & Secondary Stroke Prevention","Diabetes and stroke","Lipids and Cerebrovascular Disease"])&&React.createElement("details",{className:"bg-white border border-gray-200 rounded-lg"},React.createElement("summary",{className:"cursor-pointer p-4 font-semibold text-gray-800 hover:bg-gray-50 rounded-lg flex items-center justify-between text-lg"},React.createElement("span",null,"Risk Factors"),React.createElement("i",{"data-lucide":"chevron-down",className:"w-5 h-5"})),React.createElement("div",{className:"space-y-4 p-4 pt-0"},React.createElement("div",{className:"border-l-4 border-purple-500 pl-4"},React.createElement("h4",{className:"text-base font-semibold text-purple-800 mb-3"},"Atrial Fibrillation"),React.createElement("div",{className:"space-y-3"},React.createElement("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors"},React.createElement("div",{className:"flex items-center gap-3 flex-1"},React.createElement("i",{"data-lucide":"file-text",className:"w-6 h-6 text-red-600"}),React.createElement("div",{className:"flex-1"},React.createElement("h5",{className:"text-sm font-medium text-gray-900"},"Timing of Anticoagulation after AF-Related Stroke"),React.createElement("p",{className:"text-xs text-gray-500"},"PDF Document"))),React.createElement("div",{className:"flex flex-wrap gap-2"},React.createElement("a",{href:"documents/afib/AC timing after AF-related Stroke.pdf",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-blue-600 text-white rounded-lg text-xs font-medium hover:bg-blue-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"eye",className:"w-4 h-4"}),"View"),React.createElement("a",{href:"documents/afib/AC timing after AF-related Stroke.pdf",download:!0,className:"px-3 py-2 bg-gray-600 text-white rounded-lg text-xs font-medium hover:bg-gray-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"download",className:"w-4 h-4"}),"Download"),React.createElement("button",{onClick:()=>Y("AC timing after AF-related Stroke","documents/afib/AC timing after AF-related Stroke.pdf"),className:"px-3 py-2 bg-orange-600 text-white rounded-lg text-xs font-medium hover:bg-orange-700 transition-colors flex items-center gap-1",title:"Email this document"},React.createElement("i",{"data-lucide":"mail",className:"w-4 h-4"}),"Email"))),React.createElement("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors"},React.createElement("div",{className:"flex items-center gap-3 flex-1"},React.createElement("i",{"data-lucide":"file-text",className:"w-6 h-6 text-red-600"}),React.createElement("div",{className:"flex-1"},React.createElement("h5",{className:"text-sm font-medium text-gray-900"},"Atrial Fibrillation & Secondary Stroke Prevention"),React.createElement("p",{className:"text-xs text-gray-500"},"PDF Document"))),React.createElement("div",{className:"flex flex-wrap gap-2"},React.createElement("a",{href:"documents/afib/AF & secondary stroke prevention July 2024.pdf",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-blue-600 text-white rounded-lg text-xs font-medium hover:bg-blue-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"eye",className:"w-4 h-4"}),"View"),React.createElement("a",{href:"documents/afib/AF & secondary stroke prevention July 2024.pdf",download:!0,className:"px-3 py-2 bg-gray-600 text-white rounded-lg text-xs font-medium hover:bg-gray-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"download",className:"w-4 h-4"}),"Download"),React.createElement("button",{onClick:()=>Y("AF & secondary stroke prevention July 2024","documents/afib/AF & secondary stroke prevention July 2024.pdf"),className:"px-3 py-2 bg-orange-600 text-white rounded-lg text-xs font-medium hover:bg-orange-700 transition-colors flex items-center gap-1",title:"Email this document"},React.createElement("i",{"data-lucide":"mail",className:"w-4 h-4"}),"Email"))),React.createElement("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors"},React.createElement("div",{className:"flex items-center gap-3 flex-1"},React.createElement("i",{"data-lucide":"external-link",className:"w-6 h-6 text-purple-600"}),React.createElement("div",{className:"flex-1"},React.createElement("h5",{className:"text-sm font-medium text-gray-900"},"2023 AHA AFib Guidelines"),React.createElement("p",{className:"text-xs text-gray-500"},"External Link - AHA Journals"))),React.createElement("div",{className:"flex flex-wrap gap-2"},React.createElement("a",{href:"https://www.ahajournals.org/doi/10.1161/CIR.0000000000001193",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-purple-600 text-white rounded-lg text-xs font-medium hover:bg-purple-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"external-link",className:"w-4 h-4"}),"Open Link"))),React.createElement("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors"},React.createElement("div",{className:"flex items-center gap-3 flex-1"},React.createElement("i",{"data-lucide":"external-link",className:"w-6 h-6 text-purple-600"}),React.createElement("div",{className:"flex-1"},React.createElement("h5",{className:"text-sm font-medium text-gray-900"},"2024 ESC AFib Guidelines"),React.createElement("p",{className:"text-xs text-gray-500"},"External Link - European Heart Journal"))),React.createElement("div",{className:"flex flex-wrap gap-2"},React.createElement("a",{href:"https://academic.oup.com/eurheartj/article/45/36/3314/7738779",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-purple-600 text-white rounded-lg text-xs font-medium hover:bg-purple-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"external-link",className:"w-4 h-4"}),"Open Link"))))),React.createElement("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors"},React.createElement("div",{className:"flex items-center gap-3 flex-1"},React.createElement("i",{"data-lucide":"file-text",className:"w-6 h-6 text-red-600"}),React.createElement("div",{className:"flex-1"},React.createElement("h4",{className:"text-sm font-medium text-gray-900"},"Diabetes and stroke"),React.createElement("p",{className:"text-xs text-gray-500"},"PDF Document"))),React.createElement("div",{className:"flex flex-wrap gap-2"},React.createElement("a",{href:"documents/epidemiology/Diabetes and stroke.pdf",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-blue-600 text-white rounded-lg text-xs font-medium hover:bg-blue-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"eye",className:"w-4 h-4"}),"View"),React.createElement("a",{href:"documents/epidemiology/Diabetes and stroke.pdf",download:!0,className:"px-3 py-2 bg-gray-600 text-white rounded-lg text-xs font-medium hover:bg-gray-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"download",className:"w-4 h-4"}),"Download"),React.createElement("button",{onClick:()=>Y("Diabetes and stroke","documents/epidemiology/Diabetes and stroke.pdf"),className:"px-3 py-2 bg-orange-600 text-white rounded-lg text-xs font-medium hover:bg-orange-700 transition-colors flex items-center gap-1",title:"Email this document"},React.createElement("i",{"data-lucide":"mail",className:"w-4 h-4"}),"Email"))),React.createElement("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors"},React.createElement("div",{className:"flex items-center gap-3 flex-1"},React.createElement("i",{"data-lucide":"file-text",className:"w-6 h-6 text-red-600"}),React.createElement("div",{className:"flex-1"},React.createElement("h4",{className:"text-sm font-medium text-gray-900"},"Lipids and Cerebrovascular Disease"),React.createElement("p",{className:"text-xs text-gray-500"},"PDF Document"))),React.createElement("div",{className:"flex flex-wrap gap-2"},React.createElement("a",{href:"documents/epidemiology/Lipids and Cerebrovascular Disease.pdf",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-blue-600 text-white rounded-lg text-xs font-medium hover:bg-blue-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"eye",className:"w-4 h-4"}),"View"),React.createElement("a",{href:"documents/epidemiology/Lipids and Cerebrovascular Disease.pdf",download:!0,className:"px-3 py-2 bg-gray-600 text-white rounded-lg text-xs font-medium hover:bg-gray-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"download",className:"w-4 h-4"}),"Download"),React.createElement("button",{onClick:()=>Y("Lipids and Cerebrovascular Disease","documents/epidemiology/Lipids and Cerebrovascular Disease.pdf"),className:"px-3 py-2 bg-orange-600 text-white rounded-lg text-xs font-medium hover:bg-orange-700 transition-colors flex items-center gap-1",title:"Email this document"},React.createElement("i",{"data-lucide":"mail",className:"w-4 h-4"}),"Email"))))),Le("Thrombolytic Therapy",["Thrombolytic Therapy 4.5-24h RCTs","WAKE-UP Trial"])&&React.createElement("details",{className:"bg-white border border-gray-200 rounded-lg"},React.createElement("summary",{className:"cursor-pointer p-4 font-semibold text-gray-800 hover:bg-gray-50 rounded-lg flex items-center justify-between text-lg"},React.createElement("span",null,"Thrombolytic Therapy"),React.createElement("i",{"data-lucide":"chevron-down",className:"w-5 h-5"})),React.createElement("div",{className:"space-y-3 p-4 pt-0"},React.createElement("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors"},React.createElement("div",{className:"flex items-center gap-3 flex-1"},React.createElement("i",{"data-lucide":"file-text",className:"w-6 h-6 text-red-600"}),React.createElement("div",{className:"flex-1"},React.createElement("h4",{className:"text-sm font-medium text-gray-900"},"Thrombolytic Therapy 4.5-24h RCTs"),React.createElement("p",{className:"text-xs text-gray-500"},"PDF Document"))),React.createElement("div",{className:"flex flex-wrap gap-2"},React.createElement("a",{href:"documents/thrombolytic/Thrombolytic Therapy 4.5-24h RCTs.pdf",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-blue-600 text-white rounded-lg text-xs font-medium hover:bg-blue-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"eye",className:"w-4 h-4"}),"View"),React.createElement("a",{href:"documents/thrombolytic/Thrombolytic Therapy 4.5-24h RCTs.pdf",download:!0,className:"px-3 py-2 bg-gray-600 text-white rounded-lg text-xs font-medium hover:bg-gray-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"download",className:"w-4 h-4"}),"Download"),React.createElement("button",{onClick:()=>Y("Thrombolytic Therapy 4.5-24h RCTs","documents/thrombolytic/Thrombolytic Therapy 4.5-24h RCTs.pdf"),className:"px-3 py-2 bg-orange-600 text-white rounded-lg text-xs font-medium hover:bg-orange-700 transition-colors flex items-center gap-1",title:"Email this document"},React.createElement("i",{"data-lucide":"mail",className:"w-4 h-4"}),"Email"))),React.createElement("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors"},React.createElement("div",{className:"flex items-center gap-3 flex-1"},React.createElement("i",{"data-lucide":"external-link",className:"w-6 h-6 text-blue-600"}),React.createElement("div",{className:"flex-1"},React.createElement("h4",{className:"text-sm font-medium text-gray-900"},"WAKE-UP Trial"),React.createElement("p",{className:"text-xs text-gray-500"},"External Link - New England Journal of Medicine"))),React.createElement("div",{className:"flex flex-wrap gap-2"},React.createElement("a",{href:"https://www.nejm.org/doi/full/10.1056/NEJMoa1804355",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-blue-600 text-white rounded-lg text-xs font-medium hover:bg-blue-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"external-link",className:"w-4 h-4"}),"Open Link"))))),Le("Exam",["Differentiating Acute Confusional State (Delirium) from Aphasia","Coma Exam"])&&React.createElement("details",{className:"bg-white border border-gray-200 rounded-lg"},React.createElement("summary",{className:"cursor-pointer p-4 font-semibold text-gray-800 hover:bg-gray-50 rounded-lg flex items-center justify-between text-lg"},React.createElement("span",null,"Exam"),React.createElement("i",{"data-lucide":"chevron-down",className:"w-5 h-5"})),React.createElement("div",{className:"space-y-3 p-4 pt-0"},React.createElement("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors"},React.createElement("div",{className:"flex items-center gap-3 flex-1"},React.createElement("i",{"data-lucide":"file-text",className:"w-6 h-6 text-red-600"}),React.createElement("div",{className:"flex-1"},React.createElement("h4",{className:"text-sm font-medium text-gray-900"},"Differentiating Acute Confusional State (Delirium) from Aphasia"),React.createElement("p",{className:"text-xs text-gray-500"},"PDF Document"))),React.createElement("div",{className:"flex flex-wrap gap-2"},React.createElement("a",{href:"documents/exam/Differentiating Acute Confusional State (Delirium) from Aphasia.pdf",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-blue-600 text-white rounded-lg text-xs font-medium hover:bg-blue-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"eye",className:"w-4 h-4"}),"View"),React.createElement("a",{href:"documents/exam/Differentiating Acute Confusional State (Delirium) from Aphasia.pdf",download:!0,className:"px-3 py-2 bg-gray-600 text-white rounded-lg text-xs font-medium hover:bg-gray-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"download",className:"w-4 h-4"}),"Download"),React.createElement("button",{onClick:()=>Y("Differentiating Acute Confusional State (Delirium) from Aphasia","documents/exam/Differentiating Acute Confusional State (Delirium) from Aphasia.pdf"),className:"px-3 py-2 bg-orange-600 text-white rounded-lg text-xs font-medium hover:bg-orange-700 transition-colors flex items-center gap-1",title:"Email this document"},React.createElement("i",{"data-lucide":"mail",className:"w-4 h-4"}),"Email"))),React.createElement("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors"},React.createElement("div",{className:"flex items-center gap-3 flex-1"},React.createElement("i",{"data-lucide":"file-text",className:"w-6 h-6 text-red-600"}),React.createElement("div",{className:"flex-1"},React.createElement("h4",{className:"text-sm font-medium text-gray-900"},"Coma Exam"),React.createElement("p",{className:"text-xs text-gray-500"},"PDF Document"))),React.createElement("div",{className:"flex flex-wrap gap-2"},React.createElement("a",{href:"documents/exam/coma exam.pdf",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-blue-600 text-white rounded-lg text-xs font-medium hover:bg-blue-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"eye",className:"w-4 h-4"}),"View"),React.createElement("a",{href:"documents/exam/coma exam.pdf",download:!0,className:"px-3 py-2 bg-gray-600 text-white rounded-lg text-xs font-medium hover:bg-gray-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"download",className:"w-4 h-4"}),"Download"),React.createElement("button",{onClick:()=>Y("coma exam","documents/exam/coma exam.pdf"),className:"px-3 py-2 bg-orange-600 text-white rounded-lg text-xs font-medium hover:bg-orange-700 transition-colors flex items-center gap-1",title:"Email this document"},React.createElement("i",{"data-lucide":"mail",className:"w-4 h-4"}),"Email"))))),Le("Large Artery Disease",["Symptomatic Cervical Carotid Artery Stenosis","CREST-2 Trial"])&&React.createElement("details",{className:"bg-white border border-gray-200 rounded-lg"},React.createElement("summary",{className:"cursor-pointer p-4 font-semibold text-gray-800 hover:bg-gray-50 rounded-lg flex items-center justify-between text-lg"},React.createElement("span",null,"Large Artery Disease"),React.createElement("i",{"data-lucide":"chevron-down",className:"w-5 h-5"})),React.createElement("div",{className:"space-y-3 p-4 pt-0"},React.createElement("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors"},React.createElement("div",{className:"flex items-center gap-3 flex-1"},React.createElement("i",{"data-lucide":"file-text",className:"w-6 h-6 text-red-600"}),React.createElement("div",{className:"flex-1"},React.createElement("h4",{className:"text-sm font-medium text-gray-900"},"Symptomatic Cervical Carotid Artery Stenosis"),React.createElement("p",{className:"text-xs text-gray-500"},"PDF Document"))),React.createElement("div",{className:"flex flex-wrap gap-2"},React.createElement("a",{href:"documents/lad/Symptomatic Cervical Carotid Artery Stenosis.pdf",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-blue-600 text-white rounded-lg text-xs font-medium hover:bg-blue-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"eye",className:"w-4 h-4"}),"View"),React.createElement("a",{href:"documents/lad/Symptomatic Cervical Carotid Artery Stenosis.pdf",download:!0,className:"px-3 py-2 bg-gray-600 text-white rounded-lg text-xs font-medium hover:bg-gray-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"download",className:"w-4 h-4"}),"Download"),React.createElement("button",{onClick:()=>Y("Symptomatic Cervical Carotid Artery Stenosis","documents/lad/Symptomatic Cervical Carotid Artery Stenosis.pdf"),className:"px-3 py-2 bg-orange-600 text-white rounded-lg text-xs font-medium hover:bg-orange-700 transition-colors flex items-center gap-1",title:"Email this document"},React.createElement("i",{"data-lucide":"mail",className:"w-4 h-4"}),"Email"))),React.createElement("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors"},React.createElement("div",{className:"flex items-center gap-3 flex-1"},React.createElement("i",{"data-lucide":"file-text",className:"w-6 h-6 text-red-600"}),React.createElement("div",{className:"flex-1"},React.createElement("h4",{className:"text-sm font-medium text-gray-900"},"CREST-2 Trial (December 2025)"),React.createElement("p",{className:"text-xs text-gray-500"},"PDF Document"))),React.createElement("div",{className:"flex flex-wrap gap-2"},React.createElement("a",{href:"documents/lad/CREST-2 Trial - Dec 2025.pdf",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-blue-600 text-white rounded-lg text-xs font-medium hover:bg-blue-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"eye",className:"w-4 h-4"}),"View"),React.createElement("a",{href:"documents/lad/CREST-2 Trial - Dec 2025.pdf",download:!0,className:"px-3 py-2 bg-gray-600 text-white rounded-lg text-xs font-medium hover:bg-gray-700 transition-colors flex items-center gap-1"},React.createElement("i",{"data-lucide":"download",className:"w-4 h-4"}),"Download"),React.createElement("button",{onClick:()=>Y("CREST-2 Trial (December 2025)","documents/lad/CREST-2 Trial - Dec 2025.pdf"),className:"px-3 py-2 bg-orange-600 text-white rounded-lg text-xs font-medium hover:bg-orange-700 transition-colors flex items-center gap-1",title:"Email this document"},React.createElement("i",{"data-lucide":"mail",className:"w-4 h-4"}),"Email"))))))),_==="trials"&&React.createElement("div",{className:"space-y-6"},React.createElement("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white p-6 rounded-lg shadow-lg"},React.createElement("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4"},React.createElement("div",null,React.createElement("h1",{className:"text-3xl font-bold flex items-center gap-3"},"\u{1F52C} Clinical Trials"),React.createElement("p",{className:"text-blue-100 mt-1"},"Reference for active clinical trials")))),a.diagnosisCategory&&(a.diagnosisCategory==="ischemic"||a.diagnosisCategory==="ich")&&React.createElement("div",{className:`mb-4 p-4 rounded-lg border-2 flex items-center gap-3 ${a.diagnosisCategory==="ischemic"?"bg-blue-50 border-blue-300 text-blue-800":"bg-red-50 border-red-300 text-red-800"}`},React.createElement("i",{"data-lucide":"target",className:"w-5 h-5"}),React.createElement("div",null,React.createElement("span",{className:"font-semibold"},"Patient Diagnosis: ",a.diagnosisCategory==="ischemic"?"Suspected Ischemic Stroke":"ICH"),React.createElement("span",{className:"ml-2 text-sm opacity-75"},"\u2014 Showing ",a.diagnosisCategory==="ischemic"?"ischemic stroke":"ICH"," trials by default")),Pt!==a.diagnosisCategory&&React.createElement("button",{onClick:()=>Et(a.diagnosisCategory),className:`ml-auto px-3 py-1 rounded text-sm font-medium ${a.diagnosisCategory==="ischemic"?"bg-blue-600 text-white hover:bg-blue-700":"bg-red-600 text-white hover:bg-red-700"}`},"Show Recommended Trials")),React.createElement("div",{className:"flex flex-wrap gap-2 mb-6"},Object.keys(aa).map(e=>{let t=aa[e],s=t.hasSubsections?Object.values(t.subsections).reduce((n,d)=>n+d.trials.length,0):t.trials.length,r=n=>{switch(n){case"ischemic":return"bg-blue-600 hover:bg-blue-700";case"ich":return"bg-red-600 hover:bg-red-700";case"rehab":return"bg-green-600 hover:bg-green-700";case"cadasil":return"bg-purple-600 hover:bg-purple-700";default:return"bg-gray-600 hover:bg-gray-700"}},i=n=>{switch(n){case"ischemic":return"Ischemic Stroke";case"ich":return"Intracerebral Hemorrhage";case"rehab":return"Rehabilitation";case"cadasil":return"CADASIL";default:return t.title}},o=a.diagnosisCategory===e;return React.createElement("button",{key:e,onClick:()=>Et(e),className:`relative px-4 py-2 rounded-full font-medium transition-all ${Pt===e?`${r(e)} text-white shadow-lg`:o?"bg-gray-200 text-gray-700 hover:bg-gray-300 ring-2 ring-offset-1 ring-yellow-400":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`},o&&React.createElement("span",{className:"absolute -top-2 -right-1 text-xs bg-yellow-400 text-yellow-900 px-1.5 py-0.5 rounded-full font-bold"},"\u2605"),i(e)," (",s,")")})),React.createElement("div",{className:"space-y-4"},(()=>{let e=aa[Pt];return React.createElement("div",{className:"space-y-4"},React.createElement("h2",{className:"text-2xl font-bold text-gray-800 border-b-2 border-gray-300 pb-2"},e.title),e.hasSubsections?Object.entries(e.subsections).map(([t,s])=>React.createElement("div",{key:t,className:"space-y-4"},React.createElement("h3",{className:"text-xl font-semibold text-gray-700 ml-4"},s.title),s.trials.map((r,i)=>React.createElement(Ks,{key:i,trial:r,category:Pt})))):e.trials.map((t,s)=>React.createElement(Ks,{key:s,trial:t,category:Pt})))})())))),React.createElement("div",{className:"fixed right-4 fab-offset fab-layer"},Xt&&React.createElement("div",{className:"absolute bottom-16 right-0 w-72 bg-white rounded-lg shadow-2xl border-2 border-red-300 overflow-hidden animate-fadeIn"},React.createElement("div",{className:"bg-gradient-to-r from-red-600 to-rose-500 text-white px-4 py-2 font-bold flex items-center justify-between"},React.createElement("span",{className:"flex items-center gap-2"},React.createElement("i",{"data-lucide":"phone-call",className:"w-4 h-4"}),"Quick Contacts"),React.createElement("button",{onClick:()=>Qt(!1),className:"hover:bg-red-700 rounded p-1 transition-colors","aria-label":"Close contacts"},React.createElement("i",{"data-lucide":"x",className:"w-4 h-4"}))),React.createElement("div",{className:"divide-y divide-gray-100"},$i.map(e=>{let s=(e.phone||"").replace(/[^\d+]/g,""),r=s?`tel:${s.startsWith("+")?s:`+1${s}`}`:"#";return React.createElement("a",{key:e.id||e.label,href:r,className:"flex items-center gap-3 px-4 py-3 hover:bg-red-50 transition-colors",onClick:()=>Qt(!1)},React.createElement("div",{className:"bg-red-100 rounded-full p-2"},React.createElement("i",{"data-lucide":"phone",className:"w-5 h-5 text-red-600"})),React.createElement("div",null,React.createElement("div",{className:"font-semibold text-gray-900 text-sm"},e.label||"Contact"),React.createElement("div",{className:"text-xs text-gray-500"},e.phone||"Add phone",e.note?` (${e.note})`:"")),React.createElement("i",{"data-lucide":"external-link",className:"w-4 h-4 text-gray-400 ml-auto"}))})),React.createElement("div",{className:"bg-gray-50 px-4 py-2 text-xs text-gray-500 text-center"},"Tap number to call directly")),React.createElement("button",{onClick:()=>Qt(!Xt),className:"w-14 h-14 rounded-full shadow-lg flex items-center justify-center transition-all duration-200 bg-gradient-to-br from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 animate-pulse","aria-label":"Toggle emergency contacts","aria-expanded":Xt,title:"Emergency Contacts"},React.createElement("i",{"data-lucide":"phone",className:"w-6 h-6 text-white"})),!Xt&&React.createElement("div",{className:"absolute bottom-16 right-0 bg-gray-900 text-white text-xs py-1 px-2 rounded whitespace-nowrap opacity-0 hover:opacity-100 pointer-events-none transition-opacity hidden md:block"},"Quick Contacts")),React.createElement("div",{id:"mobile-bottom-nav",className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t-2 border-gray-300 shadow-lg z-50 pb-safe"},React.createElement("div",{className:"flex flex-nowrap items-center gap-2 px-2 py-2 overflow-x-auto no-scrollbar"},Oi.map(e=>React.createElement("button",{key:e.id,onClick:()=>{be(e.id)},className:`flex flex-col items-center justify-center px-2 py-2 rounded-lg transition-all flex-shrink-0 ${_===e.id?"text-blue-600 bg-blue-50":"text-gray-600"}`},React.createElement("i",{"data-lucide":e.icon,className:"w-6 h-6 mb-1"}),React.createElement("span",{className:"text-xs font-medium"},e.name))),es.length>0&&React.createElement("button",{onClick:()=>Wt(!0),className:"flex flex-col items-center justify-center px-2 py-2 rounded-lg transition-all flex-shrink-0 text-gray-600"},React.createElement("i",{"data-lucide":"more-horizontal",className:"w-6 h-6 mb-1"}),React.createElement("span",{className:"text-xs font-medium"},"More")))),Rr&&es.length>0&&React.createElement("div",{className:"md:hidden fixed inset-0 z-50 bg-black bg-opacity-40",onClick:()=>Wt(!1)},React.createElement("div",{className:"absolute bottom-0 left-0 right-0 bg-white rounded-t-2xl p-4 space-y-2",onClick:e=>e.stopPropagation()},React.createElement("div",{className:"flex items-center justify-between mb-2"},React.createElement("h3",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},"More"),React.createElement("button",{onClick:()=>Wt(!1),className:"text-gray-500"},React.createElement("i",{"data-lucide":"x",className:"w-5 h-5"}))),React.createElement("div",{className:"grid grid-cols-3 gap-3"},es.map(e=>React.createElement("button",{key:e.id,onClick:()=>{be(e.id),Wt(!1)},className:`flex flex-col items-center justify-center px-2 py-2 rounded-lg transition-all ${_===e.id?"bg-blue-50 text-blue-600":"text-gray-600"}`},React.createElement("i",{"data-lucide":e.icon,className:"w-6 h-6 mb-1"}),React.createElement("span",{className:"text-xs font-medium"},e.name)))))))},oo=ReactDOM.createRoot(document.getElementById("root"));oo.render(React.createElement(io,null));lucide.createIcons();})();
